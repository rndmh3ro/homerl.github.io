<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="linux,io,trace," />





  <link rel="alternate" href="/atom.xml" title="Homer's Blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0" />






<meta name="description" content="OS version :CentOS 7.2
Trace your IO operation12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849$ yum -y install blktrace$ mount -t debugfs debugfs /sys/kernel/d">
<meta property="og:type" content="article">
<meta property="og:title" content="blktrace">
<meta property="og:url" content="http://yoursite.com/2016/04/01/blktrace/index.html">
<meta property="og:site_name" content="Homer's Blog">
<meta property="og:description" content="OS version :CentOS 7.2
Trace your IO operation12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849$ yum -y install blktrace$ mount -t debugfs debugfs /sys/kernel/d">
<meta property="og:updated_time" content="2016-04-01T09:58:25.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="blktrace">
<meta name="twitter:description" content="OS version :CentOS 7.2
Trace your IO operation12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849$ yum -y install blktrace$ mount -t debugfs debugfs /sys/kernel/d">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>

  <title> blktrace | Homer's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Homer's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tools">
          <a href="/tools" rel="section">
            
              <i class="menu-item-icon fa fa-question-circle fa-fw"></i> <br />
            
            Tools
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'K4XNzEUeT9VohamGXb51','2.0.0');
</script>



    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                blktrace
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-04-01T15:06:39+08:00" content="2016-04-01">
              2016-04-01
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/IO/" itemprop="url" rel="index">
                    <span itemprop="name">IO</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/04/01/blktrace/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/04/01/blktrace/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>OS version :CentOS 7.2</p>
<h3 id="Trace-your-IO-operation"><a href="#Trace-your-IO-operation" class="headerlink" title="Trace your IO operation"></a>Trace your IO operation</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">$ yum -y install blktrace</span><br><span class="line">$ mount -t debugfs debugfs /sys/kernel/debug</span><br><span class="line"></span><br><span class="line">$ mount  | grep sdb1</span><br><span class="line">/dev/sdb1 on /<span class="built_in">local</span>/sdb <span class="built_in">type</span> ext4 (rw,noatime,stripe=128,data=ordered)</span><br><span class="line"></span><br><span class="line"><span class="comment"># With Ordered Mode, journal commits are deferred until the data blocks get written to disk. This guarantees that any blocks in the file will be data written by the application, avoiding a possibility of a security breach</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The path mapping to /dev/sdb1</span></span><br><span class="line">$ <span class="built_in">echo</span> 234 &gt; 234</span><br><span class="line"></span><br><span class="line">Sometimes ,the data is not write to block first</span><br><span class="line">$  cat /tmp/tmp  | grep A</span><br><span class="line">  8,16   6        1     0.000000000  3487  A   W 276480 + 8 &lt;- (8,17) <span class="string">"274432"</span></span><br><span class="line">  8,16   6       10     0.000224890 21268  A FWFS 1422142464 + 8 &lt;- (8,17) 1422140416</span><br><span class="line">  8,16   8        1     0.000070650 21268  A  WS 1422142416 + 8 &lt;- (8,17) 1422140368</span><br><span class="line">  8,16   8        5     0.000075917 21268  A  WS 1422142424 + 8 &lt;- (8,17) 1422140376</span><br><span class="line">  8,16   8        8     0.000078252 21268  A  WS 1422142432 + 8 &lt;- (8,17) 1422140384</span><br><span class="line">  8,16   8       11     0.000079337 21268  A  WS 1422142440 + 8 &lt;- (8,17) 1422140392</span><br><span class="line">  8,16   8       14     0.000080280 21268  A  WS 1422142448 + 8 &lt;- (8,17) 1422140400</span><br><span class="line">  8,16   8       17     0.000081320 21268  A  WS 1422142456 + 8 &lt;- (8,17) 1422140408</span><br><span class="line">  8,16   8       23     5.007945786  3487  A  WM 2056 + 8 &lt;- (8,17) 8</span><br><span class="line">  8,16   8       27     5.007958153  3487  A  WM 11616 + 8 &lt;- (8,17) 9568</span><br><span class="line">  8,16   8       30     5.007961458  3487  A  WM 11736 + 8 &lt;- (8,17) 9688</span><br><span class="line">  8,16   8       33     5.007964866  3487  A  WM 11864 + 8 &lt;- (8,17) 9816</span><br><span class="line">  8,16   8       36     5.007967773  3487  A  WM 77400 + 8 &lt;- (8,17) 75352</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ debugfs -R <span class="string">"icheck <span class="variable">$((274432/8)</span>)"</span> /dev/sdb1</span><br><span class="line">debugfs 1.42.9 (28-Dec-2013)</span><br><span class="line">Block	Inode number</span><br><span class="line">34304	15</span><br><span class="line"></span><br><span class="line">$ ls -li</span><br><span class="line">15 -rw-r--r-- 1 root root     4 Apr 1 04:44 234</span><br><span class="line"></span><br><span class="line">$ debugfs -R <span class="string">"ncheck 15"</span> /dev/sdb1</span><br><span class="line">debugfs 1.42.9 (28-Dec-2013)</span><br><span class="line">Inode	Pathname</span><br><span class="line">15	//234</span><br><span class="line"></span><br><span class="line">$ debugfs -R <span class="string">"icheck <span class="variable">$((1422140416/8)</span>)"</span> /dev/sdb1</span><br><span class="line">debugfs 1.42.9 (28-Dec-2013)</span><br><span class="line">Block	Inode number</span><br><span class="line">177767552	8</span><br><span class="line"></span><br><span class="line">$ debugfs -R <span class="string">"ncheck 8"</span> /dev/sdb1</span><br><span class="line">debugfs 1.42.9 (28-Dec-2013)</span><br><span class="line">Inode	Pathname</span><br></pre></td></tr></table></figure>
<h3 id="Another-example-full-ouput"><a href="#Another-example-full-ouput" class="headerlink" title="Another example full ouput"></a>Another example full ouput</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">8,16   6        1     0.000000000  3487  A   W 276480 + 8 &lt;- (8,17) 274432</span><br><span class="line">8,17   6        2     0.000002502  3487  Q   W 276480 + 8 [kworker/u48:2]</span><br><span class="line">8,17   6        3     0.000006907  3487  G   W 276480 + 8 [kworker/u48:2]</span><br><span class="line">8,17   6        4     0.000008549  3487  P   N [kworker/u48:2]</span><br><span class="line">8,17   6        5     0.000012927  3487  I   W 276480 + 8 [kworker/u48:2]</span><br><span class="line">8,17   6        6     0.000014607  3487  U   N [kworker/u48:2] 1</span><br><span class="line">8,17   6        7     0.000016752  3487  D   W 276480 + 8 [kworker/u48:2]</span><br><span class="line">8,17   6        8     0.000181609     0  C   W 276480 + 8 [0]</span><br><span class="line">8,17   6        9     0.000193086     0  C  WS 1422142416 + 48 [0]</span><br><span class="line">8,16   6       10     0.000224890 21268  A FWFS 1422142464 + 8 &lt;- (8,17) 1422140416</span><br><span class="line">8,17   6       11     0.000225858 21268  Q FWFS 1422142464 + 8 [(null)]</span><br><span class="line">8,17   6       12     0.000227028 21268  G FWFS 1422142464 + 8 [(null)]</span><br><span class="line">8,17   6       13     0.000228290 21268  I FWFS 1422142464 + 8 [(null)]</span><br><span class="line">8,17   6       14     0.000245577    86  D  WS 1422142464 + 8 [ksoftirqd/6]</span><br><span class="line">8,17   6       15     0.000283198     0  C  WS 1422142464 + 8 [0]</span><br><span class="line">8,17   6       16     0.000302660    86  C  WS 1422142464 [0]</span><br><span class="line">8,16   8        1     0.000070650 21268  A  WS 1422142416 + 8 &lt;- (8,17) 1422140368</span><br><span class="line">8,17   8        2     0.000071762 21268  Q  WS 1422142416 + 8 [jbd2/sdb1-8]</span><br><span class="line">8,17   8        3     0.000074135 21268  G  WS 1422142416 + 8 [jbd2/sdb1-8]</span><br><span class="line">8,17   8        4     0.000074820 21268  P   N [jbd2/sdb1-8]</span><br><span class="line">8,16   8        5     0.000075917 21268  A  WS 1422142424 + 8 &lt;- (8,17) 1422140376</span><br><span class="line">8,17   8        6     0.000076175 21268  Q  WS 1422142424 + 8 [jbd2/sdb1-8]</span><br><span class="line">8,17   8        7     0.000077402 21268  M  WS 1422142424 + 8 [jbd2/sdb1-8]</span><br><span class="line">8,16   8        8     0.000078252 21268  A  WS 1422142432 + 8 &lt;- (8,17) 1422140384</span><br><span class="line">8,17   8        9     0.000078447 21268  Q  WS 1422142432 + 8 [jbd2/sdb1-8]</span><br><span class="line">8,17   8       10     0.000078772 21268  M  WS 1422142432 + 8 [jbd2/sdb1-8]</span><br><span class="line">8,16   8       11     0.000079337 21268  A  WS 1422142440 + 8 &lt;- (8,17) 1422140392</span><br><span class="line">8,17   8       12     0.000079550 21268  Q  WS 1422142440 + 8 [jbd2/sdb1-8]</span><br><span class="line">8,17   8       13     0.000079735 21268  M  WS 1422142440 + 8 [jbd2/sdb1-8]</span><br><span class="line">8,16   8       14     0.000080280 21268  A  WS 1422142448 + 8 &lt;- (8,17) 1422140400</span><br><span class="line">8,17   8       15     0.000080527 21268  Q  WS 1422142448 + 8 [jbd2/sdb1-8]</span><br><span class="line">8,17   8       16     0.000080760 21268  M  WS 1422142448 + 8 [jbd2/sdb1-8]</span><br><span class="line">8,16   8       17     0.000081320 21268  A  WS 1422142456 + 8 &lt;- (8,17) 1422140408</span><br><span class="line">8,17   8       18     0.000081485 21268  Q  WS 1422142456 + 8 [jbd2/sdb1-8]</span><br><span class="line">8,17   8       19     0.000081670 21268  M  WS 1422142456 + 8 [jbd2/sdb1-8]</span><br><span class="line">8,17   8       20     0.000083262 21268  I  WS 1422142416 + 48 [jbd2/sdb1-8]</span><br><span class="line">8,17   8       21     0.000084142 21268  U   N [jbd2/sdb1-8] 1</span><br><span class="line">8,17   8       22     0.000085060 21268  D  WS 1422142416 + 48 [jbd2/sdb1-8]</span><br><span class="line">8,17   6       17     5.008137623     0  C  WM 2056 + 8 [0]</span><br><span class="line">8,17   6       18     5.008150935     0  C  WM 11616 + 8 [0]</span><br><span class="line">8,17   6       19     5.008154952     0  C  WM 11736 + 8 [0]</span><br><span class="line">8,17   6       20     5.008158067     0  C  WM 11864 + 8 [0]</span><br><span class="line">8,17   6       21     5.008161054     0  C  WM 77400 + 8 [0]</span><br><span class="line">8,16   8       23     5.007945786  3487  A  WM 2056 + 8 &lt;- (8,17) 8</span><br><span class="line">8,17   8       24     5.007948529  3487  Q  WM 2056 + 8 [kworker/u48:2]</span><br><span class="line">8,17   8       25     5.007953551  3487  G  WM 2056 + 8 [kworker/u48:2]</span><br><span class="line">8,17   8       26     5.007954991  3487  P   N [kworker/u48:2]</span><br><span class="line">8,16   8       27     5.007958153  3487  A  WM 11616 + 8 &lt;- (8,17) 9568</span><br><span class="line">8,17   8       28     5.007958421  3487  Q  WM 11616 + 8 [kworker/u48:2]</span><br><span class="line">8,17   8       29     5.007959753  3487  G  WM 11616 + 8 [kworker/u48:2]</span><br><span class="line">8,16   8       30     5.007961458  3487  A  WM 11736 + 8 &lt;- (8,17) 9688</span><br><span class="line">8,17   8       31     5.007961716  3487  Q  WM 11736 + 8 [kworker/u48:2]</span><br><span class="line">8,17   8       32     5.007962486  3487  G  WM 11736 + 8 [kworker/u48:2]</span><br><span class="line">8,16   8       33     5.007964866  3487  A  WM 11864 + 8 &lt;- (8,17) 9816</span><br><span class="line">8,17   8       34     5.007965153  3487  Q  WM 11864 + 8 [kworker/u48:2]</span><br><span class="line">8,17   8       35     5.007965836  3487  G  WM 11864 + 8 [kworker/u48:2]</span><br><span class="line">8,16   8       36     5.007967773  3487  A  WM 77400 + 8 &lt;- (8,17) 75352</span><br><span class="line">8,17   8       37     5.007968028  3487  Q  WM 77400 + 8 [kworker/u48:2]</span><br><span class="line">8,17   8       38     5.007968623  3487  G  WM 77400 + 8 [kworker/u48:2]</span><br><span class="line">8,17   8       39     5.007971063  3487  I  WM 2056 + 8 [kworker/u48:2]</span><br><span class="line">8,17   8       40     5.007972133  3487  I  WM 11616 + 8 [kworker/u48:2]</span><br><span class="line">8,17   8       41     5.007972898  3487  I  WM 11736 + 8 [kworker/u48:2]</span><br><span class="line">8,17   8       42     5.007973203  3487  I  WM 11864 + 8 [kworker/u48:2]</span><br><span class="line">8,17   8       43     5.007973458  3487  I  WM 77400 + 8 [kworker/u48:2]</span><br><span class="line">8,17   8       44     5.007974278  3487  U   N [kworker/u48:2] 5</span><br><span class="line">8,17   8       45     5.007976613  3487  D  WM 2056 + 8 [kworker/u48:2]</span><br><span class="line">8,17   8       46     5.007991975  3487  D  WM 11616 + 8 [kworker/u48:2]</span><br><span class="line">8,17   8       47     5.007994777  3487  D  WM 11736 + 8 [kworker/u48:2]</span><br><span class="line">8,17   8       48     5.007997552  3487  D  WM 11864 + 8 [kworker/u48:2]</span><br><span class="line">8,17   8       49     5.008000027  3487  D  WM 77400 + 8 [kworker/u48:2]</span><br></pre></td></tr></table></figure>
<p><a href="https://ext4.wiki.kernel.org/index.php/Ext3_Data%3DOrdered_vs_Data%3DWriteback_mode" target="_blank" rel="external">ext4 reference</a></p>

      
    </div>

    <div>
      
        
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/linux/" rel="tag">#linux</a>
          
            <a href="/tags/io/" rel="tag">#io</a>
          
            <a href="/tags/trace/" rel="tag">#trace</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/03/29/golang-bitwise-operators/" rel="next" title="golang bitwise operators">
                <i class="fa fa-chevron-left"></i> golang bitwise operators
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/img/WrzoBNs.jpg"
               alt="Homer Li" />
          <p class="site-author-name" itemprop="name">Homer Li</p>
          <p class="site-description motion-element" itemprop="description">The chioce you make, the risks you take</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">20</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>
          
          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">43</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/homerl/" target="_blank">
                  
                    <i class="fa fa-github"></i> GitHub
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://plus.google.com/u/0/112219574615546910314" target="_blank">
                  
                    <i class="fa fa-globe"></i> G+
                  
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator">
            <i class="fa fa-angle-double-up"></i>
          </div>
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Trace-your-IO-operation"><span class="nav-number">1.</span> <span class="nav-text">Trace your IO operation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Another-example-full-ouput"><span class="nav-number">2.</span> <span class="nav-text">Another example full ouput</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator">
            <i class="fa fa-angle-double-down"></i>
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Homer Li</span>
&nbsp&nbsp&nbsp Pageviews: <span id="busuanzi_value_site_pv"></span> &nbsp&nbsp&nbsp
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
&nbsp&nbsp&nbsp You are the <span id="busuanzi_value_site_uv"></span>th visitor &nbsp&nbsp&nbsp
</div>



      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  


  




<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  

  
  
<script type="text/javascript" src="/js/src/scrollspy.js?v=0.5.0"></script>

<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 1 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = NexT.utils.escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    NexT.motion.middleWares.sidebar = function () {
      var $tocContent = $('.post-toc-content');

      if (CONFIG.scheme !== 'Pisces' && (CONFIG.sidebar.display === 'post' || CONFIG.sidebar.display === 'always')) {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          NexT.utils.displaySidebar();
        }
      }
    };
  });
</script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'homersblog';
      var disqus_identifier = '2016/04/01/blktrace/';
      var disqus_title = 'blktrace';
      var disqus_url = 'http://yoursite.com/2016/04/01/blktrace/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
        run_disqus_script('embed.js');
      
    </script>
  



  
  
  

  


</body>
</html>
