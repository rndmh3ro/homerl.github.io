<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Homer&#39;s Blog</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-11-21T09:11:37.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Homer Li</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>linux_errno</title>
    <link href="http://yoursite.com/2017/11/21/linux-errno/"/>
    <id>http://yoursite.com/2017/11/21/linux-errno/</id>
    <published>2017-11-21T06:03:54.000Z</published>
    <updated>2017-11-21T09:11:37.000Z</updated>
    
    <content type="html">&lt;p&gt;Get it from&lt;br&gt;/usr/include/asm-generic/errno.h&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#ifndef _ASM_GENERIC_ERRNO_H&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define _ASM_GENERIC_ERRNO_H&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#include &amp;lt;asm-generic/errno-base.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EDEADLK		35	/* Resource deadlock would occur */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENAMETOOLONG	36	/* File name too long */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOLCK		37	/* No record locks available */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOSYS		38	/* Function not implemented */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTEMPTY	39	/* Directory not empty */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ELOOP		40	/* Too many symbolic links encountered */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EWOULDBLOCK	EAGAIN	/* Operation would block */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOMSG		42	/* No message of desired type */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EIDRM		43	/* Identifier removed */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ECHRNG		44	/* Channel number out of range */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EL2NSYNC	45	/* Level 2 not synchronized */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EL3HLT		46	/* Level 3 halted */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EL3RST		47	/* Level 3 reset */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ELNRNG		48	/* Link number out of range */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EUNATCH		49	/* Protocol driver not attached */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOCSI		50	/* No CSI structure available */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EL2HLT		51	/* Level 2 halted */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBADE		52	/* Invalid exchange */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBADR		53	/* Invalid request descriptor */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EXFULL		54	/* Exchange full */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOANO		55	/* No anode */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBADRQC		56	/* Invalid request code */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBADSLT		57	/* Invalid slot */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EDEADLOCK	EDEADLK&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBFONT		59	/* Bad font file format */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOSTR		60	/* Device not a stream */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENODATA		61	/* No data available */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ETIME		62	/* Timer expired */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOSR		63	/* Out of streams resources */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENONET		64	/* Machine is not on the network */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOPKG		65	/* Package not installed */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EREMOTE		66	/* Object is remote */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOLINK		67	/* Link has been severed */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EADV		68	/* Advertise error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ESRMNT		69	/* Srmount error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ECOMM		70	/* Communication error on send */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EPROTO		71	/* Protocol error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EMULTIHOP	72	/* Multihop attempted */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EDOTDOT		73	/* RFS specific error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBADMSG		74	/* Not a data message */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EOVERFLOW	75	/* Value too large for defined data type */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTUNIQ	76	/* Name not unique on network */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBADFD		77	/* File descriptor in bad state */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EREMCHG		78	/* Remote address changed */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ELIBACC		79	/* Can not access a needed shared library */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ELIBBAD		80	/* Accessing a corrupted shared library */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ELIBSCN		81	/* .lib section in a.out corrupted */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ELIBMAX		82	/* Attempting to link in too many shared libraries */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ELIBEXEC	83	/* Cannot exec a shared library directly */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EILSEQ		84	/* Illegal byte sequence */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ERESTART	85	/* Interrupted system call should be restarted */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ESTRPIPE	86	/* Streams pipe error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EUSERS		87	/* Too many users */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTSOCK	88	/* Socket operation on non-socket */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EDESTADDRREQ	89	/* Destination address required */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EMSGSIZE	90	/* Message too long */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EPROTOTYPE	91	/* Protocol wrong type for socket */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOPROTOOPT	92	/* Protocol not available */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EPROTONOSUPPORT	93	/* Protocol not supported */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ESOCKTNOSUPPORT	94	/* Socket type not supported */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EOPNOTSUPP	95	/* Operation not supported on transport endpoint */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EPFNOSUPPORT	96	/* Protocol family not supported */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EAFNOSUPPORT	97	/* Address family not supported by protocol */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EADDRINUSE	98	/* Address already in use */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EADDRNOTAVAIL	99	/* Cannot assign requested address */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENETDOWN	100	/* Network is down */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENETUNREACH	101	/* Network is unreachable */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENETRESET	102	/* Network dropped connection because of reset */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ECONNABORTED	103	/* Software caused connection abort */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ECONNRESET	104	/* Connection reset by peer */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOBUFS		105	/* No buffer space available */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EISCONN		106	/* Transport endpoint is already connected */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTCONN	107	/* Transport endpoint is not connected */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ESHUTDOWN	108	/* Cannot send after transport endpoint shutdown */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ETOOMANYREFS	109	/* Too many references: cannot splice */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ETIMEDOUT	110	/* Connection timed out */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ECONNREFUSED	111	/* Connection refused */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EHOSTDOWN	112	/* Host is down */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EHOSTUNREACH	113	/* No route to host */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EALREADY	114	/* Operation already in progress */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EINPROGRESS	115	/* Operation now in progress */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ESTALE		116	/* Stale file handle */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EUCLEAN		117	/* Structure needs cleaning */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTNAM		118	/* Not a XENIX named type file */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENAVAIL		119	/* No XENIX semaphores available */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EISNAM		120	/* Is a named type file */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EREMOTEIO	121	/* Remote I/O error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EDQUOT		122	/* Quota exceeded */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOMEDIUM	123	/* No medium found */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EMEDIUMTYPE	124	/* Wrong medium type */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ECANCELED	125	/* Operation Canceled */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOKEY		126	/* Required key not available */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EKEYEXPIRED	127	/* Key has expired */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EKEYREVOKED	128	/* Key has been revoked */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EKEYREJECTED	129	/* Key was rejected by service */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/* &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; robust mutexes */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EOWNERDEAD	130	/* Owner died */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTRECOVERABLE	131	/* State not recoverable */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define ERFKILL		132	/* Operation not possible due to RF-kill */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define EHWPOISON	133	/* Memory page has hardware error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#endif&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;/usr/include/asm-generic/errno-base.h&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#ifndef _ASM_GENERIC_ERRNO_BASE_H&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define _ASM_GENERIC_ERRNO_BASE_H&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EPERM		 1	/* Operation not permitted */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOENT		 2	/* No such file or directory */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ESRCH		 3	/* No such process */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EINTR		 4	/* Interrupted system call */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EIO		 5	/* I/O error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENXIO		 6	/* No such device or address */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	E2BIG		 7	/* Argument list too long */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOEXEC		 8	/* Exec format error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBADF		 9	/* Bad file number */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ECHILD		10	/* No child processes */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EAGAIN		11	/* Try again */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOMEM		12	/* Out of memory */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EACCES		13	/* Permission denied */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EFAULT		14	/* Bad address */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTBLK		15	/* Block device required */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBUSY		16	/* Device or resource busy */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EEXIST		17	/* File exists */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EXDEV		18	/* Cross-device link */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENODEV		19	/* No such device */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTDIR		20	/* Not a directory */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EISDIR		21	/* Is a directory */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EINVAL		22	/* Invalid argument */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENFILE		23	/* File table overflow */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EMFILE		24	/* Too many open files */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTTY		25	/* Not a typewriter */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ETXTBSY		26	/* Text file busy */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EFBIG		27	/* File too large */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOSPC		28	/* No space left on device */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ESPIPE		29	/* Illegal seek */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EROFS		30	/* Read-only file system */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EMLINK		31	/* Too many links */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EPIPE		32	/* Broken pipe */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EDOM		33	/* Math argument out of domain of func */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ERANGE		34	/* Math result not representable */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#endif&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Get it from&lt;br&gt;/usr/include/asm-generic/errno.h&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="unix" scheme="http://yoursite.com/tags/unix/"/>
    
      <category term="posix" scheme="http://yoursite.com/tags/posix/"/>
    
  </entry>
  
  <entry>
    <title>system call</title>
    <link href="http://yoursite.com/2017/11/09/system_call/"/>
    <id>http://yoursite.com/2017/11/09/system_call/</id>
    <published>2017-11-09T08:22:12.000Z</published>
    <updated>2017-11-09T08:25:13.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;a href=&quot;https://www.ibm.com/developerworks/cn/linux/kernel/syscall/part1/appendix.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.ibm.com/developerworks/cn/linux/kernel/syscall/part1/appendix.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.ibm.com/developerworks/cn/linux/kernel/syscall/part2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.ibm.com/developerworks/cn/linux/kernel/syscall/part2&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.ibm.com/developerworks/cn/linux/kernel/syscall/part3&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.ibm.com/developerworks/cn/linux/kernel/syscall/part3&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.ibm.com/developerworks/cn/linux/kernel/syscall/part4&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.ibm.com/developerworks/cn/linux/kernel/syscall/part4&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;一、进程控制：&lt;br&gt;fork    创建一个新进程&lt;br&gt;clone    按指定条件创建子进程&lt;br&gt;execve    运行可执行文件&lt;br&gt;exit    中止进程&lt;br&gt;_exit    立即中止当前进程&lt;br&gt;getdtablesize    进程所能打开的最大文件数&lt;br&gt;getpgid    获取指定进程组标识号&lt;br&gt;setpgid    设置指定进程组标志号&lt;br&gt;getpgrp    获取当前进程组标识号&lt;br&gt;setpgrp    设置当前进程组标志号&lt;br&gt;getpid    获取进程标识号&lt;br&gt;getppid    获取父进程标识号&lt;br&gt;getpriority    获取调度优先级&lt;br&gt;setpriority    设置调度优先级&lt;br&gt;modify_ldt    读写进程的本地描述表&lt;br&gt;nanosleep    使进程睡眠指定的时间&lt;br&gt;nice    改变分时进程的优先级&lt;br&gt;pause    挂起进程，等待信号&lt;br&gt;personality    设置进程运行域&lt;br&gt;prctl    对进程进行特定操作&lt;br&gt;ptrace    进程跟踪&lt;br&gt;sched_get_priority_max    取得静态优先级的上限&lt;br&gt;sched_get_priority_min    取得静态优先级的下限&lt;br&gt;sched_getparam    取得进程的调度参数&lt;br&gt;sched_getscheduler    取得指定进程的调度策略&lt;br&gt;sched_rr_get_interval    取得按RR算法调度的实时进程的时间片长度&lt;br&gt;sched_setparam    设置进程的调度参数&lt;br&gt;sched_setscheduler    设置指定进程的调度策略和参数&lt;br&gt;sched_yield    进程主动让出处理器,并将自己等候调度队列队尾&lt;br&gt;vfork    创建一个子进程，以供执行新程序，常与execve等同时使用&lt;br&gt;wait    等待子进程终止&lt;br&gt;wait3    参见wait&lt;br&gt;waitpid    等待指定子进程终止&lt;br&gt;wait4    参见waitpid&lt;br&gt;capget    获取进程权限&lt;br&gt;capset    设置进程权限&lt;br&gt;getsid    获取会晤标识号&lt;br&gt;setsid    设置会晤标识号&lt;br&gt;二、文件系统控制&lt;br&gt;1、文件读写操作&lt;br&gt;fcntl    文件控制&lt;br&gt;open    打开文件&lt;br&gt;creat    创建新文件&lt;br&gt;close    关闭文件描述字&lt;br&gt;read    读文件&lt;br&gt;write    写文件&lt;br&gt;readv    从文件读入数据到缓冲数组中&lt;br&gt;writev    将缓冲数组里的数据写入文件&lt;br&gt;pread    对文件随机读&lt;br&gt;pwrite    对文件随机写&lt;br&gt;lseek    移动文件指针&lt;br&gt;_llseek    在64位地址空间里移动文件指针&lt;br&gt;dup    复制已打开的文件描述字&lt;br&gt;dup2    按指定条件复制文件描述字&lt;br&gt;flock    文件加/解锁&lt;br&gt;poll    I/O多路转换&lt;br&gt;truncate    截断文件&lt;br&gt;ftruncate    参见truncate&lt;br&gt;umask    设置文件权限掩码&lt;br&gt;fsync    把文件在内存中的部分写回磁盘&lt;br&gt;2、文件系统操作&lt;br&gt;access    确定文件的可存取性&lt;br&gt;chdir    改变当前工作目录&lt;br&gt;fchdir    参见chdir&lt;br&gt;chmod    改变文件方式&lt;br&gt;fchmod    参见chmod&lt;br&gt;chown    改变文件的属主或用户组&lt;br&gt;fchown    参见chown&lt;br&gt;lchown    参见chown&lt;br&gt;chroot    改变根目录&lt;br&gt;stat    取文件状态信息&lt;br&gt;lstat    参见stat&lt;br&gt;fstat    参见stat&lt;br&gt;statfs    取文件系统信息&lt;br&gt;fstatfs    参见statfs&lt;br&gt;readdir    读取目录项&lt;br&gt;getdents    读取目录项&lt;br&gt;mkdir    创建目录&lt;br&gt;mknod    创建索引节点&lt;br&gt;rmdir    删除目录&lt;br&gt;rename    文件改名&lt;br&gt;link    创建链接&lt;br&gt;symlink    创建符号链接&lt;br&gt;unlink    删除链接&lt;br&gt;readlink    读符号链接的值&lt;br&gt;mount    安装文件系统&lt;br&gt;umount    卸下文件系统&lt;br&gt;ustat    取文件系统信息&lt;br&gt;utime    改变文件的访问修改时间&lt;br&gt;utimes    参见utime&lt;br&gt;quotactl    控制磁盘配额&lt;br&gt;三、系统控制&lt;br&gt;ioctl    I/O总控制函数&lt;br&gt;_sysctl    读/写系统参数&lt;br&gt;acct    启用或禁止进程记账&lt;br&gt;getrlimit    获取系统资源上限&lt;br&gt;setrlimit    设置系统资源上限&lt;br&gt;getrusage    获取系统资源使用情况&lt;br&gt;uselib    选择要使用的二进制函数库&lt;br&gt;ioperm    设置端口I/O权限&lt;br&gt;iopl    改变进程I/O权限级别&lt;br&gt;outb    低级端口操作&lt;br&gt;reboot    重新启动&lt;br&gt;swapon    打开交换文件和设备&lt;br&gt;swapoff    关闭交换文件和设备&lt;br&gt;bdflush    控制bdflush守护进程&lt;br&gt;sysfs    取核心支持的文件系统类型&lt;br&gt;sysinfo    取得系统信息&lt;br&gt;adjtimex    调整系统时钟&lt;br&gt;alarm    设置进程的闹钟&lt;br&gt;getitimer    获取计时器值&lt;br&gt;setitimer    设置计时器值&lt;br&gt;gettimeofday    取时间和时区&lt;br&gt;settimeofday    设置时间和时区&lt;br&gt;stime    设置系统日期和时间&lt;br&gt;time    取得系统时间&lt;br&gt;times    取进程运行时间&lt;br&gt;uname    获取当前UNIX系统的名称、版本和主机等信息&lt;br&gt;vhangup    挂起当前终端&lt;br&gt;nfsservctl    对NFS守护进程进行控制&lt;br&gt;vm86    进入模拟8086模式&lt;br&gt;create_module    创建可装载的模块项&lt;br&gt;delete_module    删除可装载的模块项&lt;br&gt;init_module    初始化模块&lt;br&gt;query_module    查询模块信息&lt;br&gt;&lt;em&gt;get_kernel_syms    取得核心符号,已被query_module代替&lt;br&gt;四、内存管理&lt;br&gt;brk    改变数据段空间的分配&lt;br&gt;sbrk    参见brk&lt;br&gt;mlock    内存页面加锁&lt;br&gt;munlock    内存页面解锁&lt;br&gt;mlockall    调用进程所有内存页面加锁&lt;br&gt;munlockall    调用进程所有内存页面解锁&lt;br&gt;mmap    映射虚拟内存页&lt;br&gt;munmap    去除内存页映射&lt;br&gt;mremap    重新映射虚拟内存地址&lt;br&gt;msync    将映射内存中的数据写回磁盘&lt;br&gt;mprotect    设置内存映像保护&lt;br&gt;getpagesize    获取页面大小&lt;br&gt;sync    将内存缓冲区数据写回硬盘&lt;br&gt;cacheflush    将指定缓冲区中的内容写回磁盘&lt;br&gt;五、网络管理&lt;br&gt;getdomainname    取域名&lt;br&gt;setdomainname    设置域名&lt;br&gt;gethostid    获取主机标识号&lt;br&gt;sethostid    设置主机标识号&lt;br&gt;gethostname    获取本主机名称&lt;br&gt;sethostname    设置主机名称&lt;br&gt;六、socket控制&lt;br&gt;socketcall    socket系统调用&lt;br&gt;socket    建立socket&lt;br&gt;bind    绑定socket到端口&lt;br&gt;connect    连接远程主机&lt;br&gt;accept    响应socket连接请求&lt;br&gt;send    通过socket发送信息&lt;br&gt;sendto    发送UDP信息&lt;br&gt;sendmsg    参见send&lt;br&gt;recv    通过socket接收信息&lt;br&gt;recvfrom    接收UDP信息&lt;br&gt;recvmsg    参见recv&lt;br&gt;listen    监听socket端口&lt;br&gt;select    对多路同步I/O进行轮询&lt;br&gt;shutdown    关闭socket上的连接&lt;br&gt;getsockname    取得本地socket名字&lt;br&gt;getpeername    获取通信对方的socket名字&lt;br&gt;getsockopt    取端口设置&lt;br&gt;setsockopt    设置端口参数&lt;br&gt;sendfile    在文件或端口间传输数据&lt;br&gt;socketpair    创建一对已联接的无名socket&lt;br&gt;七、用户管理&lt;br&gt;getuid    获取用户标识号&lt;br&gt;setuid    设置用户标志号&lt;br&gt;getgid    获取组标识号&lt;br&gt;setgid    设置组标志号&lt;br&gt;getegid    获取有效组标识号&lt;br&gt;setegid    设置有效组标识号&lt;br&gt;geteuid    获取有效用户标识号&lt;br&gt;seteuid    设置有效用户标识号&lt;br&gt;setregid    分别设置真实和有效的的组标识号&lt;br&gt;setreuid    分别设置真实和有效的用户标识号&lt;br&gt;getresgid    分别获取真实的,有效的和保存过的组标识号&lt;br&gt;setresgid    分别设置真实的,有效的和保存过的组标识号&lt;br&gt;getresuid    分别获取真实的,有效的和保存过的用户标识号&lt;br&gt;setresuid    分别设置真实的,有效的和保存过的用户标识号&lt;br&gt;setfsgid    设置文件系统检查时使用的组标识号&lt;br&gt;setfsuid    设置文件系统检查时使用的用户标识号&lt;br&gt;getgroups    获取后补组标志清单&lt;br&gt;setgroups    设置后补组标志清单&lt;br&gt;八、进程间通信&lt;br&gt;ipc    进程间通信总控制调用&lt;br&gt;1、信号&lt;br&gt;sigaction    设置对指定信号的处理方法&lt;br&gt;sigprocmask    根据参数对信号集中的信号执行阻塞/解除阻塞等操作&lt;br&gt;sigpending    为指定的被阻塞信号设置队列&lt;br&gt;sigsuspend    挂起进程等待特定信号&lt;br&gt;signal    参见signal&lt;br&gt;kill    向进程或进程组发信号
&lt;/em&gt;sigblock    向被阻塞信号掩码中添加信号,已被sigprocmask代替&lt;br&gt;&lt;em&gt;siggetmask    取得现有阻塞信号掩码,已被sigprocmask代替
&lt;/em&gt;sigsetmask    用给定信号掩码替换现有阻塞信号掩码,已被sigprocmask代替&lt;br&gt;&lt;em&gt;sigmask    将给定的信号转化为掩码,已被sigprocmask代替
&lt;/em&gt;sigpause    作用同sigsuspend,已被sigsuspend代替&lt;br&gt;sigvec    为兼容BSD而设的信号处理函数,作用类似sigaction&lt;br&gt;ssetmask    ANSI C的信号处理函数,作用类似sigaction&lt;br&gt;2、消息&lt;br&gt;msgctl    消息控制操作&lt;br&gt;msgget    获取消息队列&lt;br&gt;msgsnd    发消息&lt;br&gt;msgrcv    取消息&lt;br&gt;3、管道&lt;br&gt;pipe    创建管道&lt;br&gt;4、信号量&lt;br&gt;semctl    信号量控制&lt;br&gt;semget    获取一组信号量&lt;br&gt;semop    信号量操作&lt;br&gt;5、共享内存&lt;br&gt;shmctl    控制共享内存&lt;br&gt;shmget    获取共享内存&lt;br&gt;shmat    连接共享内存&lt;br&gt;shmdt    拆卸共享内存&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.ibm.com/developerworks/cn/linux/kernel/syscall/part1/appendix.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.ibm.c
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="unix" scheme="http://yoursite.com/tags/unix/"/>
    
      <category term="posix" scheme="http://yoursite.com/tags/posix/"/>
    
  </entry>
  
  <entry>
    <title>scsi tips</title>
    <link href="http://yoursite.com/2017/10/26/scsi_tips/"/>
    <id>http://yoursite.com/2017/10/26/scsi_tips/</id>
    <published>2017-10-26T14:39:34.000Z</published>
    <updated>2017-11-09T07:38:25.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;sg3-utils&quot;&gt;&lt;a href=&quot;#sg3-utils&quot; class=&quot;headerlink&quot; title=&quot;sg3_utils&quot;&gt;&lt;/a&gt;sg3_utils&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sg_ses /dev/sg129 -p0x2 -I2,1 -j&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;这个命令的I后面是2就是风扇，1是电源，3是温度&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;然后命令的倒数第2个参数，例如上面命令的1， 就代表第1个风扇，是0，就代表第0个风扇，3就代表第3个风扇&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Smart-check&quot;&gt;&lt;a href=&quot;#Smart-check&quot; class=&quot;headerlink&quot; title=&quot;Smart check&quot;&gt;&lt;/a&gt;Smart check&lt;/h4&gt;&lt;p&gt;Phy reset problem&lt;/p&gt;
&lt;p&gt;Running disparity error count&lt;br&gt;A binary value indicating the cumulative encoded signal imbalance between the one and zero signal state of all characters since dword synchronization has been achieved.&lt;br&gt;&lt;a href=&quot;https://www.seagate.com/staticfiles/support/disc/manuals/Interface%20manuals/100293071c.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;for more scsi info&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;loss of DWORD synchroization&lt;br&gt;These errors mean that there is a problem in the link between the drive and the upstream port, if you have a cable in there the cable may be bad, if not it means one of the port is bad. Ofcourse even if you have a cable it can still mean one of the ports is bad.&lt;br&gt;The way to diagnose it is to use a different disk in the same slot and see if the error goes away or not, if it went away the disk is bad. If the error stayed the original disk is fine but the port on the server/chassis is bad and the server/chassis needs to be replaced.&lt;br&gt;The issue with loss of dword synchronization is that it means additional retries for some sent IOs and it will increase the latency of IOs by way of waiting more for data transmission due to these retransmits.&lt;/p&gt;
&lt;p&gt;SCSI errors in messages&lt;br&gt;“scsi data underrun”&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mpt3sas_cm0:   handle(0x002d), ioc_status(scsi data underrun)(0x0045), smid(222)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mpt3sas_cm0:   scsi_status(check condition)(0x02), scsi_state(autosense valid )(0x01)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mpt3sas_cm0:   [sense_key,asc,ascq]: [0x06,0x2a,0x01], count(96)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;“REPORT_LUNS handle retries”&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mpt2sas0: REPORT_LUNS: handle(0x000a), retries(0)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://gist.github.com/jaseywang/3786679&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Replace HDDs&lt;/a&gt;&lt;br&gt;(SAS Serial SCSI Protocol) SSP handle&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Sep 26 15:03:03 wtf kernel: [5640834.981956] mpt2sas0: removing handle(0x000c), sas_addr(0x50014ee30011c706)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sep 26 15:04:48 wtf kernel: [5640939.604300] scsi 0:0:13:0: Direct-Access     SEAGATE  ST2000NM0001     PS06 PQ: 0 ANSI: 6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sep 26 15:04:48 wtf kernel: [5640939.604308] scsi 0:0:13:0: SSP: handle(0x0018), sas_addr(0x5000c50041f753c5), device_name(0x0000000000000000)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sep 26 15:04:48 wtf kernel: [5640939.604312] scsi 0:0:13:0: SSP: enclosure_logical_id(0x500065b37689abff), slot(4)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sep 26 15:04:48 wtf kernel: [5640939.604316] scsi 0:0:13:0: qdepth(254), tagged(1), simple(1), ordered(0), scsi_level(7), cmd_que(1)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sep 26 15:04:48 wtf kernel: [5640939.604766] sd 0:0:13:0: Attached scsi generic sg1 &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sep 26 15:04:48 wtf kernel: [5640939.605237] sd 0:0:13:0: [sdb] 3907029168 512-byte logical blocks: (2.00 TB/1.81 TiB)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sep 26 15:04:48 wtf kernel: [5640939.606128] sd 0:0:13:0: [sdb] Write Protect is off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sep 26 15:04:48 wtf kernel: [5640939.606567] sd 0:0:13:0: [sdb] Write cache: enabled, &lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt; cache: enabled, supports DPO and FUA&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sep 26 15:04:48 wtf kernel: [5640939.607915]  sdb: unknown partition table&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sep 26 15:04:48 wtf kernel: [5640939.635779] sd 0:0:13:0: [sdb] Attached SCSI disk&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sep 26 15:05:46 wtf kernel: [5640997.134363]  sdb: sdb1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;You can enable SCSI logging using echo 0x010401cd &amp;gt; /proc/sys/dev/scsi/logging_level&lt;/p&gt;
&lt;p&gt;显示当前级别：&lt;/p&gt;
&lt;h1 id=&quot;sysctl-dev-scsi-logging-level&quot;&gt;&lt;a href=&quot;#sysctl-dev-scsi-logging-level&quot; class=&quot;headerlink&quot; title=&quot;sysctl dev.scsi.logging_level&quot;&gt;&lt;/a&gt;sysctl dev.scsi.logging_level&lt;/h1&gt;&lt;p&gt;dev.scsi.logging_level = 0&lt;br&gt;如果不是级别 128，请启用级别 128：&lt;/p&gt;
&lt;h1 id=&quot;sysctl-w-dev-scsi-logging-level-128&quot;&gt;&lt;a href=&quot;#sysctl-w-dev-scsi-logging-level-128&quot; class=&quot;headerlink&quot; title=&quot;sysctl -w dev.scsi.logging_level=128&quot;&gt;&lt;/a&gt;sysctl -w dev.scsi.logging_level=128&lt;/h1&gt;&lt;p&gt;dev.scsi.logging_level = 128&lt;br&gt;要获取短时间内的非常详细的 scsi 日志记录，请启用级别 -1：&lt;/p&gt;
&lt;h1 id=&quot;sysctl-w-dev-scsi-logging-level-1&quot;&gt;&lt;a href=&quot;#sysctl-w-dev-scsi-logging-level-1&quot; class=&quot;headerlink&quot; title=&quot;sysctl -w dev.scsi.logging_level=-1&quot;&gt;&lt;/a&gt;sysctl -w dev.scsi.logging_level=-1&lt;/h1&gt;&lt;p&gt;dev.scsi.logging_level = -1&lt;br&gt;日志输出将位于 /var/log/messages 中。&lt;br&gt;```&lt;/p&gt;
&lt;p&gt;scsi debug&lt;br&gt;scsi_logging_level syntax&lt;br&gt;Read syntax diagramSkip visual syntax diagram&lt;br&gt;                       .- —————————.&lt;br&gt;                       V                             |             &lt;/p&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;-scsi_logging_level—-+————————-+-+–+- -s -+-&amp;gt;&amp;lt;&lt;br&gt;                         +- -a– &lt;level&gt;———–+    +- -g -+&lt;br&gt;                         +- -E– &lt;level&gt;———–+    ‘- -c -‘&lt;br&gt;                         +- -T– &lt;level&gt;———–+&lt;br&gt;                         +- -S– &lt;level&gt;———–+&lt;br&gt;                         +- -M– &lt;level&gt;———–+&lt;br&gt;                         +- –mlqueue– &lt;level&gt;—-+&lt;br&gt;                         +- –mlcomplete– &lt;level&gt;-+&lt;br&gt;                         +- -L– &lt;level&gt;———–+&lt;br&gt;                         +- –llqueue– &lt;level&gt;—-+&lt;br&gt;                         +- –llcomplete– &lt;level&gt;-+&lt;br&gt;                         +- -H– &lt;level&gt;———–+&lt;br&gt;                         +- –hlqueue– &lt;level&gt;—-+&lt;br&gt;                         +- –hlcomplete– &lt;level&gt;-+&lt;br&gt;                         ‘- -I– &lt;level&gt;———–’&lt;/level&gt;&lt;/level&gt;&lt;/level&gt;&lt;/level&gt;&lt;/level&gt;&lt;/level&gt;&lt;/level&gt;&lt;/level&gt;&lt;/level&gt;&lt;/level&gt;&lt;/level&gt;&lt;/level&gt;&lt;/level&gt;&lt;/level&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;scsi_logging_level -g&lt;br&gt;Current scsi logging level:&lt;br&gt;dev.scsi.logging_level = 0&lt;br&gt;SCSI_LOG_ERROR=0&lt;br&gt;SCSI_LOG_TIMEOUT=0&lt;br&gt;SCSI_LOG_SCAN=0&lt;br&gt;SCSI_LOG_MLQUEUE=0&lt;br&gt;SCSI_LOG_MLCOMPLETE=0&lt;br&gt;SCSI_LOG_LLQUEUE=0&lt;br&gt;SCSI_LOG_LLCOMPLETE=0&lt;br&gt;SCSI_LOG_HLQUEUE=0&lt;br&gt;SCSI_LOG_HLCOMPLETE=0&lt;br&gt;SCSI_LOG_IOCTL=0&lt;/p&gt;
&lt;p&gt;scsi_logging_level –hlqueue 3 –highlevel 2 –all 1 -s&lt;br&gt;New scsi logging level:&lt;br&gt;dev.scsi.logging_level = 174363209&lt;br&gt;SCSI_LOG_ERROR=1&lt;br&gt;SCSI_LOG_TIMEOUT=1&lt;br&gt;SCSI_LOG_SCAN=1&lt;br&gt;SCSI_LOG_MLQUEUE=1&lt;br&gt;SCSI_LOG_MLCOMPLETE=1&lt;br&gt;SCSI_LOG_LLQUEUE=1&lt;br&gt;SCSI_LOG_LLCOMPLETE=1&lt;br&gt;SCSI_LOG_HLQUEUE=3&lt;br&gt;SCSI_LOG_HLCOMPLETE=2&lt;br&gt;SCSI_LOG_IOCTL=1&lt;br&gt;&lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/en/linuxonibm/com.ibm.linux.z.lgdd/lgdd_r_scsilog_cmd.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.ibm.com/support/knowledgecenter/en/linuxonibm/com.ibm.linux.z.lgdd/lgdd_r_scsilog_cmd.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The definitions can be found in&lt;br&gt;&lt;a href=&quot;https://en.opensuse.org/SDB:SCSI_debugging_hints&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://en.opensuse.org/SDB:SCSI_debugging_hints&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;drivers/scsi/scsi_logging.h&lt;br&gt;The possible areas are:&lt;/p&gt;
&lt;p&gt;ERROR&lt;br&gt;Used by any command which has to be retried/recovered via the SCSI error handling mechanism&lt;br&gt;TIMEOUT&lt;br&gt;Used by drivers/scsi/sg.c&lt;br&gt;SCAN&lt;br&gt;Used during device scan, ie whenever a new device / HBA is initialized&lt;br&gt;MLQUEUE&lt;br&gt;Mid-layer queue; requests are being pulled from the block-layer queue and submitted to the HBA&lt;br&gt;MLCOMPLETE&lt;br&gt;Mid-layer queue; requests are being completed by the HBA and results are being pushed back to the block-layer&lt;br&gt;LLQUEUE&lt;br&gt;Low-layer queue; Not used&lt;br&gt;LLCOMPLETE&lt;br&gt;Low-layer queue; Not used&lt;br&gt;HLQUEUE&lt;br&gt;High-layer queue; command preparation in drivers/scsi/sd.c&lt;br&gt;HLCOMPLETE&lt;br&gt;High-layer queue; command completion in drivers/scsi/sd.c&lt;br&gt;IOCTL&lt;br&gt;SCSI IOCTL logging&lt;br&gt;The detailed error level description:&lt;/p&gt;
&lt;p&gt;ERROR&lt;/p&gt;
&lt;p&gt;Error logging when a command is recovered via the SCSI error handling mechanism. The following levels are uses:&lt;/p&gt;
&lt;p&gt;Error handler thread statistics&lt;br&gt;Error handler command statistics&lt;br&gt;Error handler command logging&lt;br&gt;Not used&lt;br&gt;Error handler command details&lt;br&gt;and higher: not used&lt;br&gt;SCAN&lt;/p&gt;
&lt;p&gt;Logging during HBA / target scanning. The following levels are used:&lt;/p&gt;
&lt;p&gt;Logging of unusual devices where LUN 0 has a pqual of 3&lt;br&gt;Logging of devices with pqual 3&lt;br&gt;Logging of SCSI commands sent during scanning&lt;br&gt;and higher: not used.&lt;br&gt;MLQUEUE&lt;/p&gt;
&lt;p&gt;The MLQUEUE area is used when a command is being pulled from the block-layer queue and send to the HBA. It has the following levels:&lt;/p&gt;
&lt;p&gt;nothing (match completion)&lt;br&gt;log opcode + command of all commands&lt;br&gt;same as 2 plus dump cmd address&lt;br&gt;same as 3 plus dump extra junk&lt;br&gt;and higher: not used&lt;br&gt;MLCOMPLETE&lt;/p&gt;
&lt;p&gt;Logging of command completion from the HBA, before the completion is being called for the block-layer request. It has the following levels:&lt;/p&gt;
&lt;p&gt;log disposition, result, opcode + command, and conditionally sense data for failures or non SUCCESS dispositions.&lt;br&gt;same as 1 but for all command completions.&lt;br&gt;same as 2 plus dump cmd address&lt;br&gt;same as 3 plus dump extra junk&lt;br&gt;and higher: not used&lt;br&gt;Starting with SLES10 SP2 there is a command ‘scsi_logging_level’ which allows you to set the areas and levels without having to calculate the bit offsets by hand, very convenient if you want to enable a logging level other than 0xffffffff.&lt;/p&gt;
&lt;p&gt;A useful setting of the logging level without being buried in logging details is ERROR=3, SCAN=3, MLQUEUE=2, MLCOMPLETE=2, which evaluates to&lt;/p&gt;
&lt;p&gt;echo 9411 &amp;gt; /proc/sys/dev/scsi/logging_level&lt;/p&gt;
&lt;p&gt;scsi errors&lt;/p&gt;
&lt;p&gt;LogSense Data&lt;br&gt;LogSense 0x00 00 Log Sense Pages Supported&lt;br&gt;LogSense 0x02 00 Write Errors&lt;br&gt;LogSense 0x03 00 Read Errors&lt;br&gt;LogSense 0x05 00 Verify Errors&lt;br&gt;LogSense 0x06 00 Non-medium Errors&lt;br&gt;LogSense 0x0D 00 Current temperature&lt;br&gt;LogSense 0x0E 00 Mfg Date, Start/Stop,Load/Unload Counters&lt;br&gt;LogSense 0x0F 00 Application Client Log (64 entries)&lt;br&gt;LogSense 0x10 00 Self-Test Results&lt;br&gt;LogSense 0x15 00 Background Media Scan Results&lt;br&gt;LogSense 0x18 00 Protocol Specific Log Parameters&lt;br&gt;LogSense 0x1A 00 Power State Transitiions&lt;br&gt;LogSense 0x2F 00 SMART Status and Temperature Reading&lt;br&gt;LogSense 0x30 00 Performance Counter Information&lt;br&gt;LogSense 0x37 00 Performance Statistics&lt;br&gt;LogSense 0x38 00 Voltage Monitoring Log&lt;br&gt;LogSense 0x3C 00 Helium Status Log (0 entries)&lt;/p&gt;
&lt;p&gt;From the SBC-4 document, here is a list of Log Pages&lt;br&gt;Table 180 — Log page codes and subpage codes for direct access block devices&lt;br&gt;Log page name Page code a Subpage code a Reference&lt;br&gt;Application Client 0Fh 00h SPC-5&lt;br&gt;ATA PASS-THROUGH Results 16h 00h SAT-3&lt;br&gt;Background Scan Results 15h 00h 6.4.2&lt;br&gt;Background Operation 15h 02h 6.4.3&lt;br&gt;Buffer Over-Run/Under-Run 01h 00h SPC-5&lt;br&gt;Cache Memory Statistics 19h 20h SPC-5&lt;br&gt;Environmental Limits 0Dh 02h SPC-5&lt;br&gt;Environmental Reporting 0Dh 01h SPC-5&lt;br&gt;Format Status 08h 00h 6.4.4&lt;br&gt;General Statistics and Performance 19h 00h SPC-5&lt;br&gt;Group Statistics and Performance (1 to 31) 19h 01h to 1Fh SPC-5&lt;br&gt;Informational Exceptions 2Fh 00h SPC-5&lt;br&gt;Last n Deferred Errors Or Asynchronous Events 0Bh 00h SPC-5&lt;br&gt;Last n Error Events 07h 00h SPC-5&lt;br&gt;Logical Block Provisioning 0Ch 00h 6.4.5&lt;br&gt;LPS Misalignment 15h 03h 6.4.6&lt;br&gt;Non-Medium Error 06h 00h SPC-5&lt;br&gt;Non-volatile Cache 17h 00h 6.4.7&lt;br&gt;Pending Defects 15h 01h 6.4.8&lt;br&gt;Power Condition Transitions 1Ah 00h SPC-5&lt;br&gt;Protocol-Specific Ports 18h 00h to FEh SPC-5&lt;br&gt;Read Error Counters 03h 00h SPC-5&lt;br&gt;Self-Test Results 10h 00h SPC-5&lt;br&gt;Solid State Media 11h 00h 6.4.9&lt;br&gt;Start-Stop Cycle Counter 0Eh 00h SPC-5&lt;br&gt;Supported Log Pages 00h 00h SPC-5&lt;br&gt;Supported Log Pages and Subpages 00h FFh SPC-5&lt;br&gt;Supported Subpages 01h to 3Fh FFh SPC-5&lt;br&gt;Temperature 0Dh 00h SPC-5&lt;br&gt;Utilization 0Eh 01h 6.4.10&lt;br&gt;Verify Error Counters 05h 00h SPC-5&lt;br&gt;Write Error Counters 02h 00h SPC-5&lt;br&gt;Vendor specific 30h to 3Eh 00h to FEh n/a&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;sg3-utils&quot;&gt;&lt;a href=&quot;#sg3-utils&quot; class=&quot;headerlink&quot; title=&quot;sg3_utils&quot;&gt;&lt;/a&gt;sg3_utils&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="scsi" scheme="http://yoursite.com/tags/scsi/"/>
    
      <category term="jbod" scheme="http://yoursite.com/tags/jbod/"/>
    
      <category term="monitor" scheme="http://yoursite.com/tags/monitor/"/>
    
  </entry>
  
  <entry>
    <title>Bash tips</title>
    <link href="http://yoursite.com/2017/10/18/Bash-tips/"/>
    <id>http://yoursite.com/2017/10/18/Bash-tips/</id>
    <published>2017-10-18T02:33:38.000Z</published>
    <updated>2017-10-18T02:46:27.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;Termination-Signals-https-www-gnu-org-software-libc-manual-html-node-Termination-Signals-html&quot;&gt;&lt;a href=&quot;#Termination-Signals-https-www-gnu-org-software-libc-manual-html-node-Termination-Signals-html&quot; class=&quot;headerlink&quot; title=&quot;[Termination Signals] (https://www.gnu.org/software/libc/manual/html_node/Termination-Signals.html)&quot;&gt;&lt;/a&gt;[Termination Signals] (&lt;a href=&quot;https://www.gnu.org/software/libc/manual/html_node/Termination-Signals.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.gnu.org/software/libc/manual/html_node/Termination-Signals.html&lt;/a&gt;)&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;1 SIGHUP The SIGHUP (“hang-up”) signal is used to report that the user’s terminal is disconnected, perhaps because a network or telephone connection was broken.&lt;/li&gt;
&lt;li&gt;2 SIGINT The SIGINT (program interrupt) signal is sent when the user types the INTR character (normally C-c).&lt;/li&gt;
&lt;li&gt;3 The SIGQUIT signal is similar to SIGINT, except that it’s controlled by a different key-the QUIT character, usually C--and produces a core dump when it terminates the process, just like a program error signal. You can think of this as a program error condition “detected” by the user&lt;/li&gt;
&lt;li&gt;9 The SIGKILL signal is used to cause immediate program termination. It cannot be handled or ignored, and is therefore always fatal. It is also not possible to block this signal&lt;/li&gt;
&lt;li&gt;15 The SIGTERM signal is a generic signal used to cause program termination. Unlike SIGKILL, this signal can be blocked, handled, and ignored. It is the normal way to politely ask a program to terminate.&lt;h3 id=&quot;Trap&quot;&gt;&lt;a href=&quot;#Trap&quot; class=&quot;headerlink&quot; title=&quot;Trap&quot;&gt;&lt;/a&gt;Trap&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#!/bin/bash&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;mytrap&lt;/span&gt;&lt;/span&gt; () &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; hahahahaha&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;trap&lt;/span&gt; mytrap SIGHUP SIGINT SIGQUIT SIGTERM ERR EXIT&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;myfunc&lt;/span&gt;&lt;/span&gt; () &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;built_in&quot;&gt;trap&lt;/span&gt;  mytrap RETURN&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;comment&quot;&gt;#trap  mytrap EXIT #no output&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;I&#39;ve got a bad feeling about this...&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;myfunc | cat&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sleep 10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Termination-Signals-https-www-gnu-org-software-libc-manual-html-node-Termination-Signals-html&quot;&gt;&lt;a href=&quot;#Termination-Signals-https-w
    
    </summary>
    
      <category term="linux" scheme="http://yoursite.com/categories/linux/"/>
    
    
      <category term="bash" scheme="http://yoursite.com/tags/bash/"/>
    
      <category term="shell" scheme="http://yoursite.com/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>About_nfs</title>
    <link href="http://yoursite.com/2017/08/25/About-nfs/"/>
    <id>http://yoursite.com/2017/08/25/About-nfs/</id>
    <published>2017-08-25T09:57:51.000Z</published>
    <updated>2017-08-28T01:27:55.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;nolock&quot;&gt;&lt;a href=&quot;#nolock&quot; class=&quot;headerlink&quot; title=&quot;nolock&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://linux.die.net/man/5/nfs&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;nolock&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;NLM locking is used for this mount point. When using the nolock option, applications can lock files, but such locks provide exclusion only against other applications running on the same client. Remote applications are not affected by these locks.&lt;/p&gt;
&lt;h3 id=&quot;file-lock&quot;&gt;&lt;a href=&quot;#file-lock&quot; class=&quot;headerlink&quot; title=&quot;file lock&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://docstore.mik.ua/orelly/networking_2ndEd/nfs/ch11_02.htm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;file lock&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The NFS (Versions 2 and 3) protocol does not support file locking, but the NFS environment supports an ancillary protocol called NLM, which originally stood for “Network Lock Manager.” When an NFS filesystem on an NFS client gets a request to lock a file, instead of an NFS remote procedure call, it generates an NLM remote procedure call.&lt;/p&gt;
&lt;p&gt;The NLM protocol consists of remote procedure calls that pattern fcntl arguments and results. Because blocking locks are supported (a process blocks waiting for a lock that conflicts with another holder), the NLM protocol has the notion of callbacks, from the file server to the NLM client to notify that a lock is available. In this way, the NLM client sometimes acts as an RPC server in order to receive delayed results from lock calls.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;nolock&quot;&gt;&lt;a href=&quot;#nolock&quot; class=&quot;headerlink&quot; title=&quot;nolock&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://linux.die.net/man/5/nfs&quot; target=&quot;_blank&quot; rel=&quot;exter
    
    </summary>
    
      <category term="nfs" scheme="http://yoursite.com/categories/nfs/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="nfs" scheme="http://yoursite.com/tags/nfs/"/>
    
  </entry>
  
  <entry>
    <title>NIC issues</title>
    <link href="http://yoursite.com/2017/08/14/NIC-issues/"/>
    <id>http://yoursite.com/2017/08/14/NIC-issues/</id>
    <published>2017-08-14T11:46:34.000Z</published>
    <updated>2017-08-24T06:33:59.000Z</updated>
    
    <content type="html">&lt;h4 id=&quot;About-irqbalance&quot;&gt;&lt;a href=&quot;#About-irqbalance&quot; class=&quot;headerlink&quot; title=&quot;About irqbalance&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://community.mellanox.com/docs/DOC-2123&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;About irqbalance&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Irqbalance is a Linux daemon that help to balance the CPU load generated by interrupts across all CPUs. Irqbalance identifies the highest volume interrupt sources, and isolates them to a single CPU, so that load is spread as much as possible over an entire processor set, while minimizing cache hit rates for irq handlers&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#debug irqbalance&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;irqbalance &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://access.redhat.com/sites/default/files/attachments/201501-perf-brief-low-latency-tuning-rhel7-v1.1.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;perf-brief-low-latency-tuning-rhel7&lt;/a&gt;&lt;br&gt;The irqbalance service continues to be enabled by default in Red Hat Enterprise Linux 7. It&lt;br&gt;remains an important service that helps spread IRQ-processing load across multiple processors dynamically.&lt;/p&gt;
&lt;p&gt;For more performance&lt;br&gt;here could be specific workloads or configuration where stopping irqbalance and using mlnx_tune is more optimal and recommended.&lt;/p&gt;
&lt;h4 id=&quot;nic-interrupt-rates&quot;&gt;&lt;a href=&quot;#nic-interrupt-rates&quot; class=&quot;headerlink&quot; title=&quot;nic interrupt rates&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/en/SSQPD3_2.6.0/com.ibm.wllm.doc/usingethtoolrates.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;nic interrupt rates&lt;/a&gt;&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;adaptive-rx Dynamic control to decrease RX latency at low packet rates and increase throughput at high packet rates&lt;/li&gt;
&lt;li&gt;rx-usecs This is the number of microseconds to wait before raising an RX interrupt after a packet has been received. When rx-usecs is set to 0 rx-frames is used&lt;/li&gt;
&lt;li&gt;rx-frames    This is the number of frames to queue up before raising an RX interrupt.&lt;/li&gt;
&lt;li&gt;adaptive-tx Dynamic control to decrease TX latency at low packet rates and increase throughput at high packet rates&lt;/li&gt;
&lt;li&gt;tx-usecs This is the number of microseconds to wait before raising an TX interrupt after a packet has been sent. When tx-usecs is set to 0 tx-frames is used&lt;/li&gt;
&lt;li&gt;tx-frames This is the number of frames to queue up before raising an TX interrupt&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#10GbE 82599 setting&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ls /sys/class/net | egrep &lt;span class=&quot;string&quot;&gt;&#39;(eth|en|p|em|br|bond)&#39;&lt;/span&gt; | &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt; nic&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ethtool -C &lt;span class=&quot;variable&quot;&gt;$nic&lt;/span&gt; rx-usecs 0 tx-usecs 0 adaptive-rx off adaptive-tx off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ethtool -G &lt;span class=&quot;variable&quot;&gt;$nic&lt;/span&gt; rx 4096 tx 4096 &lt;span class=&quot;comment&quot;&gt;#rx-ring,tx-ring #10GbE 82599, 25GbE , 50GbE has more&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ethtool -N &lt;span class=&quot;variable&quot;&gt;$nic&lt;/span&gt; rx-flow-hash udp4 sdfn&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ifconfig &lt;span class=&quot;variable&quot;&gt;$nic&lt;/span&gt; mtu 9000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;done&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cat /etc/modprobe.d/ixgbe.conf &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;options ixgbe LRO=1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;options ixgbe InterruptThrottleRate=16000,16000&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;About-interruptthrottlerate&quot;&gt;&lt;a href=&quot;#About-interruptthrottlerate&quot; class=&quot;headerlink&quot; title=&quot;About interruptthrottlerate&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.kernel.org/doc/Documentation/networking/e1000.txt&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;About interruptthrottlerate&lt;/a&gt;&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Setting InterruptThrottleRate to a value greater or equal to 100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;will program the adapter to send out a maximum of that many interrupts&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;per second, even &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; more packets have come in. This reduces interrupt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;load on the system and can lower CPU utilization under heavy load,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;but will increase latency as packets are not processed as quickly.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;The default behaviour of the driver previously assumed a static&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;InterruptThrottleRate value of 8000&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;About-LRO&quot;&gt;&lt;a href=&quot;#About-LRO&quot; class=&quot;headerlink&quot; title=&quot;About LRO&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://downloadmirror.intel.com/22919/eng/README.txt&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;About LRO&lt;/a&gt;&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;LRO&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;---&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Large Receive Offload (LRO) is a technique &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; increasing inbound throughput&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;of high-bandwidth network connections by reducing CPU overhead. It works by&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;aggregating multiple incoming packets from a single stream into a larger &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;buffer before they are passed higher up the networking stack, thus reducing&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;the number of packets that have to be processed. LRO combines multiple &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ethernet frames into a single receive &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; the stack, thereby potentially &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;decreasing CPU utilization &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; receives.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Support-for-UDP-RSS&quot;&gt;&lt;a href=&quot;#Support-for-UDP-RSS&quot; class=&quot;headerlink&quot; title=&quot;Support for UDP RSS&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://downloadmirror.intel.com/22919/eng/README.txt&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Support for UDP RSS&lt;/a&gt;&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;   rx-flow-hash tcp4|udp4|ah4|esp4|sctp4|tcp6|udp6|ah6|esp6|sctp6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     Retrieves the &lt;span class=&quot;built_in&quot;&gt;hash&lt;/span&gt; options &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; the specified network traffic type.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  -N --config-nfc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     Configures the receive network flow classification.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   rx-flow-hash tcp4|udp4|ah4|esp4|sctp4|tcp6|udp6|ah6|esp6|sctp6 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   m|v|t|s|d|f|n|r...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     Configures the &lt;span class=&quot;built_in&quot;&gt;hash&lt;/span&gt; options &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; the specified network traffic type.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     udp4    UDP over IPv4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     udp6    UDP over IPv6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     f   Hash on bytes 0 and 1 of the Layer 4 header of the rx packet.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     n   Hash on bytes 2 and 3 of the Layer 4 header of the rx packet.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;The following is an example using udp4 (UDP over IPv4):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  To include UDP port numbers &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; RSS hashing run:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     ethtool -N ethX rx-flow-hash udp4 sdfn&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  To exclude UDP port numbers from RSS hashing run:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     ethtool -N ethX rx-flow-hash udp4 sd&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  To display UDP hashing current configuration run:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     ethtool -n ethX rx-flow-hash udp4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Ethool-S&quot;&gt;&lt;a href=&quot;#Ethool-S&quot; class=&quot;headerlink&quot; title=&quot;Ethool -S&quot;&gt;&lt;/a&gt;Ethool -S&lt;/h3&gt;&lt;h4 id=&quot;rx-tx-ring&quot;&gt;&lt;a href=&quot;#rx-tx-ring&quot; class=&quot;headerlink&quot; title=&quot;rx,tx-ring&quot;&gt;&lt;/a&gt;rx,tx-ring&lt;/h4&gt;&lt;p&gt;ethtool -G $nic rx 4096 tx 4096 #rx-ring,tx-ring #10GbE 82599, 25GbE , 50GbE has more&lt;/p&gt;
&lt;p&gt;rx_no_buffer_count,there was nowhere to DMA the packet&lt;br&gt;DMA skb-data to rx-buffer-info(linux RAM, soft-interrupt). &lt;/p&gt;
&lt;p&gt;RNBC is a warning sign of a slow drain from the MAC and can be treated by adding more buffers.&lt;br&gt;There will be times when the RNBC will go up, but it will look like the stack and driver have a ton of buffers but work is not being done.  If you have a task that is eating up the CPU, the ISR or polling routines won’t refill the buffers fast enough and RNBC will happen.&lt;/p&gt;
&lt;p&gt;Imagine we have a slow CPU, but a wicked fastbus.  The software is very slow to process the descriptors and return them, but once the descriptors are given to the hardware, it empties the backlog (read the FIFO) faster than the incoming frames are filling the FIFO.  Returning to our kitchen sink analogy, the water is coming in at a fairly constant rate.  But imagine the stopper is down, making the sink fill up.  Just before it over flows, the drain is opened and down it goes.  Once the water doesn’t go down the drain would be the same moment our RNBC would be incremented.  The kitchen sink itself becomes our FIFO and if the FIFO is big enough, it can save frame for quiet some time.  This is 1 Gigabit (or faster) that we’re talking about, so with a good sized FIFO (24K RX for example) that’s only 375 frames at 64 bytes, or 267microseconds of data.  That’s not very much time.  But in a world full of 2 and 3 Gigahertz CPUs that’s long enough.  &lt;/p&gt;
&lt;p&gt;rx_missed_error,rx_no_buffer_count happened enough times that packets were dropped&lt;br&gt;MPC is a failure condition leading to dropped packets and can be treated with more buffers and faster interconnect buses&lt;/p&gt;
&lt;p&gt;Thank goodness things like TCP/IP will tell the applications data has been dropped, but if using a lossy frame type like UDP its just too bad, your frame is lost to the ether. &lt;/p&gt;
&lt;p&gt;Imagine if you will, an interconnect bus that is slow.  Very slow.  Like a PCI 33hz bus.  Now attach that to a full line rate 1 Gigabit 64 byte packet data stream.  At one descriptor per packet, that’s about 1.4 million descriptors per second.  In this case the software is very fast, faster than the bus.  So the number of available descriptors is always kept a level that keeps the buffers available to the hardware to conduct a DMA.  But because the bus is so slow, data backs up into the FIFO.  Now that is what the FIFO is for.  By buffering the packet, it tries to give the packet the best chance at making into host memory alive.  In our slow case, the buffering isn’t enough and the FIFO fills up.  It is draining slower than its filling, its just a like a slow draining kitchen sink.  Eventually it overflows and makes a big mess.  Thank goodness things like TCP/IP will tell the applications data has been dropped, but if using a lossy frame type like UDP its just too bad, your frame is lost to the ether.  If you need to keep track, but need to use UDP, you’ll need to monitor the MPC count and decide what you want to do when it goes up.&lt;/p&gt;
&lt;p&gt;[猜测rx_missed_errors可能与硬中断有关。也就是在DMA传送完，发送硬中断之前，网卡的FIFO缓冲已经满了，导致接收的数据要立即丢掉。这个也可以验证：首先卸载igb模块，然后insmod igb InterruptThrottleRate=10, 只让网卡每秒产生10个中断。关闭流控ethtool -A eth1 autoneg off , ethtool -A eth1 rx off , ethtool -A eth1 tx off ，再把DMA缓冲区调至最大ethtool -G eth1 rx 4096 , ethtool -G eth1 tx 4096。可以发现原来不增长或几乎不增长的rx_missed_errors 开始大幅增长]&lt;br&gt;(&lt;a href=&quot;https://lp007819.wordpress.com/2013/05/23/intel%E7%BD%91%E5%8D%A1%E7%8A%B6%E6%80%81%E7%BB%9F%E8%AE%A1%E7%96%91%E9%97%AE/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://lp007819.wordpress.com/2013/05/23/intel%E7%BD%91%E5%8D%A1%E7%8A%B6%E6%80%81%E7%BB%9F%E8%AE%A1%E7%96%91%E9%97%AE/&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;rx_fifo_errors,&lt;br&gt;rx_over_errors&lt;/p&gt;
&lt;p&gt;##r ifconfig&lt;br&gt;frame counts only misaligned frames, it means frames with a length not divisible by 8. Because of that length is not a valid frame and it is simply discarded.&lt;/p&gt;
&lt;p&gt;Meanwhile errors counts CRC errors, too-short frames and too-long frames.&lt;/p&gt;
&lt;p&gt;overruns counts that times when there is fifo overruns, caused by the rate at which the buffer gets full and the kernel isn’t able to empty it.&lt;/p&gt;
&lt;p&gt;overruns&lt;br&gt;overruns，表示这个数据包还没有被进入到网卡的接收缓存fifo队列就被丢掉，因此此时网卡的fifo是满的。为什么fifo会是满的？因为系统繁忙，来不及响应网卡中断，导致网卡里的数据包没有及时的拷贝到系统内存，fifo是满的就导致后面的数据包进不来，即这个数据包被网卡硬件丢掉。所以，个人觉得遇到overruns非0，需要检测cpu负载与cpu中断情况。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.cisco.com/c/en/us/support/docs/dial-access/asynchronous-connections/15286-serial-overruns.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Q. What are overruns on a serial interface?&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A. Overruns appear in the output of the show interface Serial 0 command when the serial receiver hardware is unable to hand received data to a hardware buffer because the input rate exceeds the receiver’s ability to handle the data.&lt;br&gt;This occurs due to a limitation of the hardware. Overruns occur when the internal First In, First Out (FIFO) buffer of the chip is full, but is still tries to handle incoming traffic. The serial controller chip has limited internal FIFO.&lt;br&gt;Some chips, for example, have only 256 bytes of buffer space. Data from the network is received into the buffer, whereupon the chip attempts to move the data from the buffer to the router’s shared memory for the CPU to process. If the chip is not able to move the data from its internal FIFO buffer into shared memory faster than the rate at which data is received on the interface, then the internal FIFO buffer is full, incoming data is dropped, and the overrun counter is incremented.&lt;/p&gt;
&lt;p&gt;droppeds&lt;br&gt;dropped，表示这个数据包已经进入到网卡的接收缓存fifo队列，并且开始被系统中断处理准备进行数据包拷贝（从网卡缓存fifo队列拷贝到系统内存），但由于此时的系统原因（比如内存不够等）导致这个数据包被丢掉，即这个数据包被Linux系统丢掉。&lt;/p&gt;
&lt;h4 id=&quot;NFS-hangs&quot;&gt;&lt;a href=&quot;#NFS-hangs&quot; class=&quot;headerlink&quot; title=&quot;NFS hangs&quot;&gt;&lt;/a&gt;NFS hangs&lt;/h4&gt;&lt;p&gt;NFS server tcp zero window problem&lt;/p&gt;
&lt;p&gt;Zero Window is something to investigate. TCP Zero Window is when the Window size in a machine remains at zero for a specified amount of time. This means that a client is not able to receive further information at the moment, and the TCP transmission is halted until it can process the information in its receive buffer.&lt;/p&gt;
&lt;h4 id=&quot;About-FEC&quot;&gt;&lt;a href=&quot;#About-FEC&quot; class=&quot;headerlink&quot; title=&quot;About FEC&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://www.qlogic.com/Resources/Documents/WhitePapers/Adapters/Localized/White_Paper-25Gb_Ethernet_SN0530917-05_CN.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;About FEC&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;IEEE 标准指定了两个底板和铜接口。这些接口的目标不同，因&lt;br&gt;此接口存在不同。–S 短距离接口旨在支持无需转发纠错（FEC）&lt;br&gt;的高质量电缆，以最大限度地降低延迟。全距离接口旨在实现&lt;br&gt;尽可能低的电缆或背板成本以及尽可能长的距离，这需要使用&lt;br&gt;FEC。FEC 选项包括 BASE-R FEC（也称为 Fire Code）和 RS-FEC（也&lt;br&gt;称为 Reed-Solomon）。RS-FEC 已用于一系列应用，包括数据存&lt;br&gt;储卫星传播。BASE-R FEC 是一种新型技术，特别适合纠正背板&lt;br&gt;通道中由于接收均衡器的错误传播而导致的突发错误。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;About-irqbalance&quot;&gt;&lt;a href=&quot;#About-irqbalance&quot; class=&quot;headerlink&quot; title=&quot;About irqbalance&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://community.mellanox.co
    
    </summary>
    
      <category term="network" scheme="http://yoursite.com/categories/network/"/>
    
    
      <category term="nic" scheme="http://yoursite.com/tags/nic/"/>
    
      <category term="ethtool" scheme="http://yoursite.com/tags/ethtool/"/>
    
      <category term="driver" scheme="http://yoursite.com/tags/driver/"/>
    
      <category term="irqbalance" scheme="http://yoursite.com/tags/irqbalance/"/>
    
  </entry>
  
  <entry>
    <title>upgrade hgst JBOD</title>
    <link href="http://yoursite.com/2017/07/31/upgrade-hgst-JBOD/"/>
    <id>http://yoursite.com/2017/07/31/upgrade-hgst-JBOD/</id>
    <published>2017-07-31T09:57:28.000Z</published>
    <updated>2017-07-31T09:58:35.000Z</updated>
    
    <content type="html">&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;
&lt;/code&gt;&lt;/pre&gt;
</content>
    
    <summary type="html">
    
      &lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;
&lt;/code&gt;&lt;/pre&gt;

    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>grubby</title>
    <link href="http://yoursite.com/2017/07/12/grub/"/>
    <id>http://yoursite.com/2017/07/12/grub/</id>
    <published>2017-07-12T09:48:19.000Z</published>
    <updated>2017-07-12T09:52:27.000Z</updated>
    
    <content type="html">&lt;p&gt;CentOS 7 add kernel parameter&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;grubby --remove-args=&lt;span class=&quot;string&quot;&gt;&quot;argX argY&quot;&lt;/span&gt; --args=&lt;span class=&quot;string&quot;&gt;&quot;argA argB&quot;&lt;/span&gt; --update-kernel /boot/kernel&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;grubby --update-kernel=ALL --args=&lt;span class=&quot;string&quot;&gt;&#39;scsi_mod.use_blk_mq=y dm_mod.use_blk_mq=y&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;set default boot&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;grubby --info=ALL&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;index=0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel=/boot/vmlinuz-3.10.0-514.6.1.el7.x86_64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;args=&lt;span class=&quot;string&quot;&gt;&quot;ro crashkernel=auto rd.md.uuid=cc0432b3:6f6f54bf:c2f2b91b:2978ff6a rhgb quiet &quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;root=UUID=5b0e60cf-adf9-42a0-b6e3-0304b919dc33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;initrd=/boot/initramfs-3.10.0-514.6.1.el7.x86_64.img&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;title=CentOS Linux (3.10.0-514.6.1.el7.x86_64) 7 (Core)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;index=1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel=/boot/vmlinuz-3.10.0-327.el7.x86_64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;args=&lt;span class=&quot;string&quot;&gt;&quot;ro crashkernel=auto rd.md.uuid=cc0432b3:6f6f54bf:c2f2b91b:2978ff6a rhgb quiet &quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;root=UUID=5b0e60cf-adf9-42a0-b6e3-0304b919dc33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;initrd=/boot/initramfs-3.10.0-327.el7.x86_64.img&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;title=CentOS Linux (3.10.0-327.el7.x86_64) 7 (Core)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;index=2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel=/boot/vmlinuz-0-rescue&lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt;614a3c482eb4b21add5ae750b3871bb&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;args=&lt;span class=&quot;string&quot;&gt;&quot;ro crashkernel=auto rd.md.uuid=cc0432b3:6f6f54bf:c2f2b91b:2978ff6a rhgb quiet &quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;root=UUID=5b0e60cf-adf9-42a0-b6e3-0304b919dc33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;initrd=/boot/initramfs-0-rescue&lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt;614a3c482eb4b21add5ae750b3871bb.img&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;title=CentOS Linux (0-rescue&lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt;614a3c482eb4b21add5ae750b3871bb) 7 (Core)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;index=3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;non linux entry&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;grubby --set-default /boot/vmlinuz-3.10.0-229.4.2.el7.x86_64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;grubby --info /boot/vmlinuz-3.10.0-229.4.2.el7.x86_64&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/sec-Making_Persistent_Changes_to_a_GRUB_2_Menu_Using_the_grubby_Tool.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;reference&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;CentOS 7 add kernel parameter&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span c
    
    </summary>
    
      <category term="Linux configuration" scheme="http://yoursite.com/categories/Linux-configuration/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="grub" scheme="http://yoursite.com/tags/grub/"/>
    
  </entry>
  
  <entry>
    <title>Enable blk-mq in centos 7.3</title>
    <link href="http://yoursite.com/2017/07/12/Enable-blk-mq-in-centos-7-3/"/>
    <id>http://yoursite.com/2017/07/12/Enable-blk-mq-in-centos-7-3/</id>
    <published>2017-07-12T07:36:57.000Z</published>
    <updated>2017-07-12T08:12:30.000Z</updated>
    
    <content type="html">&lt;h4 id=&quot;Does-it-mean-brute-force-I-found-the-answer-in-a-slide-that-resolve-the-most-important-issue&quot;&gt;&lt;a href=&quot;#Does-it-mean-brute-force-I-found-the-answer-in-a-slide-that-resolve-the-most-important-issue&quot; class=&quot;headerlink&quot; title=&quot;Does it mean brute force, I found the answer in a slide that resolve the most important issue&quot;&gt;&lt;/a&gt;Does it mean brute force, I found the answer in a slide that resolve the most important issue&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://events.linuxfoundation.org/sites/events/files/slides/scsi.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;scsi-mq&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/7.2_Release_Notes/storage.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;RHEL7.2 release note&lt;/a&gt;&lt;br&gt;To enable scsi-mq, specify scsi_mod.use_blk_mq=y on the kernel command line&lt;br&gt;can also be configured to use the blk-mq infrastructure if the dm_mod.use_blk_mq=y kernel option is specified, The default value is n (disabled).&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ cat /etc/default/grub &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;GRUB_TIMEOUT=5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;GRUB_DISTRIBUTOR=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$(sed &#39;s, release .*$,,g&#39; /etc/system-release)&lt;/span&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;GRUB_DEFAULT=saved&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;GRUB_DISABLE_SUBMENU=&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;GRUB_TERMINAL_OUTPUT=&lt;span class=&quot;string&quot;&gt;&quot;console&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;GRUB_CMDLINE_LINUX=&lt;span class=&quot;string&quot;&gt;&quot;crashkernel=auto rd.md.uuid=c13f982e:9af61476:91e4a31e:1bc18c08 scsi_mod.use_blk_mq=y dm_mod.use_blk_mq=y rhgb quiet&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;GRUB_DISABLE_RECOVERY=&lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ grub2-mkconfig -o /boot/efi/EFI/centos/grub.cfg&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ reboot&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Make-sure-enable-it&quot;&gt;&lt;a href=&quot;#Make-sure-enable-it&quot; class=&quot;headerlink&quot; title=&quot;Make sure enable it&quot;&gt;&lt;/a&gt;Make sure enable it&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;tree /sys/class/block/sdl/mq /sys/class/block/dm-0/mq&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;Does-it-mean-brute-force-I-found-the-answer-in-a-slide-that-resolve-the-most-important-issue&quot;&gt;&lt;a href=&quot;#Does-it-mean-brute-force-I-f
    
    </summary>
    
      <category term="Performance" scheme="http://yoursite.com/categories/Performance/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="scsi" scheme="http://yoursite.com/tags/scsi/"/>
    
      <category term="io" scheme="http://yoursite.com/tags/io/"/>
    
      <category term="performance" scheme="http://yoursite.com/tags/performance/"/>
    
  </entry>
  
  <entry>
    <title>Hot-plugin scan/rescan scsi</title>
    <link href="http://yoursite.com/2017/07/12/Hot-plugin-scan-rescan-scsi/"/>
    <id>http://yoursite.com/2017/07/12/Hot-plugin-scan-rescan-scsi/</id>
    <published>2017-07-12T05:15:49.000Z</published>
    <updated>2017-07-12T05:27:03.000Z</updated>
    
    <content type="html">&lt;h5 id=&quot;What-is-h-c-t-l&quot;&gt;&lt;a href=&quot;#What-is-h-c-t-l&quot; class=&quot;headerlink&quot; title=&quot;What is h c t l&quot;&gt;&lt;/a&gt;What is h c t l&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;          h == hostadapter id (first one being 0)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          c == SCSI channel on hostadapter (first one being 0)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          t == ID (target)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          l == LUN (first one being 0)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# lsscsi man page&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       Generic SCSI devices can also be accessed via the bsg driver &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; Linux.  By default, the bsg driver&lt;span class=&quot;string&quot;&gt;&#39;s device node names  are  of  the  form&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &#39;&lt;/span&gt;/dev/bsg/H:C:T:L&lt;span class=&quot;string&quot;&gt;&#39;.  So,  for example, the SCSI device shown by this utility on a line starting with the tuple &#39;&lt;/span&gt;6:0:1:2&lt;span class=&quot;string&quot;&gt;&#39; could be accessed&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       via the bsg driver with the &#39;&lt;/span&gt;/dev/bsg/6:0:1:2&lt;span class=&quot;string&quot;&gt;&#39; device node name.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&quot;Add-the-scsi-device&quot;&gt;&lt;a href=&quot;#Add-the-scsi-device&quot; class=&quot;headerlink&quot; title=&quot;Add the scsi device&quot;&gt;&lt;/a&gt;Add the scsi device&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;- - -&quot;&lt;/span&gt; &amp;gt; /sys/class/scsi_host/host&amp;lt;h&amp;gt;/scan&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;c t l&quot;&lt;/span&gt; &amp;gt;  /sys/class/scsi_host/host&amp;lt;h&amp;gt;/scan&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&quot;Refresh-the-scsi-device&quot;&gt;&lt;a href=&quot;#Refresh-the-scsi-device&quot; class=&quot;headerlink&quot; title=&quot;Refresh the scsi device&quot;&gt;&lt;/a&gt;Refresh the scsi device&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 1 &amp;gt; /sys/block/sdau/device/rescan &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 1 &amp;gt; /sys/class/scsi_device/h:c:t:l/device/rescan&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&quot;Remove-the-scsi-device&quot;&gt;&lt;a href=&quot;#Remove-the-scsi-device&quot; class=&quot;headerlink&quot; title=&quot;Remove the scsi device&quot;&gt;&lt;/a&gt;Remove the scsi device&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 1 &amp;gt; /sys/class/scsi_device/h:c:t:l/device/delete&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 1 &amp;gt; /sys/block/&amp;lt;dev&amp;gt;/device/delete&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;a href=&quot;http://fibrevillage.com/storage/279-hot-add-remove-rescan-of-scsi-devices-on-linux&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;reference&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;What-is-h-c-t-l&quot;&gt;&lt;a href=&quot;#What-is-h-c-t-l&quot; class=&quot;headerlink&quot; title=&quot;What is h c t l&quot;&gt;&lt;/a&gt;What is h c t l&lt;/h5&gt;&lt;figure class=&quot;highli
    
    </summary>
    
      <category term="Linux configuration" scheme="http://yoursite.com/categories/Linux-configuration/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="mem" scheme="http://yoursite.com/tags/mem/"/>
    
  </entry>
  
  <entry>
    <title>Memory_linux</title>
    <link href="http://yoursite.com/2017/07/08/Memory-linux/"/>
    <id>http://yoursite.com/2017/07/08/Memory-linux/</id>
    <published>2017-07-08T03:08:46.000Z</published>
    <updated>2017-07-12T05:31:45.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;Process-memory&quot;&gt;&lt;a href=&quot;#Process-memory&quot; class=&quot;headerlink&quot; title=&quot;Process memory&quot;&gt;&lt;/a&gt;Process memory&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;/proc/[pid]/statm
       Provides information about memory usage, measured in pages.
       The columns are:

           size       (1) total program size
                      (same as VmSize in /proc/[pid]/status)
           resident   (2) resident set size
                      (same as VmRSS in /proc/[pid]/status)
           shared     (3) number of resident shared pages (i.e., backed by a file)
                      (same as RssFile+RssShmem in /proc/[pid]/status)
           text       (4) text (code)
           lib        (5) library (unused since Linux 2.6; always 0)
           data       (6) data + stack
           dt         (7) dirty pages (unused since Linux 2.6; always 0)
&lt;/code&gt;&lt;/pre&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cat /proc/3760/statm &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;400865 96456 37653 27355 0 157019 0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Second field means res (resident)&lt;br&gt;pmap $(pgrep bash)&lt;/p&gt;
&lt;p&gt;There are some of share library in each resident&lt;/p&gt;
&lt;p&gt;If you want get share library memory consumption.&lt;br&gt;/proc/[pid]/smaps (since Linux 2.6.14)&lt;br&gt;              This file shows memory consumption for each of the process’s&lt;br&gt;              mappings.  (The pmap(1) command displays similar information,&lt;br&gt;              in a form that may be easier for parsing.)&lt;/p&gt;
&lt;h4 id=&quot;Slab&quot;&gt;&lt;a href=&quot;#Slab&quot; class=&quot;headerlink&quot; title=&quot;Slab&quot;&gt;&lt;/a&gt;Slab&lt;/h4&gt;&lt;p&gt;In-kernel data structures cache.&lt;/p&gt;
&lt;p&gt;Cache pool for often userd dupulication objects&lt;br&gt;you could found these objects from slabtop&lt;/p&gt;
&lt;p&gt;Get all slabsize&lt;br&gt;awk ‘BEGIN{sum=0;}{sum=sum+$3*$4;}END{print sum/1024/1024}’ /proc/slabinfo MB&lt;/p&gt;
&lt;h4 id=&quot;Page-table&quot;&gt;&lt;a href=&quot;#Page-table&quot; class=&quot;headerlink&quot; title=&quot;Page table&quot;&gt;&lt;/a&gt;Page table&lt;/h4&gt;&lt;p&gt;awk ‘$0~/PageTables/ {print $2}’ /proc/meminfo KB&lt;/p&gt;
&lt;h4 id=&quot;Struct-page&quot;&gt;&lt;a href=&quot;#Struct-page&quot; class=&quot;headerlink&quot; title=&quot;Struct page&quot;&gt;&lt;/a&gt;Struct page&lt;/h4&gt;&lt;p&gt;page frame minimum unit. every page frame has a struct page to point&lt;br&gt;&lt;a href=&quot;https://stackoverflow.com/questions/34836806/how-to-get-physical-address-from-struct-page-in-linux-kernel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;struct page could mapping page frame to physical address&lt;/a&gt;&lt;br&gt;all page frame in the LUR list.&lt;br&gt;There are 2.3%(96/4096) usage in linux 2.6.32&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Process-memory&quot;&gt;&lt;a href=&quot;#Process-memory&quot; class=&quot;headerlink&quot; title=&quot;Process memory&quot;&gt;&lt;/a&gt;Process memory&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;/proc/[pid]/st
    
    </summary>
    
      <category term="Linux configuration" scheme="http://yoursite.com/categories/Linux-configuration/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="mem" scheme="http://yoursite.com/tags/mem/"/>
    
  </entry>
  
  <entry>
    <title>Performance Tuning in centos7</title>
    <link href="http://yoursite.com/2017/05/24/Performance-Tuning-in-centos7/"/>
    <id>http://yoursite.com/2017/05/24/Performance-Tuning-in-centos7/</id>
    <published>2017-05-24T12:30:55.000Z</published>
    <updated>2017-07-08T01:34:25.000Z</updated>
    
    <content type="html">&lt;h5 id=&quot;High-availability-cluster&quot;&gt;&lt;a href=&quot;#High-availability-cluster&quot; class=&quot;headerlink&quot; title=&quot;High availability cluster&quot;&gt;&lt;/a&gt;High availability cluster&lt;/h5&gt;&lt;p&gt;2 x 2U Sever SAS3 connect 4 x 90 bay JBOD&lt;br&gt;&lt;img src=&quot;/img/supermicro-arch17.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;Top-sas-throughput-base-32-x-Raidz2-9-2&quot;&gt;&lt;a href=&quot;#Top-sas-throughput-base-32-x-Raidz2-9-2&quot; class=&quot;headerlink&quot; title=&quot;Top sas throughput base 32 x Raidz2 (9+2)&quot;&gt;&lt;/a&gt;Top sas throughput base 32 x Raidz2 (9+2)&lt;/h5&gt;&lt;p&gt;Sinle x86 server thgroughput could be 23GB/s&lt;br&gt;Average throughput about 15~17GB/s&lt;br&gt;&lt;img src=&quot;/img/Single-server-sas-throughput2017-5.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;BIOS-setting&quot;&gt;&lt;a href=&quot;#BIOS-setting&quot; class=&quot;headerlink&quot; title=&quot;BIOS setting&quot;&gt;&lt;/a&gt;BIOS setting&lt;/h5&gt;&lt;p&gt;Enable X2APIC&lt;/p&gt;
&lt;h5 id=&quot;cpu-setting&quot;&gt;&lt;a href=&quot;#cpu-setting&quot; class=&quot;headerlink&quot; title=&quot;cpu setting&quot;&gt;&lt;/a&gt;cpu setting&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;tuned-adm profile throughput-performance&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tuned-adm active&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cpupower idle-set &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; 4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cpupower idle-set &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; 3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cpupower idle-set &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cpupower  frequency-set -g performance&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# for more info /usr/lib/tuned/throughput-performance/tuned.conf&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&quot;sysctl&quot;&gt;&lt;a href=&quot;#sysctl&quot; class=&quot;headerlink&quot; title=&quot;sysctl&quot;&gt;&lt;/a&gt;sysctl&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;kernel.numa_balancing=0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.core.netdev_max_backlog = 300000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_sack = 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.core.netdev_budget=600&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_timestamps=1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_low_latency=1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_rmem=16384 349520 16777216&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_wmem=16384 349520 16777216&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_mem = 2314209      3085613 4628418&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.core.rmem_max=16777216&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.core.wmem_max=16777216&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.core.somaxconn=2048&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_adv_win_scale=1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_window_scaling = 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#UDP buffer&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.core.rmem_max=16777216&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&quot;Dual-port-25GbE&quot;&gt;&lt;a href=&quot;#Dual-port-25GbE&quot; class=&quot;headerlink&quot; title=&quot;Dual port 25GbE&quot;&gt;&lt;/a&gt;Dual port 25GbE&lt;/h5&gt;&lt;h6 id=&quot;NIC-settting&quot;&gt;&lt;a href=&quot;#NIC-settting&quot; class=&quot;headerlink&quot; title=&quot;NIC settting&quot;&gt;&lt;/a&gt;NIC settting&lt;/h6&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ethtool -C enp131s0f0 adaptive-rx off rx-usecs 0 rx-frames 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ethtool -G enp131s0f0 rx 8192 tx 8192&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ethtool -G enp131s0f0 rx 8192 tx 8192&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ethtool -N enp131s0f0 rx-flow-hash udp4 sdfn&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ip link &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; dev enp131s0f0 txqueuelen 1500&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ip link &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; dev enp131s0f1 txqueuelen 1500&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ip link &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; dev bond0 txqueuelen 3000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;MTU=9000&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h6 id=&quot;Bond-info&quot;&gt;&lt;a href=&quot;#Bond-info&quot; class=&quot;headerlink&quot; title=&quot;Bond info&quot;&gt;&lt;/a&gt;Bond info&lt;/h6&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Ethernet Channel Bonding Driver: v3.7.1 (April 27, 2011)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Bonding Mode: IEEE 802.3ad Dynamic link aggregation&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Transmit Hash Policy: layer2 (0)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;MII Status: up&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;MII Polling Interval (ms): 100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Up Delay (ms): 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Down Delay (ms): 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;802.3ad info&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;LACP rate: slow&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;M&lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; links: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Aggregator selection policy (ad_select): stable&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;System priority: 65535&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;System MAC address: 7c:fe:90:de:08:38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Active Aggregator Info:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Aggregator ID: 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Number of ports: 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Actor Key: 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Partner Key: 449&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Partner Mac Address: 38:bc:01:79:33:51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Slave Interface: enp131s0f0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;MII Status: up&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Speed: 25000 Mbps&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Duplex: full&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Link Failure Count: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Permanent HW addr: 7c:fe:90:de:08:38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Slave queue ID: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Aggregator ID: 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Actor Churn State: none&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Partner Churn State: none&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Actor Churned Count: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Partner Churned Count: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;details actor lacp pdu:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    system priority: 65535&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    system mac address: 7c:fe:90:de:08:38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    port key: 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    port priority: 255&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    port number: 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    port state: 61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;details partner lacp pdu:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    system priority: 32768&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    system mac address: 38:bc:01:79:33:51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    oper key: 449&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    port priority: 32768&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    port number: 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    port state: 61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Slave Interface: enp131s0f1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;MII Status: up&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Speed: 25000 Mbps&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Duplex: full&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Link Failure Count: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Permanent HW addr: 7c:fe:90:de:08:39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Slave queue ID: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Aggregator ID: 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Actor Churn State: none&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Partner Churn State: none&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Actor Churned Count: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Partner Churned Count: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;details actor lacp pdu:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    system priority: 65535&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    system mac address: 7c:fe:90:de:08:38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    port key: 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    port priority: 255&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    port number: 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    port state: 61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;details partner lacp pdu:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    system priority: 32768&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    system mac address: 38:bc:01:79:33:51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    oper key: 449&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    port priority: 32768&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    port number: 97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    port state: 61&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h6 id=&quot;Get-CPU-and-PCIE-adapter-topology&quot;&gt;&lt;a href=&quot;#Get-CPU-and-PCIE-adapter-topology&quot; class=&quot;headerlink&quot; title=&quot;Get CPU and PCIE adapter topology&quot;&gt;&lt;/a&gt;Get CPU and PCIE adapter topology&lt;/h6&gt;&lt;p&gt;Pin different cpu cores to different adapter&lt;br&gt;Disable irqbalance&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Enable HT&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0,1,10,11,2,24,25,26,27,28,29,3,30,31,32,33,34,35,4,5,6,7,8,9,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12,13,14,15,16,17,18,19,20,21,22,23,36,37,38,39,40,41,42,43,44,45,46,47,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cpu numa node number is: 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cpu-hex cpu-hex numa_node&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;200 200000000 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40 40000000 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8 8000000 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1 1000000 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10 10000000 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2 2000000 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20 20000000 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80 80000000 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;400 400000000 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100 100000000 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4 4000000 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;800 800000000 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;400000 400000000000 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8000 8000000000 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;800000 800000000000 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20000 20000000000 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40000 40000000000 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1000 1000000000 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100000 100000000000 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80000 80000000000 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10000 10000000000 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2000 2000000000 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;200000 200000000000 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4000 4000000000 1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h5 id=&quot;Numa-node0&quot;&gt;&lt;a href=&quot;#Numa-node0&quot; class=&quot;headerlink&quot; title=&quot;Numa node0&quot;&gt;&lt;/a&gt;Numa node0&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;02:00.0 Non-Volatile memory controller: Intel Corporation Device 0a53 (rev 02)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;03:00.0 Non-Volatile memory controller: Intel Corporation Device 0a53 (rev 02)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;04:00.0 Serial Attached SCSI controller: LSI Logic / Symbios Logic SAS3008 PCI-Express Fusion-MPT SAS-3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&quot;Numa-node1&quot;&gt;&lt;a href=&quot;#Numa-node1&quot; class=&quot;headerlink&quot; title=&quot;Numa node1&quot;&gt;&lt;/a&gt;Numa node1&lt;/h5&gt;&lt;p&gt;Next time , I will change etheret adapter to numa 0&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;83:00.0 Ethernet controller: Mellanox Technologies MT27710 Family [ConnectX-4 Lx]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83:00.1 Ethernet controller: Mellanox Technologies MT27710 Family [ConnectX-4 Lx]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81:00.0 Serial Attached SCSI controller: LSI Logic / Symbios Logic SAS3008 PCI-Express Fusion-MPT SAS-3 (rev 02)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82:00.0 Serial Attached SCSI controller: LSI Logic / Symbios Logic SAS3008 PCI-Express Fusion-MPT SAS-3 (rev 02)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84:00.0 Serial Attached SCSI controller: LSI Logic / Symbios Logic SAS3008 PCI-Express Fusion-MPT SAS-3 (rev 02)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h5 id=&quot;mpt3sas&quot;&gt;&lt;a href=&quot;#mpt3sas&quot; class=&quot;headerlink&quot; title=&quot;mpt3sas&quot;&gt;&lt;/a&gt;mpt3sas&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ cat /etc/modprobe.d/mpt3sas.conf&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;options mpt3sas max_msix_vectors=6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&quot;storage-device-setting&quot;&gt;&lt;a href=&quot;#storage-device-setting&quot; class=&quot;headerlink&quot; title=&quot;storage device setting&quot;&gt;&lt;/a&gt;storage device setting&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;HDD /sys/block/*/queue/scheduler deadline&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SSD /sys/block/*/queue/scheduler noop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/sys/block/*/queue/nr_requests 1024&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/sys/block/*/device/queue_depth 256 &lt;span class=&quot;comment&quot;&gt;#For Throughput, for latency you could reduece it&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/sys/block/*/device/scsi_disk/*/cache_&lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; write back &lt;span class=&quot;comment&quot;&gt;#For throughput&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/sys/block/*/device/scsi_disk/*/cache_&lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; write through &lt;span class=&quot;comment&quot;&gt;#For latency&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rr_min_io_rq /etc/multipath.conf 1 &lt;span class=&quot;comment&quot;&gt;#For latency&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/sys/block/*/queue/nomerges 1 &lt;span class=&quot;comment&quot;&gt;#For latency&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/homerl/pin_affinity/blob/master/pin_affinity.sh&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;my scripts&lt;/a&gt;&lt;br&gt;./pin_cpu.sh SAS3008 Mellanox Non-Volatile&lt;/p&gt;
&lt;h5 id=&quot;Trigger-raw-spin-lock&quot;&gt;&lt;a href=&quot;#Trigger-raw-spin-lock&quot; class=&quot;headerlink&quot; title=&quot;Trigger raw_spin_lock&quot;&gt;&lt;/a&gt;Trigger raw_spin_lock&lt;/h5&gt;&lt;p&gt;Reconnect SAS cable, no multipath, 10GB/s zfs throughput&lt;br&gt;&lt;img src=&quot;/img/supermicro-arch18.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;Glusterfs/Lustre could get performance 5~6GB/s in 2x25GbE&lt;/p&gt;
&lt;h5 id=&quot;ZFS-for-all-SAS-SSD-JBOD&quot;&gt;&lt;a href=&quot;#ZFS-for-all-SAS-SSD-JBOD&quot; class=&quot;headerlink&quot; title=&quot;ZFS for all SAS SSD JBOD&quot;&gt;&lt;/a&gt;ZFS for all SAS SSD JBOD&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;zfs &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; logbias=troughput tank&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&quot;The-others&quot;&gt;&lt;a href=&quot;#The-others&quot; class=&quot;headerlink&quot; title=&quot;The others&quot;&gt;&lt;/a&gt;The others&lt;/h5&gt;&lt;p&gt;running your app by numactl in single numa node&lt;br&gt;libvma to bypass kernel&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;High-availability-cluster&quot;&gt;&lt;a href=&quot;#High-availability-cluster&quot; class=&quot;headerlink&quot; title=&quot;High availability cluster&quot;&gt;&lt;/a&gt;High availa
    
    </summary>
    
      <category term="Linux configuration" scheme="http://yoursite.com/categories/Linux-configuration/"/>
    
    
      <category term="centos" scheme="http://yoursite.com/tags/centos/"/>
    
      <category term="benchmark" scheme="http://yoursite.com/tags/benchmark/"/>
    
      <category term="performance" scheme="http://yoursite.com/tags/performance/"/>
    
  </entry>
  
  <entry>
    <title>SMcli monitor raid controller</title>
    <link href="http://yoursite.com/2017/04/13/SMcli-monitor-raid-controller/"/>
    <id>http://yoursite.com/2017/04/13/SMcli-monitor-raid-controller/</id>
    <published>2017-04-13T02:39:34.000Z</published>
    <updated>2017-10-25T09:26:55.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;Discovery-devices&quot;&gt;&lt;a href=&quot;#Discovery-devices&quot; class=&quot;headerlink&quot; title=&quot;Discovery devices&quot;&gt;&lt;/a&gt;Discovery devices&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;SMcli -A&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Get-storage-system-name&quot;&gt;&lt;a href=&quot;#Get-storage-system-name&quot; class=&quot;headerlink&quot; title=&quot;Get storage-system-name&quot;&gt;&lt;/a&gt;Get storage-system-name&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-n means storage-system-name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SMcli localhost&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Get-storage-system-status&quot;&gt;&lt;a href=&quot;#Get-storage-system-status&quot; class=&quot;headerlink&quot; title=&quot;Get storage system status&quot;&gt;&lt;/a&gt;Get storage system status&lt;/h3&gt;&lt;p&gt;show ip address (ipaddr)&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;SMcli  -n ControllerA  -c &lt;span class=&quot;string&quot;&gt;&quot; show storagearray healthstatus;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;Show-all-info&quot;&gt;&lt;a href=&quot;#Show-all-info&quot; class=&quot;headerlink&quot; title=&quot;Show all info&quot;&gt;&lt;/a&gt;Show all info&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;SMcli  -n ControllerA  -c &lt;span class=&quot;string&quot;&gt;&quot;show allControllers  summary;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SMcli -n ControllerA -c &lt;span class=&quot;string&quot;&gt;&quot;Show allVirtualDisks;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SMcli -n ControllerA -c &lt;span class=&quot;string&quot;&gt;&quot;show AllPhysicalDisks summary;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;### If no summary , it will output all details for each devices.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SMcli -n ControllerA -c &lt;span class=&quot;string&quot;&gt;&quot;show allcontrollers;&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;##NVRAM status, cache mirror&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SMcli  -n ControllerA  -c &lt;span class=&quot;string&quot;&gt;&quot;Show allphysicalDisks ;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Output-controller-log&quot;&gt;&lt;a href=&quot;#Output-controller-log&quot; class=&quot;headerlink&quot; title=&quot;Output controller log&quot;&gt;&lt;/a&gt;Output controller log&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;SMcli  -n ControllerA  -c &lt;span class=&quot;string&quot;&gt;&quot;save storageArray supportdata file=\&quot;/tmp/controller.log\&quot; force=true;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Reset-controller&quot;&gt;&lt;a href=&quot;#Reset-controller&quot; class=&quot;headerlink&quot; title=&quot;Reset controller&quot;&gt;&lt;/a&gt;Reset controller&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;SMcli -n  ControllerA -c &lt;span class=&quot;string&quot;&gt;&quot;reset controller 0;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SMcli -n  ControllerA -c &lt;span class=&quot;string&quot;&gt;&quot;reset controller 1;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Blink-the-device&quot;&gt;&lt;a href=&quot;#Blink-the-device&quot; class=&quot;headerlink&quot; title=&quot;Blink the device&quot;&gt;&lt;/a&gt;Blink the device&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;SMcli -n ControllerA -c &lt;span class=&quot;string&quot;&gt;&quot;start physicalDisk [1,0,11] blink;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SMcli -n ControllerA -c &lt;span class=&quot;string&quot;&gt;&quot;stop physicalDisk blink;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Get-battery-status&quot;&gt;&lt;a href=&quot;#Get-battery-status&quot; class=&quot;headerlink&quot; title=&quot;Get battery status&quot;&gt;&lt;/a&gt;Get battery status&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;SMcli -n ControllerA -c &lt;span class=&quot;string&quot;&gt;&quot;show storageArray batteryage;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Get-battery-status-1&quot;&gt;&lt;a href=&quot;#Get-battery-status-1&quot; class=&quot;headerlink&quot; title=&quot;Get battery status&quot;&gt;&lt;/a&gt;Get battery status&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;SMcli -n ControllerA -c &lt;span class=&quot;string&quot;&gt;&quot;show storageArray powerInfo;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Discovery-devices&quot;&gt;&lt;a href=&quot;#Discovery-devices&quot; class=&quot;headerlink&quot; title=&quot;Discovery devices&quot;&gt;&lt;/a&gt;Discovery devices&lt;/h3&gt;&lt;figure class
    
    </summary>
    
      <category term="Hardware" scheme="http://yoursite.com/categories/Hardware/"/>
    
    
      <category term="raid" scheme="http://yoursite.com/tags/raid/"/>
    
      <category term="lsi" scheme="http://yoursite.com/tags/lsi/"/>
    
      <category term="smcli" scheme="http://yoursite.com/tags/smcli/"/>
    
      <category term="san" scheme="http://yoursite.com/tags/san/"/>
    
      <category term="monitor" scheme="http://yoursite.com/tags/monitor/"/>
    
  </entry>
  
  <entry>
    <title>Test linux SCSI-Persistent-Reservation (SPC-3)</title>
    <link href="http://yoursite.com/2017/03/21/SCSI-Persistent-Reservations/"/>
    <id>http://yoursite.com/2017/03/21/SCSI-Persistent-Reservations/</id>
    <published>2017-03-21T07:30:36.000Z</published>
    <updated>2017-10-13T09:11:21.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;Does-devices-support&quot;&gt;&lt;a href=&quot;#Does-devices-support&quot; class=&quot;headerlink&quot; title=&quot;Does devices support ?&quot;&gt;&lt;/a&gt;Does devices support ?&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sg_persist -n -i -r &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; /dev/sdz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PR generation=0x0, there is NO reservation held&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Because-brain-split-zfs-will-corrupt&quot;&gt;&lt;a href=&quot;#Because-brain-split-zfs-will-corrupt&quot; class=&quot;headerlink&quot; title=&quot;Because brain-split, zfs will corrupt&quot;&gt;&lt;/a&gt;Because brain-split, zfs will corrupt&lt;/h3&gt;&lt;p&gt;process&lt;br&gt;register -&amp;gt; reserve -&amp;gt; preempt-abort -&amp;gt; re-register another node&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;which&lt;/span&gt; genhostid&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/usr/sbin/genhostid&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ rpm -qf /usr/sbin/genhostid&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;initscripts-9.49.37-1.el7.x86_64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;A $ genhostid&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;B $ genhostid&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;A $ sg_persist --out --register --param-sark=$(hostid) &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; /dev/mapper/35000cca2515f34c4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  HGST      HUH721010AL5200   A21D&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Peripheral device &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;: disk&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;B $ sg_persist --out --register --param-sark=$(hostid) &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; /dev/mapper/35000cca2515f34c4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# reserve operate&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;B $ sg_persist --out --reserve --param-rk=0x$(hostid) --prout-type=1 /dev/mapper/35000cca2515f34c4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;B $ sg_persist --in -r --no-inquiry &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; /dev/mapper/35000cca2515f34c4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    PR generation=0x5c, Reservation follows:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Key=0x7819de15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    scope: LU_SCOPE,  &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;: Write Exclusive&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;A $ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/dev/zero of=/dev/mapper/35000cca2515f34c4 bs=1M count=10 oflag=sync&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dd: error writing ‘/dev/mapper/35000cca2515f34c4’: Input/output error&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1+0 records &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0+0 records out&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0 bytes (0 B) copied, 0.0273762 s, 0.0 kB/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;B $ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/dev/zero of=/dev/mapper/35000cca2515f34c4 bs=1M count=10 oflag=sync&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10+0 records &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10+0 records out&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10485760 bytes (10 MB) copied, 0.145223 s, 72.2 MB/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# get the reservation&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;A $ sg_persist -n -o -A &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; /dev/mapper/35000cca2515f34c4 -K $(hostid) -S 0x7819de15  -T 1 -v&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Persistent Reservation Out cmd: 5f 05 01 00 00 00 00 00 18 00 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PR out: &lt;span class=&quot;built_in&quot;&gt;command&lt;/span&gt; (Preempt and abort) successful&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;A $ sg_persist --in -r --no-inquiry &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; /dev/mapper/35000cca2515f34c4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    PR generation=0x5d, Reservation follows:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Key=0x77f7c343&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    scope: LU_SCOPE,  &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;: Write Exclusivea&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;A $ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/dev/zero of=/dev/mapper/35000cca2515f34c4 bs=1M count=10 oflag=sync&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10+0 records &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10+0 records out&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10485760 bytes (10 MB) copied, 0.142939 s, 73.4 MB/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;B $ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/dev/zero of=/dev/mapper/35000cca2515f34c4 bs=1M count=10 oflag=sync&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dd: error writing ‘/dev/mapper/35000cca2515f34c4’: Input/output error&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1+0 records &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0+0 records out&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0 bytes (0 B) copied, 0.0139251 s, 0.0 kB/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;B $ sg_persist -n -o -A &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; /dev/mapper/35000cca2515f34c4 -K $(hostid) -S 0x77f7c343 -T 1 -v&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Persistent Reservation Out cmd: 5f 05 01 00 00 00 00 00 18 00 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PR out: &lt;span class=&quot;built_in&quot;&gt;command&lt;/span&gt; (Preempt and abort) successful&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;B $ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/dev/zero of=/dev/mapper/35000cca2515f34c4 bs=1M count=10 oflag=sync&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10+0 records &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10+0 records out&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10485760 bytes (10 MB) copied, 0.149629 s, 70.1 MB/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;A $ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/dev/zero of=/dev/mapper/35000cca2515f34c4 bs=1M count=10 oflag=sync&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dd: error writing ‘/dev/mapper/35000cca2515f34c4’: Input/output error&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1+0 records &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0+0 records out&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0 bytes (0 B) copied, 0.0207658 s, 0.0 kB/s&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Prout-type&quot;&gt;&lt;a href=&quot;#Prout-type&quot; class=&quot;headerlink&quot; title=&quot;Prout-type&quot;&gt;&lt;/a&gt;Prout-type&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1-&amp;gt; write exclusive&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3-&amp;gt; exclusive access&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5-&amp;gt; write exclusive - registrants only&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6-&amp;gt; exclusive access - registrants only&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7-&amp;gt; write exclusive - all registrants&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8-&amp;gt; exclusive access - all registrants&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Release-reservation&quot;&gt;&lt;a href=&quot;#Release-reservation&quot; class=&quot;headerlink&quot; title=&quot;Release reservation&quot;&gt;&lt;/a&gt;Release reservation&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sg_persist --out --release -K $(hostid) --prout-type=1 /dev/mapper/35000cca2515f34c4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  HGST      HUH721010AL5200   A21D&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Peripheral device &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;: disk&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ sg_persist --in -r --no-inquiry &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; /dev/mapper/35000cca2515f34c4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  PR generation=0x5f, there is NO reservation held&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Unregister-key&quot;&gt;&lt;a href=&quot;#Unregister-key&quot; class=&quot;headerlink&quot; title=&quot;Unregister key&quot;&gt;&lt;/a&gt;Unregister key&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sg_persist --out --register -K $(hostid) &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; /dev/mapper/35000cca2515f34c4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  HGST      HUH721010AL5200   A21D&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Peripheral device &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;: disk&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ sg_persist --in -k --no-inquiry &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; /dev/mapper/35000cca2515f34c4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  PR generation=0x60, there are NO registered reservation keys&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Force-mode&quot;&gt;&lt;a href=&quot;#Force-mode&quot; class=&quot;headerlink&quot; title=&quot;Force mode ?&quot;&gt;&lt;/a&gt;Force mode ?&lt;/h3&gt;&lt;p&gt;It releases the persistent reservation (if any) and clears all registrations from the device&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sg_persist --out --clear -K $(hostid) /dev/mapper/35000cca2515f34c4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;About-multipath&quot;&gt;&lt;a href=&quot;#About-multipath&quot; class=&quot;headerlink&quot; title=&quot;About multipath&quot;&gt;&lt;/a&gt;About multipath&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;no_path_retry queue&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;features &lt;span class=&quot;string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;a href=&quot;https://dhelios.blogspot.com/2015/04/how-can-i-view-create-and-remove-scsi.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;How can I view create and remove scsi&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://lkml.iu.edu/hypermail/linux/kernel/0903.3/02074.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Target_Core_Mod&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://lists.wpkg.org/pipermail/stgt/2010-October/017304.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Support for persistent reservations&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://assets.cdn.sap.com/sapcom/docs/2016/06/84ea994f-767c-0010-82c7-eda71af511fa.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SAP HANA Fiber Channel Storage Connector Admin Guide&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Does-devices-support&quot;&gt;&lt;a href=&quot;#Does-devices-support&quot; class=&quot;headerlink&quot; title=&quot;Does devices support ?&quot;&gt;&lt;/a&gt;Does devices support ?&lt;/
    
    </summary>
    
      <category term="Hardware" scheme="http://yoursite.com/categories/Hardware/"/>
    
    
      <category term="ssd" scheme="http://yoursite.com/tags/ssd/"/>
    
      <category term="hdd" scheme="http://yoursite.com/tags/hdd/"/>
    
      <category term="sas" scheme="http://yoursite.com/tags/sas/"/>
    
      <category term="scsi" scheme="http://yoursite.com/tags/scsi/"/>
    
      <category term="spc" scheme="http://yoursite.com/tags/spc/"/>
    
  </entry>
  
  <entry>
    <title>HA centos 7 configuration</title>
    <link href="http://yoursite.com/2017/03/13/HA-centos7-3-nodes-configuration/"/>
    <id>http://yoursite.com/2017/03/13/HA-centos7-3-nodes-configuration/</id>
    <published>2017-03-13T01:56:08.000Z</published>
    <updated>2017-03-14T12:11:59.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;Physical-node-OS&quot;&gt;&lt;a href=&quot;#Physical-node-OS&quot; class=&quot;headerlink&quot; title=&quot;Physical node OS&quot;&gt;&lt;/a&gt;Physical node OS&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;CentOS Linux release 7.3&lt;br&gt;&lt;img src=&quot;/img/test-arch.png&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;Create-linux-HA-3-x-physical-server&quot;&gt;&lt;a href=&quot;#Create-linux-HA-3-x-physical-server&quot; class=&quot;headerlink&quot; title=&quot;Create linux HA ,3 x physical server&quot;&gt;&lt;/a&gt;Create linux HA ,3 x physical server&lt;/h2&gt;&lt;p&gt;127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4&lt;br&gt;::1         localhost localhost.localdomain localhost6 localhost6.localdomain6&lt;br&gt;192.xx.xx.130 node01&lt;br&gt;192.xx.xx.131 node02&lt;br&gt;192.xx.xx.132 node03&lt;/p&gt;
&lt;h3 id=&quot;Share-strorages&quot;&gt;&lt;a href=&quot;#Share-strorages&quot; class=&quot;headerlink&quot; title=&quot;Share strorages&quot;&gt;&lt;/a&gt;Share strorages&lt;/h3&gt;&lt;p&gt;NFS/Lustre&lt;/p&gt;
&lt;h3 id=&quot;Setup-HA-cluster&quot;&gt;&lt;a href=&quot;#Setup-HA-cluster&quot; class=&quot;headerlink&quot; title=&quot;Setup HA cluster&quot;&gt;&lt;/a&gt;Setup HA cluster&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# yum -y install pacemaker corosync fence-agents-all fence-agents-virsh \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  fence-virt pacemaker-remote pcs fence-virtd resource-agents \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  fence-virtd-libvirt fence-virtd-multicast&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;3-nodes-glusterfs-config&quot;&gt;&lt;a href=&quot;#3-nodes-glusterfs-config&quot; class=&quot;headerlink&quot; title=&quot;3 nodes glusterfs config&quot;&gt;&lt;/a&gt;3 nodes glusterfs config&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ zpool create tank -O canmount=on -o ashift=9 -o cachefile=none -O xattr=sa -O compression=lz4 -O acltype=posixacl raidz2 /dev/sd&amp;#123;c..h&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zpool add tank cache /dev/sda4 /dev/sdb4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zpool add tank &lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt; mirror /dev/sda3 /dev/sdb3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ gluster volume create ec-test disperse-data 2 redundancy 1  transport tcp node1:/tank/glusterfs node2:/tank/glusterfs node3:/tank/glusterfs force&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Setup-physical-server&quot;&gt;&lt;a href=&quot;#Setup-physical-server&quot; class=&quot;headerlink&quot; title=&quot;Setup physical server&quot;&gt;&lt;/a&gt;Setup physical server&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; hacluster | passwd --stdin hacluster&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ systemctl &lt;span class=&quot;built_in&quot;&gt;enable&lt;/span&gt; pcsd.service&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ systemctl &lt;span class=&quot;built_in&quot;&gt;disable&lt;/span&gt; corosync.service pcaemaker.service&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ systemctl stop corosync.service pcaemaker.service&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ systemctl start pcsd.service&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ systemctl is-active pcsd.service&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs cluster auth node01 node02 node03 &lt;span class=&quot;comment&quot;&gt;##input hacluster password for auth&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs cluster setup --name ha-cluster node01,172.29.xx.xx node02,172.92.xx.xx node03,172.29.xx.xx --transport udpu --rrpmode passive --token 17000 --addr0 172.29.xx.0 --addr1 192.168.101.0 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs cluster setup --start --name ha-cluster node01 node02 node03&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## pcs property set no-quorum-policy=stop #don&#39;t need to stop&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;4.1.2 Option no-quorum-policy&lt;/p&gt;
&lt;p&gt;This global option defines what to do when a cluster partition does not have quorum (no majority of nodes is part of the partition).&lt;/p&gt;
&lt;p&gt;Allowed values are:&lt;/p&gt;
&lt;p&gt;ignore&lt;br&gt;The quorum state does not influence the cluster behavior; resource management is continued.&lt;/p&gt;
&lt;p&gt;This setting is useful for the following scenarios:&lt;/p&gt;
&lt;p&gt;Two-node clusters: Since a single node failure would always result in a loss of majority, usually you want the cluster to carry on regardless. Resource integrity is ensured using fencing, which also prevents split brain scenarios.&lt;/p&gt;
&lt;p&gt;Resource-driven clusters: For local clusters with redundant communication channels, a split brain scenario only has a certain probability. Thus, a loss of communication with a node most likely indicates that the node has crashed, and that the surviving nodes should recover and start serving the resources again.&lt;/p&gt;
&lt;p&gt;If no-quorum-policy is set to ignore, a 4-node cluster can sustain concurrent failure of three nodes before service is lost. With the other settings, it would lose quorum after concurrent failure of two nodes.&lt;/p&gt;
&lt;p&gt;freeze&lt;br&gt;If quorum is lost, the cluster partition freezes. Resource management is continued: running resources are not stopped (but possibly restarted in response to monitor events), but no further resources are started within the affected partition.&lt;/p&gt;
&lt;p&gt;This setting is recommended for clusters where certain resources depend on communication with other nodes (for example, OCFS2 mounts). In this case, the default setting no-quorum-policy=stop is not useful, as it would lead to the following scenario: Stopping those resources would not be possible while the peer nodes are unreachable. Instead, an attempt to stop them would eventually time out and cause a stop failure, triggering escalated recovery and fencing.&lt;/p&gt;
&lt;p&gt;stop (default value)&lt;br&gt;If quorum is lost, all resources in the affected cluster partition are stopped in an orderly fashion.&lt;/p&gt;
&lt;p&gt;suicide&lt;br&gt;If quorum is lost, all nodes in the affected cluster partition are fenced.&lt;/p&gt;
&lt;h4 id=&quot;Setting-etc-corosync-corosync-conf-for-every-node&quot;&gt;&lt;a href=&quot;#Setting-etc-corosync-corosync-conf-for-every-node&quot; class=&quot;headerlink&quot; title=&quot;Setting /etc/corosync/corosync.conf for every node&quot;&gt;&lt;/a&gt;Setting /etc/corosync/corosync.conf for every node&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;totem &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    version: 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    secauth: off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    cluster_name: homer-test&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    transport: udpu&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    rrp_mode: passive&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    token: 17000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    interface &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ringnumber: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        bindnetaddr: 192.168.xx.0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mcastaddr: 239.255.1.1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mcastport: 5405&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    interface &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ringnumber: 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        bindnetaddr: 172.29.xx.0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mcastaddr: 239.255.2.1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mcastport: 5405&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;nodelist &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    node &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ring0_addr: bgi-sz1-homer-test73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ring1_addr: 172.29.xx.xx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        nodeid: 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    node &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ring0_addr: bgi-sz1-homer-test74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ring1_addr: 172.29.xx.xx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        nodeid: 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    node &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ring0_addr: bgi-sz1-homer-test76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ring1_addr: 172.29.xx.xx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        nodeid: 3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;quorum &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    provider: corosync_votequorum&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;logging &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    to_logfile: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    logfile: /var/&lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;/cluster/corosync.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    to_syslog: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Start-cluster&quot;&gt;&lt;a href=&quot;#Start-cluster&quot; class=&quot;headerlink&quot; title=&quot;Start cluster&quot;&gt;&lt;/a&gt;Start cluster&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ pcs cluster start --all&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ corosync-cfgtool &lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Printing ring status.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Local node ID 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RING ID 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	id	= 192.168.xx.130&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	status	= ring 0 active with no faults&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RING ID 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	id	= 172.29.xx.73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	status	= ring 1 active with no faults&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Create-stonith-for-physical-server&quot;&gt;&lt;a href=&quot;#Create-stonith-for-physical-server&quot; class=&quot;headerlink&quot; title=&quot;Create stonith for physical server&quot;&gt;&lt;/a&gt;Create stonith for physical server&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# pcs stonith create node01-fencing fence_ipmilan pcmk_host_list=&quot;nod01&quot; \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipaddr=&lt;span class=&quot;string&quot;&gt;&quot;node1_ipmi_ipaddr&quot;&lt;/span&gt; login=ADMIN passwd=ADMIN lanplus=&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt; power_&lt;span class=&quot;built_in&quot;&gt;wait&lt;/span&gt;=4 \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;op monitor interval=60s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# pcs stonith create node02-fencing fence_ipmilan pcmk_host_list=&quot;node02&quot; \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; ipaddr=&lt;span class=&quot;string&quot;&gt;&quot;node2_ipmi_ipaddr&quot;&lt;/span&gt; login=ADMIN passwd=ADMIN lanplus=&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt; power_&lt;span class=&quot;built_in&quot;&gt;wait&lt;/span&gt;=4 \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;op monitor interval=60s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# pcs stonith create node03-fencing fence_ipmilan pcmk_host_list=&quot;node03&quot; \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipaddr=&lt;span class=&quot;string&quot;&gt;&quot;node3_ipmi_ipaddr&quot;&lt;/span&gt; login=ADMIN passwd=ADMIN lanplus=&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt; power_&lt;span class=&quot;built_in&quot;&gt;wait&lt;/span&gt;=4 op \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;monitor interval=60s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# pcs property set stonith-enabled=true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# pcs status&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Cluster name: ha-cluster&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Online: [ node02 node03 node01 ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Full list of resources:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; node01-fencing	(stonith:fence_ipmilan):	Started node02&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; node03-fencing	(stonith:fence_ipmilan):	Started node01&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; node02-fencing	(stonith:fence_ipmilan):	Started node03&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PCSD Status:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  node03: Online&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  node01: Online&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  node02: Online&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Daemon Status:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  corosync: active/disabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  pacemaker: active/disabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  pcsd: active/enabled&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Get-quorum-info&quot;&gt;&lt;a href=&quot;#Get-quorum-info&quot; class=&quot;headerlink&quot; title=&quot;Get quorum info&quot;&gt;&lt;/a&gt;Get quorum info&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ corosync-quorumtool&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Quorum information&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Date:             Mon Mar 13 22:08:01 2017&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Quorum provider:  corosync_votequorum&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Nodes:            3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Node ID:          0x00000001&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ring ID:          1/568&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Quorate:          Yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Votequorum information&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;----------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Expected votes:   3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Highest expected: 3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Total votes:      3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Quorum:           2  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Flags:            Quorate &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Membership information&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;----------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Nodeid      Votes Name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0x00000001          1 192.168.xx.130 (&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0x00000002          1 192.168.xx.131&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0x00000003          1 192.168.xx.132&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$  corosync-cmapctl|grep members&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;runtime.totem.pg.mrp.srp.members.1.config_version (u64) = 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;runtime.totem.pg.mrp.srp.members.1.ip (str) = r(0) ip(192.168.xx.130) r(1) ip(172.29.xx.73) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;runtime.totem.pg.mrp.srp.members.1.join_count (u32) = 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;runtime.totem.pg.mrp.srp.members.1.status (str) = joined&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;runtime.totem.pg.mrp.srp.members.2.config_version (u64) = 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;runtime.totem.pg.mrp.srp.members.2.ip (str) = r(0) ip(192.168.xx.131) r(1) ip(172.29.xx.74) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;runtime.totem.pg.mrp.srp.members.2.join_count (u32) = 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;runtime.totem.pg.mrp.srp.members.2.status (str) = joined&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;runtime.totem.pg.mrp.srp.members.3.config_version (u64) = 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;runtime.totem.pg.mrp.srp.members.3.ip (str) = r(0) ip(192.168.xx.132) r(1) ip(172.29.xx.76) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;runtime.totem.pg.mrp.srp.members.3.join_count (u32) = 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;runtime.totem.pg.mrp.srp.members.3.status (str) = joined&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;backup-and-restore-configuration&quot;&gt;&lt;a href=&quot;#backup-and-restore-configuration&quot; class=&quot;headerlink&quot; title=&quot;backup and restore configuration&quot;&gt;&lt;/a&gt;backup and restore configuration&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ pcs cluster cib &amp;gt; xx.xml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs cluster cib-push xx.xml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs config&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Create-resources&quot;&gt;&lt;a href=&quot;#Create-resources&quot; class=&quot;headerlink&quot; title=&quot;Create resources&quot;&gt;&lt;/a&gt;Create resources&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource create VirtualIP1 ocf:heartbeat:IPaddr2 ip=10.0.0.77 cidr_netmask=8 nic=br0 op monitor interval=60s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint location VirtualIP prefers bgi-sz1-homer-test73=0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource create ansible-kvm VirtualDomain hypervisor=&lt;span class=&quot;string&quot;&gt;&quot;qemu:///system&quot;&lt;/span&gt; config=&lt;span class=&quot;string&quot;&gt;&quot;/export/glusterfs/vms/kvm/xml/ansible-kvm.xml&quot;&lt;/span&gt; migration_transport=ssh op start timeout=&lt;span class=&quot;string&quot;&gt;&quot;60s&quot;&lt;/span&gt; op stop timeout=&lt;span class=&quot;string&quot;&gt;&quot;60s&quot;&lt;/span&gt; op monitor  timeout=&lt;span class=&quot;string&quot;&gt;&quot;30&quot;&lt;/span&gt; interval=&lt;span class=&quot;string&quot;&gt;&quot;20&quot;&lt;/span&gt;  meta allow-migrate=&lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt; op migrate_from interval=&lt;span class=&quot;string&quot;&gt;&quot;0&quot;&lt;/span&gt; timeout=&lt;span class=&quot;string&quot;&gt;&quot;120s&quot;&lt;/span&gt; op migrate_to interval=&lt;span class=&quot;string&quot;&gt;&quot;0&quot;&lt;/span&gt; timeout=&lt;span class=&quot;string&quot;&gt;&quot;120&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# if you want add to group, add --group xxx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource create ansible-kvm VirtualDomain hypervisor=&lt;span class=&quot;string&quot;&gt;&quot;qemu:///system&quot;&lt;/span&gt; config=&lt;span class=&quot;string&quot;&gt;&quot;/export/glusterfs/vms/kvm/xml/ansible-kvm.xml&quot;&lt;/span&gt; migration_transport=ssh op start timeout=&lt;span class=&quot;string&quot;&gt;&quot;60s&quot;&lt;/span&gt; op stop timeout=&lt;span class=&quot;string&quot;&gt;&quot;60s&quot;&lt;/span&gt; op monitor  timeout=&lt;span class=&quot;string&quot;&gt;&quot;30&quot;&lt;/span&gt; interval=&lt;span class=&quot;string&quot;&gt;&quot;20&quot;&lt;/span&gt;  meta allow-migrate=&lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt; op migrate_from interval=&lt;span class=&quot;string&quot;&gt;&quot;0&quot;&lt;/span&gt; timeout=&lt;span class=&quot;string&quot;&gt;&quot;120s&quot;&lt;/span&gt; op migrate_to interval=&lt;span class=&quot;string&quot;&gt;&quot;0&quot;&lt;/span&gt; timeout=&lt;span class=&quot;string&quot;&gt;&quot;120&quot;&lt;/span&gt; --group GROUP-A&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# http&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# pcs resource create webres apache configfile=&quot;/etc/httpd/conf/httpd.conf&quot; statusurl=&quot;http://127.0.0.1/server-status&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Create-the-resource-group&quot;&gt;&lt;a href=&quot;#Create-the-resource-group&quot; class=&quot;headerlink&quot; title=&quot;Create the resource group&quot;&gt;&lt;/a&gt;Create the resource group&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pcs resource group add GROUP-A resource-1 resource-2 resource-3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;monitor&quot;&gt;&lt;a href=&quot;#monitor&quot; class=&quot;headerlink&quot; title=&quot;monitor&quot;&gt;&lt;/a&gt;monitor&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;crm_mon&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs status nodes&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Standby-and-maintance&quot;&gt;&lt;a href=&quot;#Standby-and-maintance&quot; class=&quot;headerlink&quot; title=&quot;Standby and maintance&quot;&gt;&lt;/a&gt;Standby and maintance&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pcs cluster standby&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs cluster unstandby&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs cluster stop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs cluster stop --all&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#BAN&quot; the resource group  in which you would like to stop the cluster services&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs resource ban resource-name node-name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#maintenance&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs property &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; maintenance-mode=&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs property &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; maintenance-mode=flase&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Resource-constraint&quot;&gt;&lt;a href=&quot;#Resource-constraint&quot; class=&quot;headerlink&quot; title=&quot;Resource constraint&quot;&gt;&lt;/a&gt;Resource constraint&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Location Constraints:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Resource: VirtualIP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Enabled on: bgi-sz1-homer-test73 (score:0)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Resource: VirtualIP2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Enabled on: bgi-sz1-homer-test74 (score:0)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Resource: VirtualIP3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Enabled on: bgi-sz1-homer-test76 (score:0)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ordering Constraints:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Colocation Constraints:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ticket Constraints:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint location resource-name prefers nodename=50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Using location constraint, you can also avoid specific node to run a particular resource&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint location resource-name avoids nodename=50&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Resource-order&quot;&gt;&lt;a href=&quot;#Resource-order&quot; class=&quot;headerlink&quot; title=&quot;Resource order&quot;&gt;&lt;/a&gt;Resource order&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# create&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint order resource1 &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt; resource2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint order resource2 &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt; resource3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# remove&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint order --full&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint order remove resource1 id_output&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# example&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint order VirtualIP1 &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt; manager-kvm&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Adding VirtualIP1 manager-kvm (kind: Mandatory) (Options: first-action=start &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt;-action=start)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Location Constraints:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Resource: VirtualIP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Enabled on: bgi-sz1-homer-test73 (score:0)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Resource: VirtualIP2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Enabled on: bgi-sz1-homer-test74 (score:0)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Resource: VirtualIP3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Enabled on: bgi-sz1-homer-test76 (score:0)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ordering Constraints:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  start VirtualIP1 &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt; start manager-kvm (kind:Mandatory)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Colocation Constraints:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ticket Constraints:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint order --full&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ordering Constraints:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  start VirtualIP1 &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt; start manager-kvm (kind:Mandatory) (id:order-VirtualIP1-manager-kvm-mandatory)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#input id&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint order remove VirtualIP1 order-VirtualIP1-manager-kvm-mandatory&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint order --full&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ordering Constraints:&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Resource-migration&quot;&gt;&lt;a href=&quot;#Resource-migration&quot; class=&quot;headerlink&quot; title=&quot;Resource migration&quot;&gt;&lt;/a&gt;Resource migration&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource update resource-name meta migration-threshold=&lt;span class=&quot;string&quot;&gt;&quot;2&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;or &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource defaults migration-threshold=2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource update resource-name meta failure-timeout=60s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource show resource-name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# show fail-count&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource failcount show&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;or&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ crm_failcount -r resource-name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# reset the fail-counts &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource failcount reset resource-name node-name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;or &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource cleanup resource-name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource failcount show  resource-name&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Not-move-resource-back&quot;&gt;&lt;a href=&quot;#Not-move-resource-back&quot; class=&quot;headerlink&quot; title=&quot;Not move resource back&quot;&gt;&lt;/a&gt;Not move resource back&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource defaults resource-stickiness=100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource defaults&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Colocation-constraint&quot;&gt;&lt;a href=&quot;#Colocation-constraint&quot; class=&quot;headerlink&quot; title=&quot;Colocation constraint&quot;&gt;&lt;/a&gt;Colocation constraint&lt;/h4&gt;&lt;p&gt;A colocation constraint determines that the location of one resource depends on the location of another resource&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint colocation add resource1 resource2 INFINITY&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint colocation add resource1 with resource2 INFINITY&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#remove&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint --full&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint colocation remove resource1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;Resource-location&quot;&gt;&lt;a href=&quot;#Resource-location&quot; class=&quot;headerlink&quot; title=&quot;Resource location&quot;&gt;&lt;/a&gt;Resource location&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint location resource-name prefers node1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint location resource-name avoids node1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint --full&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint location remove location-resource-name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs constraint location resource-name prefers node1=INFINITY&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ crm_simulate &lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt;L &lt;span class=&quot;comment&quot;&gt;# get resource score&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Resource pefer node1,node2,node3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs constraint location resource-name prefers node1=200&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs constraint location resource-name prefers node2=100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs constraint location resource-name prefers node3=0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Update-resource-config&quot;&gt;&lt;a href=&quot;#Update-resource-config&quot; class=&quot;headerlink&quot; title=&quot;Update resource config&quot;&gt;&lt;/a&gt;Update resource config&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource update ansible-kvm config=/opt/lustresz/DAS_NFS/vms/HA-kvm/homerl/config/ansible-kvm.xml&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Manage-resource&quot;&gt;&lt;a href=&quot;#Manage-resource&quot; class=&quot;headerlink&quot; title=&quot;Manage resource&quot;&gt;&lt;/a&gt;Manage resource&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource &lt;span class=&quot;built_in&quot;&gt;disable&lt;/span&gt; resource-name    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource &lt;span class=&quot;built_in&quot;&gt;enable&lt;/span&gt; resource-name    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource failcount show resource-name &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource failcount reset resource-name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pcs resource cleanup resource-name&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Clear-error-output&quot;&gt;&lt;a href=&quot;#Clear-error-output&quot; class=&quot;headerlink&quot; title=&quot;Clear error output&quot;&gt;&lt;/a&gt;Clear error output&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pcs resource cleanup&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Check-cluster-status&quot;&gt;&lt;a href=&quot;#Check-cluster-status&quot; class=&quot;headerlink&quot; title=&quot;Check cluster status&quot;&gt;&lt;/a&gt;Check cluster status&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ crm_verify -L -V&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Destroy-cluster&quot;&gt;&lt;a href=&quot;#Destroy-cluster&quot; class=&quot;headerlink&quot; title=&quot;Destroy cluster&quot;&gt;&lt;/a&gt;Destroy cluster&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pcs cluster destroy --all&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#or &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;systemctl stop pacemaker corosync&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rm -f /var/lib/pacemaker/cib/*&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Reference&lt;br&gt;&lt;a href=&quot;http://www.unixarena.com/2016/01/rhel-7-pacemaker-define-the-resource-behaviour.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;RHEL 7 – Pacemaker&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/High_Availability_Add-On_Reference/s1-multistateresource-HAAR.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;High_Availability_Add-On_Reference&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Physical-node-OS&quot;&gt;&lt;a href=&quot;#Physical-node-OS&quot; class=&quot;headerlink&quot; title=&quot;Physical node OS&quot;&gt;&lt;/a&gt;Physical node OS&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;CentOS L
    
    </summary>
    
      <category term="Linux configuration" scheme="http://yoursite.com/categories/Linux-configuration/"/>
    
    
      <category term="centos" scheme="http://yoursite.com/tags/centos/"/>
    
      <category term="ha" scheme="http://yoursite.com/tags/ha/"/>
    
      <category term="cluster" scheme="http://yoursite.com/tags/cluster/"/>
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="3 nodes" scheme="http://yoursite.com/tags/3-nodes/"/>
    
      <category term="corosync" scheme="http://yoursite.com/tags/corosync/"/>
    
      <category term="pacemaker" scheme="http://yoursite.com/tags/pacemaker/"/>
    
      <category term="kvm" scheme="http://yoursite.com/tags/kvm/"/>
    
      <category term="virtualization" scheme="http://yoursite.com/tags/virtualization/"/>
    
  </entry>
  
  <entry>
    <title>kvm_tips</title>
    <link href="http://yoursite.com/2017/03/09/kvm-tips/"/>
    <id>http://yoursite.com/2017/03/09/kvm-tips/</id>
    <published>2017-03-09T13:40:11.000Z</published>
    <updated>2017-03-09T13:52:57.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;Install&quot;&gt;&lt;a href=&quot;#Install&quot; class=&quot;headerlink&quot; title=&quot;Install&quot;&gt;&lt;/a&gt;Install&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;yum -y install qemu-kvm libvirt virt-install bridge-utils&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;KVM-Multipath&quot;&gt;&lt;a href=&quot;#KVM-Multipath&quot; class=&quot;headerlink&quot; title=&quot;KVM Multipath&quot;&gt;&lt;/a&gt;KVM Multipath&lt;/h3&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;disk&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;file&#39;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;device&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;disk&#39;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;driver&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;qemu&#39;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;qcow2&#39;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;file&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;/kvm/fileA.qcow2&#39;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;dev&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;sda&#39;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;bus&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;scsi&#39;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;serial&lt;/span&gt;&amp;gt;&lt;/span&gt;0002&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;serial&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;address&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;drive&#39;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;controller&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;0&#39;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;bus&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;0&#39;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;target&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;0&#39;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;unit&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;0&#39;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;disk&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;disk&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;file&#39;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;device&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;disk&#39;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;driver&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;qemu&#39;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;qcow2&#39;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;file&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;/kvm/fileA.qcow2&#39;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;dev&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;sdb&#39;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;bus&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;scsi&#39;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;serial&lt;/span&gt;&amp;gt;&lt;/span&gt;0002&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;serial&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;address&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;drive&#39;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;controller&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;0&#39;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;bus&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;0&#39;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;target&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;0&#39;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;unit&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;1&#39;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;disk&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Snapshot&quot;&gt;&lt;a href=&quot;#Snapshot&quot; class=&quot;headerlink&quot; title=&quot;Snapshot&quot;&gt;&lt;/a&gt;Snapshot&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# list&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;qemu-img snapshot &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; /kvm/fileA.qcow2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ID ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1 ...  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# create&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;qemu-img snapshot -c first /kvm/fileA.qcow2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# recovery&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;qemu-img snapshot &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; 1 /kvm/fileA.qcow2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Delete&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;qemu-img snapshot &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; 1 /kvm/fileA.qcow2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Create-convert-base-image&quot;&gt;&lt;a href=&quot;#Create-convert-base-image&quot; class=&quot;headerlink&quot; title=&quot;Create convert base image&quot;&gt;&lt;/a&gt;Create convert base image&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;qemu-img create &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; qed vm1.qed 80G&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;qemu-img convert &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; vmdk -O raw centos7.vmdk centos7.img&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#Base images&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;qemu-img create -b centos6-base.qed &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt;  qed  centos6-tmp.qed&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;qemu-img rebase  -u -b centos-6.qed ./kvm1.qed&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Virt-manager-show-unreadable-code&quot;&gt;&lt;a href=&quot;#Virt-manager-show-unreadable-code&quot; class=&quot;headerlink&quot; title=&quot;Virt-manager show unreadable code&quot;&gt;&lt;/a&gt;Virt-manager show unreadable code&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;yum -y install dejavu-sans-fonts&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# if you need Chinese&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yum -y install ghostscript-chinese-zh_CN&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Install&quot;&gt;&lt;a href=&quot;#Install&quot; class=&quot;headerlink&quot; title=&quot;Install&quot;&gt;&lt;/a&gt;Install&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;
    
    </summary>
    
      <category term="virtualization" scheme="http://yoursite.com/categories/virtualization/"/>
    
    
      <category term="centos" scheme="http://yoursite.com/tags/centos/"/>
    
      <category term="kvm" scheme="http://yoursite.com/tags/kvm/"/>
    
      <category term="virtualization" scheme="http://yoursite.com/tags/virtualization/"/>
    
      <category term="multipath" scheme="http://yoursite.com/tags/multipath/"/>
    
  </entry>
  
  <entry>
    <title>Ext filesystem recovery</title>
    <link href="http://yoursite.com/2017/01/11/Ext_filesystem_recovery/"/>
    <id>http://yoursite.com/2017/01/11/Ext_filesystem_recovery/</id>
    <published>2017-01-11T14:19:55.000Z</published>
    <updated>2017-03-08T12:48:20.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;Exclude-packages&quot;&gt;&lt;a href=&quot;#Exclude-packages&quot; class=&quot;headerlink&quot; title=&quot;Exclude packages&quot;&gt;&lt;/a&gt;Exclude packages&lt;/h3&gt;&lt;h4 id=&quot;Cli&quot;&gt;&lt;a href=&quot;#Cli&quot; class=&quot;headerlink&quot; title=&quot;Cli&quot;&gt;&lt;/a&gt;Cli&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;118&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;119&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;120&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;121&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;122&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;123&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;124&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;125&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;126&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;127&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;128&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;129&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;130&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/dev/zero of=/dev/shm/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt; bs=1M count=512&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ mfks.ext3 -b 4096 /dev/shm/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ mount /dev/shm/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt; /mnt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ rm &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; &amp;#123;0..10000&amp;#125;; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$i&lt;/span&gt;-&lt;span class=&quot;variable&quot;&gt;$i&lt;/span&gt;-&lt;span class=&quot;variable&quot;&gt;$i&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;; &lt;span class=&quot;keyword&quot;&gt;done&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ filefrag -v &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; is: ef53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem cylinder groups approximately 4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;File size of &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt; is 146688 (36 blocks of 4096 bytes)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; ext:     logical_offset:        physical_offset: length:   expected: flags:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   0:        0..      15:       2576..      2591:     16:             merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   1:       16..      16:      33424..     33424:      1:       2592: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   2:       17..      17:      33457..     33457:      1:      33425: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   3:       18..      18:      33490..     33490:      1:      33458: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   4:       19..      19:      33523..     33523:      1:      33491: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   5:       20..      20:      33556..     33556:      1:      33524: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   6:       21..      21:      33589..     33589:      1:      33557: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   7:       22..      22:      33622..     33622:      1:      33590: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   8:       23..      23:      33655..     33655:      1:      33623: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   9:       24..      24:      33688..     33688:      1:      33656: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  10:       25..      25:      33721..     33721:      1:      33689: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  11:       26..      26:      33754..     33754:      1:      33722: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  12:       27..      27:      33787..     33787:      1:      33755: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  13:       28..      28:      33820..     33820:      1:      33788: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  14:       29..      29:      33853..     33853:      1:      33821: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  15:       30..      30:      33886..     33886:      1:      33854: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  16:       31..      31:      33919..     33919:      1:      33887: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  17:       32..      32:      33952..     33952:      1:      33920: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  18:       33..      33:      34017..     34017:      1:      33953: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  19:       34..      34:      34082..     34082:      1:      34018: merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  20:       35..      35:      34147..     34147:      1:      34083: last,merged,eof&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;debugfs /dev/shm/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;debugfs 1.42.13 (17-May-2015)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;debugfs: &lt;span class=&quot;built_in&quot;&gt;stat&lt;/span&gt; &amp;lt;14&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Inode: 14   Type: regular    Mode:  0644   Flags: 0x0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Generation: 3749441442    Version: 0x00000000:00000001&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;User:     0   Group:     0   Size: 146688&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;File ACL: 0    Directory ACL: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Links: 1   Blockcount: 296&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Fragment:  Address: 0    Number: 0    Size: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; ctime: 0x58763a68:1f1d1ee4 -- Wed Jan 11 22:00:08 2017&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; atime: 0x58763a67:e66e9d44 -- Wed Jan 11 22:00:07 2017&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; mtime: 0x58763a68:1f1d1ee4 -- Wed Jan 11 22:00:08 2017&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;crtime: 0x58763a67:e66e9d44 -- Wed Jan 11 22:00:07 2017&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Size of extra inode fields: 32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;BLOCKS:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(0-11):2576-2587, (IND):1538, (12-15):2588-2591, (16):33424, (17):33457, (18):33490, (19):33523, (20):33556, (21):33589, (22):33622, (23):33655, (24):33688, (25):33721, (26):33754, (27):33787, (28):33820, (29):33853, (30):33886, (31):33919, (32):33952, (33):34017, (34):34082, (35):34147&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TOTAL: 37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/dev/shm/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt; of=&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-1 bs=4K skip=2576 count=$((2591-2576+1))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;head &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-1 ; wc &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-1 ;tail &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0-0-0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1-1-1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2-2-2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3-3-3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4-4-4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5-5-5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6-6-6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7-7-7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8-8-8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9-9-9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4591 &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4582-4582-4582&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4583-4583-4583&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4584-4584-4584&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4585-4585-4585&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4586-4586-4586&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4587-4587-4587&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4588-4588-4588&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4589-4589-4589&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4590-4590-4590&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/dev/shm/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt; of=&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-2 bs=4K skip=33424 count=1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1+0 records &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1+0 records out&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4096 bytes (4.1 kB, 4.0 KiB) copied, 0.000193943 s, 21.1 MB/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;root@homerl-System-Product-Name:/mnt&lt;span class=&quot;comment&quot;&gt;# head test-2 ; wc -l test-2 ;tail test-2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;591-4591-4591&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4592-4592-4592&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4593-4593-4593&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4594-4594-4594&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4595-4595-4595&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4596-4596-4596&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4597-4597-4597&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4598-4598-4598&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4599-4599-4599&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4600-4600-4600&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;273 &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4855-4855-4855&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4856-4856-4856&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4857-4857-4857&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4858-4858-4858&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4859-4859-4859&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4860-4860-4860&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4861-4861-4861&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4862-4862-4862&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4863-4863-4863&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;root@homerl-System-Product-Name:/mnt&lt;span class=&quot;comment&quot;&gt;# dd if=/dev/shm/test of=test-3 bs=4K skip=33457 count=1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1+0 records &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1+0 records out&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4096 bytes (4.1 kB, 4.0 KiB) copied, 0.000193132 s, 21.2 MB/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;root@homerl-System-Product-Name:/mnt&lt;span class=&quot;comment&quot;&gt;# head test-3 ; wc -l test-3 ;tail test-3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64-4864-4864&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4865-4865-4865&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4866-4866-4866&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4867-4867-4867&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4868-4868-4868&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4869-4869-4869&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4870-4870-4870&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4871-4871-4871&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4872-4872-4872&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4873-4873-4873&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;273 &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5128-5128-5128&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5129-5129-5129&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5130-5130-5130&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5131-5131-5131&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5132-5132-5132&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5133-5133-5133&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5134-5134-5134&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5135-5135-5135&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5136-5136-5136&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;513&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Exclude-packages&quot;&gt;&lt;a href=&quot;#Exclude-packages&quot; class=&quot;headerlink&quot; title=&quot;Exclude packages&quot;&gt;&lt;/a&gt;Exclude packages&lt;/h3&gt;&lt;h4 id=&quot;Cli&quot;&gt;&lt;a h
    
    </summary>
    
      <category term="filesystem" scheme="http://yoursite.com/categories/filesystem/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="ext4" scheme="http://yoursite.com/tags/ext4/"/>
    
  </entry>
  
  <entry>
    <title>Learn openzfs</title>
    <link href="http://yoursite.com/2017/01/03/Learn-openzfs/"/>
    <id>http://yoursite.com/2017/01/03/Learn-openzfs/</id>
    <published>2017-01-03T12:16:44.000Z</published>
    <updated>2017-03-08T13:06:08.000Z</updated>
    
    <content type="html">&lt;p&gt;###&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00003fd0  00 00 00 00 00 00 00 00  11 7a 0c b1 7a da 10 02  |.........z..z...|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000043c0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0001ffd0  00 00 00 00 00 00 00 00  11 7a 0c b1 7a da 10 02  |.........z..z...|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00020010  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00021000  0c b1 ba 00 00 00 00 00  88 13 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000210b0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000213d0  00 00 00 00 00 00 00 00  11 7a 0c b1 7a da 10 02  |.........z..z...|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000214b0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000217d0  00 00 00 00 00 00 00 00  11 7a 0c b1 7a da 10 02  |.........z..z...|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000217e0  51 c5 e5 d7 3c d9 79 66  b2 6d 81 67 56 bd 92 df  |Q...&amp;lt;.yf.m.gV...|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000217f0  f7 c7 03 02 fa fb 73 8c  2b 8c 9c 74 8a 9e a3 b2  |......s.+..t....|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00021800  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0003ffd0  00 00 00 00 00 00 00 00  11 7a 0c b1 7a da 10 02  |.........z..z...|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0003ffe0  4a 12 20 c9 20 33 d9 75  a4 0b 73 a6 7f 7e 7f 06  |J. . 3.u..s..~..|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0003fff0  da 88 65 39 62 62 86 01  75 68 a3 f8 be a3 bf fd  |..e9bb..uh......|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00040000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0x3fd0=12240&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0x1ffd0=131024&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0x20010=131088&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0x213d0=136144&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0x217d0=137168&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0x3ffd0=262096&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0x40000=262144&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print 12240/1024&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11.9531&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print 131024/1024&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;127.953&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print 131088/1024&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;128.016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print 136144/1024&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;132.953&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print 137168/1024&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;133.953&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print 262096/1024&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;255.953&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print 262144/1024&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;256&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/mnt/disk0 of=&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt; bs=1K count=256&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/mnt/disk0 of=&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;1 bs=1K count=256 skip=256&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hexdump -C &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;1  | grep &lt;span class=&quot;string&quot;&gt;&quot;11 7a 0c b1&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00003fd0  00 00 00 00 00 00 00 00  11 7a 0c b1 7a da 10 02  |.........z..z...|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0001ffd0  00 00 00 00 00 00 00 00  11 7a 0c b1 7a da 10 02  |.........z..z...|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000213d0  00 00 00 00 00 00 00 00  11 7a 0c b1 7a da 10 02  |.........z..z...|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000217d0  00 00 00 00 00 00 00 00  11 7a 0c b1 7a da 10 02  |.........z..z...|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0003ffd0  00 00 00 00 00 00 00 00  11 7a 0c b1 7a da 10 02  |.........z..z...|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hexdump -C &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;  | grep &lt;span class=&quot;string&quot;&gt;&quot;11 7a 0c b1&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00003fd0  00 00 00 00 00 00 00 00  11 7a 0c b1 7a da 10 02  |.........z..z...|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0001ffd0  00 00 00 00 00 00 00 00  11 7a 0c b1 7a da 10 02  |.........z..z...|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000213d0  00 00 00 00 00 00 00 00  11 7a 0c b1 7a da 10 02  |.........z..z...|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000217d0  00 00 00 00 00 00 00 00  11 7a 0c b1 7a da 10 02  |.........z..z...|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0003ffd0  00 00 00 00 00 00 00 00  11 7a 0c b1 7a da 10 02  |.........z..z...|&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;zbt_magic: ZIO block tail magic number. The value is&lt;br&gt;0x210da7ab10c7a11 (zio-data-bloc-tail).&lt;br&gt;Why reverse order ?&lt;/p&gt;
&lt;h4 id=&quot;Uberblock&quot;&gt;&lt;a href=&quot;#Uberblock&quot; class=&quot;headerlink&quot; title=&quot;Uberblock&quot;&gt;&lt;/a&gt;Uberblock&lt;/h4&gt;&lt;p&gt;ub_magic&lt;br&gt;The uberblock magic number is a 64 bit integer used to identify a device as containing ZFS data.&lt;br&gt;Big Endian: 0x00bab10c&lt;br&gt;Little Endian: 0x0cb1ba00&lt;/p&gt;
&lt;p&gt;0x21000=135168&lt;br&gt;awk ‘BEGIN{print 135168/1024-128}’&lt;br&gt;4&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;hexdump -C disk0 | grep &lt;span class=&quot;string&quot;&gt;&quot;0c b1 ba 00&quot;&lt;/span&gt; -i&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00021000  0c b1 ba 00 00 00 00 00  88 13 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00021400  0c b1 ba 00 00 00 00 00  88 13 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00061000  0c b1 ba 00 00 00 00 00  88 13 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00061400  0c b1 ba 00 00 00 00 00  88 13 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3ffa1000  0c b1 ba 00 00 00 00 00  88 13 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3ffa1400  0c b1 ba 00 00 00 00 00  88 13 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3ffe1000  0c b1 ba 00 00 00 00 00  88 13 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3ffe1400  0c b1 ba 00 00 00 00 00  88 13 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;###&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>A copy about ZFS Internals(p1-p5)</title>
    <link href="http://yoursite.com/2016/12/28/Learn-ZFS-Internals-p1-p5/"/>
    <id>http://yoursite.com/2016/12/28/Learn-ZFS-Internals-p1-p5/</id>
    <published>2016-12-28T02:38:38.000Z</published>
    <updated>2016-12-28T13:38:28.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;ZFS-Internals-It-‘s-dangerous-operations&quot;&gt;&lt;a href=&quot;#ZFS-Internals-It-‘s-dangerous-operations&quot; class=&quot;headerlink&quot; title=&quot;ZFS Internals It ‘s dangerous operations&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://www.eall.com.br/blog/?p=312&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ZFS Internals&lt;/a&gt; It ‘s dangerous operations&lt;/h3&gt;&lt;p&gt;After 8 years, I ‘m try to study openzfs&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/dev/zero of=disk0 bs=1M count=100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104857600 bytes (105 MB) copied, 0.0582985 s, 1.8 GB/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/dev/zero of=disk1 bs=1M count=100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104857600 bytes (105 MB) copied, 0.0587067 s, 1.8 GB/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zpool create &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk0  /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk1 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# I don &#39;t know why only 128M could be used. loss a lot of capacity&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zpool list &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NAME        SIZE  ALLOC   FREE  EXPANDSZ   FRAG    CAP  DEDUP  HEALTH  ALTROOT&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool   160M   244K   160M         -     1%     0%  1.00x  ONLINE  -&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zfs get compression &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NAME       PROPERTY     VALUE     SOURCE&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool  compression  off       default&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zfs get recordsize &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NAME       PROPERTY    VALUE    SOURCE&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool  recordsize  128K     default&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ touch /&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool/empty &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ du -hs /&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool/empty&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;512	/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool/empty&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ashift=0 ?&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool  ashift    0       default&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ rm &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; testfile ;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; &amp;#123;0..65535&amp;#125;; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$i&lt;/span&gt; &amp;gt;&amp;gt; testfile; &lt;span class=&quot;keyword&quot;&gt;done&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ls -li&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7 -rw-r--r-- 1 root root 382106 12月 28 12:45 testfile&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zdb -dddddddd &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool/ 7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Dataset &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool [ZPL], ID 21, cr_txg 1, 404K, 7 objects, rootbp DVA[0]=&amp;lt;0:16600:200&amp;gt; DVA[1]=&amp;lt;1:89200:200&amp;gt; [L0 DMU objset] fletcher4 lz4 LE contiguous unique double size=800L/200P birth=77L/77P fill=7 cksum=b706a1be7:479be3ec2c2:e63cf120702c:1fa949c8882cfd&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Object  lvl   iblk   dblk  dsize  lsize   %full  &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         7    2    16K   128K   385K   384K  100.00  ZFS plain file (K=inherit) (Z=inherit)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                        168   bonus  System attributes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	dnode flags: USED_BYTES USERUSED_ACCOUNTED &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	dnode maxblkid: 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	path	/testfile&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	uid     0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	gid     0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	atime	Wed Dec 28 12:45:10 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mtime	Wed Dec 28 12:45:12 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	ctime	Wed Dec 28 12:45:12 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	crtime	Wed Dec 28 12:45:10 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	gen	77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mode	100644&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	size	382106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	parent	4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	links	1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	pflags	40800000004&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Indirect blocks:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               0 L1  0:2400:200 1:2400:200 4000L/200P F=3 B=77/77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               0  L0 1:28000:20000 20000L/20000P F=1 B=77/77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           20000  L0 1:48000:20000 20000L/20000P F=1 B=77/77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           40000  L0 1:68000:20000 20000L/20000P F=1 B=77/77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		segment [0000000000000000, 0000000000060000) size  384K&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print strtonum(&quot;0x&quot;20000)&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;131072&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;0 0 L1  0:2400:200 1:2400:200 4000L/200P F=3 B=77/77&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;L1 means two levels of indirection (number of block pointers which need to be traversed to arrive at this data)&lt;/li&gt;
&lt;li&gt;0:2400:200 = disk0 , first raidz volume ?&lt;/li&gt;
&lt;li&gt;the offset from the begining of the disk (2400)&lt;/li&gt;
&lt;li&gt;and the size of the block (0x200 = 512 bytes)&lt;/li&gt;
&lt;li&gt;0:2400 is the Data virtual Address 1 (dva1, Data virtual address )&lt;/li&gt;
&lt;li&gt;F=3  is the fill count, and describes the number of non-zero block pointers under this block pointer&lt;/li&gt;
&lt;li&gt;B=77/77 is the birth time, what is the same as the txg number, or some body said it ‘s a transaction number ?&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;0  L0 1:28000:20000 20000L/20000P F=1 B=77/77&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;L0 is the block level that holds data (we can have up to six levels)&lt;/li&gt;
&lt;li&gt;the fill count has a little different interpretation. Here the F= means if the block has data or not (0 or 1), what is different from the levels 1 and above, where it means “how many” non-zero block pointers under this block pointer. &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Output first 128K of our file&lt;br&gt;16 bytes per line&lt;/p&gt;
&lt;p&gt;-R poolname vdev:offset:size[:flags]&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print strtonum(&quot;0x&quot;20000)&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;131072&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zdb -R &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool/ 1:28000:20000 | head&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1:28000:20000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          0 1 2 3 4 5 6 7   8 9 a b c d e f  0123456789abcdef&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000000:  0a330a320a310a30  0a370a360a350a34  0.1.2.3.4.5.6.7.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000010:  310a30310a390a38  0a33310a32310a31  8.9.10.11.12.13.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000020:  36310a35310a3431  310a38310a37310a  14.15.16.17.18.1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000030:  0a31320a30320a39  34320a33320a3232  9.20.21.22.23.24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000040:  320a36320a35320a  0a39320a38320a37  .25.26.27.28.29.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000050:  32330a31330a3033  330a34330a33330a  30.31.32.33.34.3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;000060:  0a37330a36330a35  30340a39330a3833  5.36.37.38.39.40&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ zdb -R tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt; 1:28000:20000:r | head&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zdb -R &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool/ 1:28000:20000:r &amp;gt; file1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Found vdev: /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zdb -R &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool/ 1:48000:20000:r &amp;gt; file2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Found vdev: /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zdb -R &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool/ 1:68000:20000:r &amp;gt; file3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Found vdev: /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ls -lh&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-r--r-- 1 root root 128K 12月 28 12:51 file1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-r--r-- 1 root root 128K 12月 28 12:53 file2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-r--r-- 1 root root 128K 12月 28 12:53 file3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-r--r-- 1 root root 374K 12月 28 12:45 testfile&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ head -n 2 file1 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ head -n 2 testfile &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ tail -n 2 file1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23695&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23696&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ head -n 2 file2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23697&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23698&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ tail -n 2 file2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45541&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45$ head -n 2 file3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;542&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45543&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ tail -n 2 file3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65535&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# why output single line ?&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ tail -n 2 file3 | hexdump -C&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00000000  36 35 35 33 35 0a 00 00  00 00 00 00 00 00 00 00  |65535...........|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00000010  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00002b60  00 00 00 00 00 00 00 00  00 00 00 00              |............|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00002b6c&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ tail -n 2 testfile | hexdump -C&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00000000  36 35 35 33 34 0a 36 35  35 33 35 0a              |65534.65535.|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0000000c&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#delete zero last line in file3, you could get same md5sum&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ md5sum  testfile &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43a1b3e2e25c9410daefdaa1d78678bf  testfile&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cat file1 file2 file3 | md5sum &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43a1b3e2e25c9410daefdaa1d78678bf  -&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;Test-copy-on-write&quot;&gt;&lt;a href=&quot;#Test-copy-on-write&quot; class=&quot;headerlink&quot; title=&quot;Test copy on write&quot;&gt;&lt;/a&gt;Test copy on write&lt;/h1&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ cp testfile testfile-1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ls -i testfile-1 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22 testfile-1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zdb -dddddddd &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool/ 22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Dataset &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool [ZPL], ID 21, cr_txg 1, 1.14M, 11 objects, rootbp DVA[0]=&amp;lt;0:8e00:200&amp;gt; DVA[1]=&amp;lt;1:14e00:200&amp;gt; [L0 DMU objset] fletcher4 lz4 LE contiguous unique double size=800L/200P birth=631L/631P fill=11 cksum=b211ccbf0:3ff67b6c728:bddd89c4f0bb:183789ced23226&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Object  lvl   iblk   dblk  dsize  lsize   %full  &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        22    2    16K   128K   385K   384K  100.00  ZFS plain file (K=inherit) (Z=inherit)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                        168   bonus  System attributes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	dnode flags: USED_BYTES USERUSED_ACCOUNTED &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	dnode maxblkid: 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	path	/testfile-1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	uid     0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	gid     0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	atime	Wed Dec 28 13:31:22 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mtime	Wed Dec 28 13:31:22 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	ctime	Wed Dec 28 13:31:22 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	crtime	Wed Dec 28 13:31:22 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	gen	631&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mode	100644&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	size	382106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	parent	4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	links	1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	pflags	40800000004&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Indirect blocks:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               0 L1  0:2600:200 1:2600:200 4000L/200P F=3 B=631/631&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               0  L0 1:adc00:20000 20000L/20000P F=1 B=631/631&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           20000  L0 1:cdc00:20000 20000L/20000P F=1 B=631/631&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           40000  L0 1:edc00:20000 20000L/20000P F=1 B=631/631&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		segment [0000000000000000, 0000000000060000) size  384K&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; haha &amp;gt;&amp;gt; testfile-1 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zdb -dddddddd &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool/ 22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Dataset &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool [ZPL], ID 21, cr_txg 1, 1.14M, 11 objects, rootbp DVA[0]=&amp;lt;0:5e00:200&amp;gt; DVA[1]=&amp;lt;1:6a00:200&amp;gt; [L0 DMU objset] fletcher4 lz4 LE contiguous unique double size=800L/200P birth=637L/637P fill=11 cksum=bcaba3f58:44283babf90:cb3dd715909e:1a01d96e52&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt;6b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Object  lvl   iblk   dblk  dsize  lsize   %full  &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        22    2    16K   128K   385K   384K  100.00  ZFS plain file (K=inherit) (Z=inherit)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                        168   bonus  System attributes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	dnode flags: USED_BYTES USERUSED_ACCOUNTED &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	dnode maxblkid: 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	path	/testfile-1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	uid     0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	gid     0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	atime	Wed Dec 28 13:31:22 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mtime	Wed Dec 28 13:31:49 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	ctime	Wed Dec 28 13:31:49 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	crtime	Wed Dec 28 13:31:22 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	gen	631&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mode	100644&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	size	382111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	parent	4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	links	1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	pflags	40800000004&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Indirect blocks:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               0 L1  0:5800:200 1:15400:200 4000L/200P F=3 B=637/637&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               0  L0 1:adc00:20000 20000L/20000P F=1 B=631/631&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           20000  L0 1:cdc00:20000 20000L/20000P F=1 B=631/631&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           40000  L0 0:7ca00:20000 20000L/20000P F=1 B=637/637 &lt;span class=&quot;comment&quot;&gt;### copy on write&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		segment [0000000000000000, 0000000000060000) size  384K&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Find-the-physical-address&quot;&gt;&lt;a href=&quot;#Find-the-physical-address&quot; class=&quot;headerlink&quot; title=&quot;Find the physical address&quot;&gt;&lt;/a&gt;Find the physical address&lt;/h3&gt;&lt;p&gt;Because there are some different with solaris zfs, it ‘s not 4MiB in header.&lt;br&gt;I dd first 5MiB data from disk0.&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk0  of=/tmp/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt; bs=1M count=5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Found the data in disk0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ hexdump -C /tmp/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt; | more&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00418&lt;span class=&quot;built_in&quot;&gt;fc&lt;/span&gt;0  13 00 00 00 00 00 00 80  00 00 00 00 00 00 2e 66  |...............f|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00418fd0  69 6c 65 33 2e 73 77 70  00 00 00 00 00 00 00 00  |ile3.swp........|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00418fe0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00419000  30 0a 31 0a 32 0a 33 0a  34 0a 35 0a 36 0a 37 0a  |0.1.2.3.4.5.6.7.|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00419010  38 0a 39 0a 31 30 0a 31  31 0a 31 32 0a 31 33 0a  |8.9.10.11.12.13.|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00419020  31 34 0a 31 35 0a 31 36  0a 31 37 0a 31 38 0a 31  |14.15.16.17.18.1|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00419030  39 0a 32 30 0a 32 31 0a  32 32 0a 32 33 0a 32 34  |9.20.21.22.23.24|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00419040  0a 32 35 0a 32 36 0a 32  37 0a 32 38 0a 32 39 0a  |.25.26.27.28.29.|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print strtonum(&quot;0x&quot;419000)&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4296704&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ $ awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print strtonum(&quot;0x&quot;419000)/1024&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4196&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print strtonum(&quot;0x&quot;28000)&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;163840&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print strtonum(&quot;0x&quot;20000)&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;131072&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print (4296704-163840)/1024&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4036&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk0 of=/tmp/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-1 bs=1k skip=4196 count=1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ head -n 2 /tmp/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-1 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;which means the offset from the begining of the physical vdev (starting after the vdev labels, plus the boot block), 4036KiB total in openzfs on linux&lt;br&gt;4132864 = 3f100 ?&lt;/p&gt;
&lt;h3 id=&quot;Compare-with-ext3&quot;&gt;&lt;a href=&quot;#Compare-with-ext3&quot; class=&quot;headerlink&quot; title=&quot;Compare with ext3&quot;&gt;&lt;/a&gt;Compare with ext3&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;118&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;119&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;120&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;121&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;122&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;123&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;124&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;125&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;126&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;127&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;128&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;129&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;130&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;131&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;132&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;133&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;134&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;135&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;136&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;137&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;138&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;139&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;140&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;141&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;142&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;143&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;144&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;145&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;146&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;147&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;148&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;149&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;150&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;151&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;152&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;153&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;154&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;155&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;156&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;157&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;158&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;159&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;160&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;161&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;162&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;163&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;164&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;165&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;166&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;167&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;168&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;169&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;170&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;171&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;172&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;173&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;174&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;175&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;176&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;177&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;178&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;179&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;180&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;181&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;182&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;183&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;184&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;185&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;186&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;187&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;188&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;189&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;190&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;191&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;192&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;193&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;194&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;196&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/dev/zero of=disk2 bs=1M count=100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104857600 bytes (105 MB) copied, 0.0600031 s, 1.7 GB/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ mkfs.ext3 -b 4096 /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mke2fs 1.41.12 (17-May-2010)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2 is not a block special device.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Proceed anyway? (y,n) y&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem label=&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;OS &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;: Linux&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Block size=4096 (&lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;=2)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Fragment size=4096 (&lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;=2)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Stride=0 blocks, Stripe width=0 blocks&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25600 inodes, 25600 blocks&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1280 blocks (5.00%) reserved &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; the super user&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;First data block=0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Maximum filesystem blocks=29360128&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1 block group&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32768 blocks per group, 32768 fragments per group&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25600 inodes per group&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Writing inode tables: &lt;span class=&quot;keyword&quot;&gt;done&lt;/span&gt;                            &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Creating journal (1024 blocks): &lt;span class=&quot;keyword&quot;&gt;done&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Writing superblocks and filesystem accounting information: &lt;span class=&quot;keyword&quot;&gt;done&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;This filesystem will be automatically checked every 24 mounts or&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;180 days, whichever comes first.  Use tune2fs -c or -i to override.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ mount disk2 /mnt -o loop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ df -h&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem        Size  Used Avail Use% Mounted on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2   97M  4.5M   88M   5% /mnt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cp &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; /&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool/testfile ./&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ filefrag -v /mnt/testfile &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; is: ef53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem cylinder groups is approximately 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;File size of /mnt/testfile is 382109 (94 blocks, blocksize 4096)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; ext logical physical expected length flags&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   0       0     1841              12 merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   1      12     1854     1853     82 merged,eof&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/mnt/testfile: 2 extents found, perfection would be 1 extent&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ umount /mnt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ debugfs /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; 1.41.12 (17-May-2010)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;debugfs:  stats&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem volume name:   &amp;lt;none&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Last mounted on:          &amp;lt;not available&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem UUID:          d6f9c3d7&lt;span class=&quot;_&quot;&gt;-e&lt;/span&gt;56b-433d-9830-69b15553029b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem magic number:  0xEF53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem revision &lt;span class=&quot;comment&quot;&gt;#:    1 (dynamic)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem features:      has_journal ext_attr resize_inode dir_index filetype sparse_super large_file&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem flags:         signed_directory_&lt;span class=&quot;built_in&quot;&gt;hash&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Default mount options:    (none)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem state:         clean&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Errors behavior:          Continue&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem OS &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;:       Linux&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Inode count:              25600&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Block count:              25600&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Reserved block count:     1280&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Free blocks:              23664&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Free inodes:              25588&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;First block:              0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Block size:               4096&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Fragment size:            4096&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Reserved GDT blocks:      6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Blocks per group:         32768&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Fragments per group:      32768&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Inodes per group:         25600&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Inode blocks per group:   800&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem created:       Wed Dec 28 16:03:47 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Last mount time:          Wed Dec 28 16:04:10 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Last write time:          Wed Dec 28 16:04:52 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Mount count:              1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Maximum mount count:      24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Last checked:             Wed Dec 28 16:03:47 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Check interval:           15552000 (6 months)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Next check after:         Mon Jun 26 16:03:47 2017&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Reserved blocks uid:      0 (user root)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Reserved blocks gid:      0 (group root)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;First inode:              11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Inode size:	          128&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Journal inode:            8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Default directory &lt;span class=&quot;built_in&quot;&gt;hash&lt;/span&gt;:   half_md4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Directory Hash Seed:      58b4c828-2e74-4add-91bb-4007efd5187f&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Journal backup:           inode blocks&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Directories:              2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; Group  0: block bitmap at 8, inode bitmap at 9, inode table at 10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           23664 free blocks, 25588 free inodes, 2 used directories&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;debugfs:  ls&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; 2  (12) .    2  (12) ..    11  (20) lost+found    12  (4052) testfile  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;debugfs:  show_inode_info testfile&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Inode: 12   Type: regular    Mode:  0644   Flags: 0x0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Generation: 933995507    Version: 0x00000000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;User:     0   Group:     0   Size: 382109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;File ACL: 0    Directory ACL: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Links: 1   Blockcount: 760&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Fragment:  Address: 0    Number: 0    Size: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ctime: 0x58637206 -- Wed Dec 28 16:04:22 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;atime: 0x58637206 -- Wed Dec 28 16:04:22 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mtime: 0x58637206 -- Wed Dec 28 16:04:22 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;BLOCKS:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(0-11):1841-1852, (IND):1853, (12-93):1854-1935&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TOTAL: 95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2 of=/tmp/file-1 bs=4K count=12 skip=1841&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ head -n 2 /tmp/file-1 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ tail -n 2 /tmp/file-1 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10042&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1004&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;$if&lt;/span&gt;=/tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2 of=/tmp/file-2 bs=4K count=82 skip=1854&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ head -n 2 /tmp/file-2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10044&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ tail -n 2 /tmp/file-2 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ tail -n 3 /tmp/file-2 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65535&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12 &lt;span class=&quot;comment&quot;&gt;# I have echo 12 &amp;gt;&amp;gt; to testfile.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# delete zero line(last line) in file2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cat /tmp/file-1 /tmp/file-2 | md5sum &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48688f1bef04b9b59905409e9226ba65  -&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ md5sum /mnt/testfile &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48688f1bef04b9b59905409e9226ba65  /mnt/testfile&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#Modify file&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ filefrag -v /mnt/testfile &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; is: ef53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Filesystem cylinder groups is approximately 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;File size of /mnt/testfile is 382109 (94 blocks, blocksize 4096)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; ext logical physical expected length flags&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   0       0     4104              12 merged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   1      12     4117     4116     82 merged,eof&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/mnt/testfile: 2 extents found, perfection would be 1 extent&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2 of=/tmp/disk-2-1 bs=4k count=4105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4105+0 records &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4105+0 records out&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16814080 bytes (17 MB) copied, 0.161878 s, 104 MB/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;You have new mail &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; /var/spool/mail/root&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ tail /tmp/disk-2-1 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1032&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1033&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1034&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1035&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1036&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1037&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1038&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1039&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1040&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1&lt;span class=&quot;variable&quot;&gt;$dd&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2 of=/tmp/disk-2-2 bs=4k skip=4105 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21495+0 records &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21495+0 records out&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88043520 bytes (88 MB) copied, 0.66258 s, 133 MB/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ head /tmp/disk-2-2 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;041&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1042&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1043&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1044&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1045&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1046&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1047&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1048&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1049&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1050&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 1111111111 &amp;gt;&amp;gt; /tmp/disk-2-1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cat /tmp/disk-2-1 &amp;gt; /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ du -hs /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17M	/tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cat /tmp/disk-2-2 &amp;gt;&amp;gt; /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ du -hs /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100M	/tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ fsck /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;fsck from util-linux-ng 2.17.2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;e2fsck 1.41.12 (17-May-2010)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2: clean, 12/25600 files, 1936/25600 blocks&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ mount /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk2 /mnt -o loop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ head -n 1042 /mnt/testfile | tail -n 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1040&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11111111111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# got it , file has changed.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Same-with-openzfs&quot;&gt;&lt;a href=&quot;#Same-with-openzfs&quot; class=&quot;headerlink&quot; title=&quot;Same with openzfs&quot;&gt;&lt;/a&gt;Same with openzfs&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-bash-4.1&lt;span class=&quot;comment&quot;&gt;# zpool destroy test-pool&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zpool create &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zpool create &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool -o ashift=9 /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ rm &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; testfile ;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; &amp;#123;0..65535&amp;#125;; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$i&lt;/span&gt; &amp;gt;&amp;gt; testfile; &lt;span class=&quot;keyword&quot;&gt;done&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0040f6a0  ff ff ff a6 50 00 00 00  00 00 00 00 00 00 00 00  |....P...........|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0040f6b0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0040f800  30 0a 31 0a 32 0a 33 0a  34 0a 35 0a 36 0a 37 0a  |0.1.2.3.4.5.6.7.|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0040f810  38 0a 39 0a 31 30 0a 31  31 0a 31 32 0a 31 33 0a  |8.9.10.11.12.13.|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0040f820  31 34 0a 31 35 0a 31 36  0a 31 37 0a 31 38 0a 31  |14.15.16.17.18.1|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0040f830  39 0a 32 30 0a 32 31 0a  32 32 0a 32 33 0a 32 34  |9.20.21.22.23.24|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ls -li /&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool/testfile &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7 -rw-r--r-- 1 root root 382106 12月 28 17:31 /&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool/testfile&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zdb -dddddd &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool/ 7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Dataset &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool [ZPL], ID 21, cr_txg 1, 404K, 7 objects, rootbp DVA[0]=&amp;lt;0:71c00:200&amp;gt; DVA[1]=&amp;lt;0:71e00:200&amp;gt; [L0 DMU objset] fletcher4 lz4 LE contiguous unique double size=800L/200P birth=7L/7P fill=7 cksum=d25a82905:4fd05e01a15:f9b25d4668de:21890ed460fd11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Object  lvl   iblk   dblk  dsize  lsize   %full  &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         7    2    16K   128K   385K   384K  100.00  ZFS plain file (K=inherit) (Z=inherit)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                        168   bonus  System attributes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	dnode flags: USED_BYTES USERUSED_ACCOUNTED &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	dnode maxblkid: 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	path	/testfile&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	uid     0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	gid     0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	atime	Wed Dec 28 17:31:11 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mtime	Wed Dec 28 17:31:13 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	ctime	Wed Dec 28 17:31:13 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	crtime	Wed Dec 28 17:31:11 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	gen	7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mode	100644&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	size	382106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	parent	4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	links	1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	pflags	40800000004&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Indirect blocks:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               0 L1  0:4800:200 0:4a00:200 4000L/200P F=3 B=7/7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               0  L0 0:f800:20000 20000L/20000P F=1 B=7/7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           20000  L0 0:2f800:20000 20000L/20000P F=1 B=7/7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           40000  L0 0:4f800:20000 20000L/20000P F=1 B=7/7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		segment [0000000000000000, 0000000000060000) size  384K&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ 40f800=4257792&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ f800=63488&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print (4257792-63488)/1024&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4096&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Header is 4MiB, and offset 63488 begin to write real data&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;118&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;119&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;120&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;121&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;122&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;123&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;124&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;125&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;126&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;127&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;128&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;129&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;130&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;131&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;132&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;133&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;134&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;135&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;136&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;137&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;138&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;139&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;140&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;141&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;142&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;143&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;144&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;145&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;146&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;147&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;148&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print strtonum(&quot;0x40f800&quot;)/1024&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4158&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zdb -R &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool 0:f800:20000:r &amp;gt; /tmp/file1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-bash-4.1&lt;span class=&quot;comment&quot;&gt;# head /tmp/file1 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# modify /tmp/file1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ head -n 4 /tmp/file1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk0 of=/tmp/disk0-1 bs=1k count=4158&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk0 of=/tmp/disk0-2 bs=1k skip=4158 count=1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ dd &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;=/tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk0 of=/tmp/disk0-3 bs=1k skip=4159&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ head /tmp/disk0-2 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-bash-4.1&lt;span class=&quot;comment&quot;&gt;# tail /tmp/disk0-2 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;274&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;275&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;276&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;277&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;278&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;279&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;280&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;281&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;282&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ls &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; /tmp/disk0-*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-r--r-- 1 root root   4257792 12月 28 19:59 /tmp/disk0-1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-r--r-- 1 root root      1024 12月 28 19:59 /tmp/disk0-2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-r--r-- 1 root root 100598784 12月 28 20:03 /tmp/disk0-3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# modify disk0-2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ vi /tmp/disk0-2 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-bash-4.1&lt;span class=&quot;comment&quot;&gt;# head -n 2 /tmp/disk0-2 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cp /tmp/disk0-1 /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cat /tmp/disk0-2 &amp;gt;&amp;gt; /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cat /tmp/disk0-3 &amp;gt;&amp;gt; /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zpool import &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/ &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cannot import &lt;span class=&quot;string&quot;&gt;&#39;test-pool&#39;&lt;/span&gt;: I/O error&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Destroy and re-create the pool from&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	a backup source.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zdb &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk0 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;zdb &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;--------------------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;LABEL 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;--------------------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    version: 5000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    name: &lt;span class=&quot;string&quot;&gt;&#39;test-pool&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    state: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    txg: 1277&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    pool_guid: 2913619627256210242&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    errata: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    hostname: &lt;span class=&quot;string&quot;&gt;&#39;nas-57-11.local&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    top_guid: 14729225611287826913&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    guid: 14729225611287826913&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vdev_children: 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vdev_tree:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;file&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        id: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        guid: 14729225611287826913&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        path: &lt;span class=&quot;string&quot;&gt;&#39;/tank/test/disk0&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        metaslab_array: 35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        metaslab_&lt;span class=&quot;built_in&quot;&gt;shift&lt;/span&gt;: 24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ashift: 9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        asize: 100139008&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        is_&lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        create_txg: 4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    features_&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;_&lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        com.delphix:hole_birth&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        com.delphix:embedded_data&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;--------------------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;LABEL 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;--------------------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    version: 5000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    name: &lt;span class=&quot;string&quot;&gt;&#39;test-pool&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    state: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    txg: 1277&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    pool_guid: 2913619627256210242&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    errata: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    hostname: &lt;span class=&quot;string&quot;&gt;&#39;nas-57-11.local&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    top_guid: 14729225611287826913&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    guid: 14729225611287826913&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vdev_children: 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vdev_tree:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;file&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        id: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        guid: 14729225611287826913&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        path: &lt;span class=&quot;string&quot;&gt;&#39;/tank/test/disk0&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        metaslab_array: 35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        metaslab_&lt;span class=&quot;built_in&quot;&gt;shift&lt;/span&gt;: 24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ashift: 9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        asize: 100139008&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        is_&lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        create_txg: 4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    features_&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;_&lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        com.delphix:hole_birth&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        com.delphix:embedded_data&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;--------------------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;LABEL 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;--------------------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;failed to unpack label 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;--------------------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;LABEL 3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;--------------------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;failed to unpack label 3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ zpool import -N -o &lt;span class=&quot;built_in&quot;&gt;readonly&lt;/span&gt;=on &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/ -F -T 1277&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   pool: &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     id: 2913619627256210242&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  state: FAULTED&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; status: The pool metadata is corrupted.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; action: The pool cannot be imported due to damaged devices or data.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	The pool may be active on another system, but can be imported using&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	the &lt;span class=&quot;string&quot;&gt;&#39;-f&#39;&lt;/span&gt; flag.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   see: http://zfsonlinux.org/msg/ZFS-8000-72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; config:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-pool           FAULTED  corrupted data&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	  /tank/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/disk0  ONLINE&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Raidz-size&quot;&gt;&lt;a href=&quot;#Raidz-size&quot; class=&quot;headerlink&quot; title=&quot;Raidz size&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://blog.gjpvanwesten.nl/2014/08/part-iv-how-much-space-do-you-lose-with.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Raidz size&lt;/a&gt;&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print 128/7&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18.2857&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print 18.2857/20&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0.914285&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;print 18.2857/18.5&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0.988416&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;ZFS-Internals-It-‘s-dangerous-operations&quot;&gt;&lt;a href=&quot;#ZFS-Internals-It-‘s-dangerous-operations&quot; class=&quot;headerlink&quot; title=&quot;ZFS Internal
    
    </summary>
    
      <category term="filesystem" scheme="http://yoursite.com/categories/filesystem/"/>
    
    
      <category term="zfs" scheme="http://yoursite.com/tags/zfs/"/>
    
  </entry>
  
  <entry>
    <title>blk-mq with SAS SSD</title>
    <link href="http://yoursite.com/2016/12/23/blk-mq-with-SAS-SSD/"/>
    <id>http://yoursite.com/2016/12/23/blk-mq-with-SAS-SSD/</id>
    <published>2016-12-23T13:19:55.000Z</published>
    <updated>2016-12-23T13:57:03.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;blk-mq-in-RHEL-7-2&quot;&gt;&lt;a href=&quot;#blk-mq-in-RHEL-7-2&quot; class=&quot;headerlink&quot; title=&quot;blk-mq in RHEL 7.2&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/7.2_Release_Notes/storage.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;blk-mq in RHEL 7.2&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;It can improve performance by allowing certain device drivers to map I/O requests to multiple hardware or software queues.&lt;br&gt;If the dm_mod.use_blk_mq=y kernel option is specified. The default value is n (disabled).&lt;br&gt;It may be beneficial to set dm_mod.use_blk_mq=y if the underlying SCSI devices are also using blk-mq, as doing so reduces locking overhead at the DM layer.&lt;br&gt;To determine whether DM multipath is using blk-mq on a system, cat the file /sys/block/dm-X/dm/use_blk_mq, where dm-X is replaced by the DM multipath device of interest. This file is read-only and reflects what the global value in /sys/module/dm_mod/parameters/use_blk_mq was at the time the request-based DM multipath device was created.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://events.linuxfoundation.org/sites/events/files/slides/scsi.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;High Performance Storage with blk-mq and scsi-mq&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://events.linuxfoundation.org/sites/events/files/slides/Vault%20-%20scsi-mq%20v2.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Increasing SCSI LLD Driver Performance by Using the SCSI Multiqueue Approach&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.thomas-krenn.com/en/wiki/Linux_Multi-Queue_Block_IO_Queueing_Mechanism_(blk-mq&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Linux Multi-Queue Block IO Queueing Mechanism&lt;/a&gt;)&lt;br&gt;&lt;a href=&quot;http://chuansong.me/n/362178648541&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;blk-mq SCSI performance&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;blk-mq-in-RHEL-7-2&quot;&gt;&lt;a href=&quot;#blk-mq-in-RHEL-7-2&quot; class=&quot;headerlink&quot; title=&quot;blk-mq in RHEL 7.2&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://access.redhat.c
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="blk-mq" scheme="http://yoursite.com/tags/blk-mq/"/>
    
      <category term="queue" scheme="http://yoursite.com/tags/queue/"/>
    
  </entry>
  
</feed>
