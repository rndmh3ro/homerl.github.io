<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Homer&#39;s Blog</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-07-18T05:05:50.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Homer Li</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>TCP retrans because duplicate ack</title>
    <link href="http://yoursite.com/2018/07/17/TCP_retrans_because_duplicate_ack/"/>
    <id>http://yoursite.com/2018/07/17/TCP_retrans_because_duplicate_ack/</id>
    <published>2018-07-17T07:48:02.000Z</published>
    <updated>2018-07-18T05:05:50.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;iperf3-benchmark-in-single-local-numa-core&quot;&gt;&lt;a href=&quot;#iperf3-benchmark-in-single-local-numa-core&quot; class=&quot;headerlink&quot; title=&quot;iperf3 benchmark in single local numa core&quot;&gt;&lt;/a&gt;iperf3 benchmark in single local numa core&lt;/h3&gt;&lt;p&gt;There are 3 server in test env&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ numactl --physcpubind=2 iperf3 -c &lt;span class=&quot;variable&quot;&gt;$serverC&lt;/span&gt; -P 1 -M 8960 -S 0x08 -t 36000 -p 5201 &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; 512k&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Connecting to host 10.53.19.52, port 5201&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4] &lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$ServerB&lt;/span&gt; port 58064 connected to &lt;span class=&quot;variable&quot;&gt;$ServerC&lt;/span&gt; port 5201&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[ ID] Interval           Transfer     Bandwidth       Retr  Cwnd&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4]   0.00-1.00   sec  1.15 GBytes  9.92 Gbits/sec    0    690 KBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4]  66.00-67.00  sec  1.15 GBytes  9.90 Gbits/sec    0    717 KBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;... always no retrans, cwnd increase slowly&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4] 189.00-190.00 sec  1.15 GBytes  9.89 Gbits/sec    0    725 KBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4] 418.00-419.00 sec  1.15 GBytes  9.89 Gbits/sec    0    909 KBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4] 4195.00-4196.00 sec  1.15 GBytes  9.90 Gbits/sec    0    909 KBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4] 4196.00-4197.00 sec  1.15 GBytes  9.90 Gbits/sec    0    909 KBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4] 4197.00-4198.00 sec  1.15 GBytes  9.89 Gbits/sec    0    909 KBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4] 4198.00-4198.51 sec   606 MBytes  9.91 Gbits/sec    0    909 KBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- - - - - - - - - - - - - - - - - - - - - - - - -&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[ ID] Interval           Transfer     Bandwidth       Retr&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4]   0.00-4198.51 sec  0.00 (null)s  9.90 Gbits/sec    6             sender&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4]   0.00-4198.51 sec  0.00 Bytes  0.00 bits/sec                  receiver&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;iperf3: interrupt - the client has terminated&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ numactl --physcpubind=2 iperf3 -c &lt;span class=&quot;variable&quot;&gt;$serverA&lt;/span&gt; -P 1 -M 8960 -S 0x08 -t 36000 -p 5201 &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; 512k&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4] 188.00-189.00 sec  1.15 GBytes  9.89 Gbits/sec   10   2.04 MBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4] 189.00-190.00 sec  1.15 GBytes  9.87 Gbits/sec   14   1.97 MBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4] 190.00-191.00 sec  1.15 GBytes  9.87 Gbits/sec   38   1.65 MBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4] 191.00-192.00 sec  1.15 GBytes  9.89 Gbits/sec   18   1.59 MBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4] 192.00-193.00 sec  1.15 GBytes  9.86 Gbits/sec   12   2.20 MBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4] 193.00-194.00 sec  1.15 GBytes  9.90 Gbits/sec    8   2.01 MBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4] 194.00-195.00 sec  1.15 GBytes  9.86 Gbits/sec    9   1.70 MBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4] 195.00-196.00 sec  1.15 GBytes  9.87 Gbits/sec    8   2.26 MBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4] 196.00-196.72 sec   851 MBytes  9.88 Gbits/sec    4   1.99 MBytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- - - - - - - - - - - - - - - - - - - - - - - - -&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[ ID] Interval           Transfer     Bandwidth       Retr&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4]   0.00-196.72 sec   226 GBytes  9.87 Gbits/sec  3776             sender&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[  4]   0.00-196.72 sec  0.00 Bytes  0.00 bits/sec                  receiver&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;iperf3: interrupt - the client has terminated&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Make-sure-retrans-type&quot;&gt;&lt;a href=&quot;#Make-sure-retrans-type&quot; class=&quot;headerlink&quot; title=&quot;Make sure retrans type&quot;&gt;&lt;/a&gt;Make sure retrans type&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/brendangregg/perf-tools&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;tcpretrans&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ netstat &lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt; | grep -i retrans&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    36900 segments retransmited&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    TCPLostRetransmit: 135&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    36854 fast retransmits&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    32 forward retransmits&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    9 retransmits &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; slow start&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    5 SACK retransmits failed&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ netstat &lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt; | grep -i retrans&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    36963 segments retransmited&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    TCPLostRetransmit: 135&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    36917 fast retransmits&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    32 forward retransmits&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    9 retransmits &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; slow start&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    5 SACK retransmits failed&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17:18:03 0      10.53.19.2:40770     R&amp;gt; 10.53.19.1:5201      ESTABLISHED&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; tcp_retransmit_skb&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; tcp_fastretrans_alert&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; tcp_ack&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; tcp_rcv_established&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; tcp_v4_&lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_rcv&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; tcp_v4_rcv&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; ip_&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;_deliver_finish&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; ip_&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;_deliver&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; ip_rcv_finish&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; ip_rcv&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; __netif_receive_skb_core&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; __netif_receive_skb&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; netif_receive_skb_internal&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; napi_gro_receive&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; i40e_clean_rx_irq&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; i40e_napi_poll&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; net_rx_action&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; __&lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_softirq&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; call_softirq&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_softirq&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; irq_&lt;span class=&quot;built_in&quot;&gt;exit&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_IRQ&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; ret_from_intr&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; cpuidle_enter_state&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; cpuidle_idle_call&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; arch_cpu_idle&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; cpu_startup_entry&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; start_secondary&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; start_cpu&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17:18:03 11610  10.53.19.2:40770     R&amp;gt; 10.53.19.1:5201      ESTABLISHED&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; tcp_retransmit_skb&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; tcp_fastretrans_alert&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; tcp_ack&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; tcp_rcv_established&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; tcp_v4_&lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_rcv&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; release_sock&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; tcp_sendmsg&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; inet_sendmsg&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; sock_aio_write&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_sync_write&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; vfs_write&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; SyS_write&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; =&amp;gt; system_call_fastpath&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ps aux | grep 11610&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;root     11610 11.9  0.0  10084  1524 pts/1    S+   17:15   0:28 iperf3 -c 10.53.19.1 -P 1 -M 8960 -S 0x08 -t 36000 -p 5201 &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; 512k&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Analysis-wireshark-log&quot;&gt;&lt;a href=&quot;#Analysis-wireshark-log&quot; class=&quot;headerlink&quot; title=&quot;Analysis wireshark log&quot;&gt;&lt;/a&gt;Analysis wireshark log&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ tshark -r first.pcapng &lt;span class=&quot;string&quot;&gt;&quot;tcp.analysis.retransmission&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;no output&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ tshark -r first.pcapng &lt;span class=&quot;string&quot;&gt;&quot;tcp.analysis.duplicate_ack&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21801 0.710632534   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#1] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794721 TSecr=61820560 SLE=777178578 SRE=777375434&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21804 0.710733730   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#2] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794721 TSecr=61820560 SLE=777178578 SRE=777500706&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21811 0.711034519   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#3] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794722 TSecr=61820560 SLE=777178578 SRE=777867574&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21814 0.711153496   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#4] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794722 TSecr=61820560 SLE=777178578 SRE=778010742&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21816 0.711206308   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#5] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794722 TSecr=61820560 SLE=777178578 SRE=778082326&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21818 0.711259113   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#6] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794722 TSecr=61820560 SLE=777178578 SRE=778144962&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21820 0.711369837   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#7] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794722 TSecr=61820560 SLE=777178578 SRE=778279182&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21823 0.711477980   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#8] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794722 TSecr=61820560 SLE=777178578 SRE=778413402&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21826 0.711584396   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#9] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794722 TSecr=61820560 SLE=777178578 SRE=778547622&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21829 0.711695472   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#10] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794722 TSecr=61820560 SLE=777178578 SRE=778681842&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21831 0.711749935   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#11] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794722 TSecr=61820560 SLE=777178578 SRE=778753426&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21834 0.711911211   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#12] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794723 TSecr=61820560 SLE=777178578 SRE=778950282&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21837 0.712018290   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#13] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794723 TSecr=61820560 SLE=777178578 SRE=779084502&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21839 0.712073239   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#14] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794723 TSecr=61820560 SLE=777178578 SRE=779147138&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21842 0.712182142   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#15] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794723 TSecr=61820560 SLE=777178578 SRE=779281358&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21844 0.712229813   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#16] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794723 TSecr=61820560 SLE=777178578 SRE=779317150&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21846 0.712343529   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#17] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794723 TSecr=61820560 SLE=777178578 SRE=779487162&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21848 0.712400110   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#18] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794723 TSecr=61820560 SLE=777178578 SRE=779549798&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21851 0.712507000   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 21799&lt;span class=&quot;comment&quot;&gt;#19] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=777160682 Win=5263360 Len=0 TSval=2597794723 TSecr=61820560 SLE=777178578 SRE=779684018&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28272 1.007961111   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 28269&lt;span class=&quot;comment&quot;&gt;#1] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=1144476082 Win=18720768 Len=0 TSval=2597795019 TSecr=61820858 SLE=1144493978 SRE=1144672938&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28276 1.008232476   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 28269&lt;span class=&quot;comment&quot;&gt;#2] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=1144476082 Win=18720768 Len=0 TSval=2597795019 TSecr=61820858 SLE=1144493978 SRE=1145012962&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28278 1.008288165   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 28269&lt;span class=&quot;comment&quot;&gt;#3] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=1144476082 Win=18720768 Len=0 TSval=2597795019 TSecr=61820858 SLE=1144493978 SRE=1145075598&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28284 1.008612213   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 28269&lt;span class=&quot;comment&quot;&gt;#4] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=1144476082 Win=18720768 Len=0 TSval=2597795019 TSecr=61820858 SLE=1144493978 SRE=1145478258&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28287 1.008719487   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 28269&lt;span class=&quot;comment&quot;&gt;#5] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=1144476082 Win=18720768 Len=0 TSval=2597795019 TSecr=61820858 SLE=1144493978 SRE=1145612478&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28290 1.008945676   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 28269&lt;span class=&quot;comment&quot;&gt;#6] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=1144476082 Win=18720768 Len=0 TSval=2597795020 TSecr=61820858 SLE=1144493978 SRE=1145898814&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28292 1.008995223   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 28269&lt;span class=&quot;comment&quot;&gt;#7] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=1144476082 Win=18720768 Len=0 TSval=2597795020 TSecr=61820858 SLE=1144493978 SRE=1145961450&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28294 1.009095692   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 28269&lt;span class=&quot;comment&quot;&gt;#8] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=1144476082 Win=18720768 Len=0 TSval=2597795020 TSecr=61820858 SLE=1144493978 SRE=1146077774&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28296 1.009144335   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 28269&lt;span class=&quot;comment&quot;&gt;#9] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=1144476082 Win=18720768 Len=0 TSval=2597795020 TSecr=61820858 SLE=1144493978 SRE=1146140410&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28298 1.009194590   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 28269&lt;span class=&quot;comment&quot;&gt;#10] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=1144476082 Win=18720768 Len=0 TSval=2597795020 TSecr=61820858 SLE=1144493978 SRE=1146203046&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28300 1.009296391   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 28269&lt;span class=&quot;comment&quot;&gt;#11] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=1144476082 Win=18720768 Len=0 TSval=2597795020 TSecr=61820858 SLE=1144493978 SRE=1146328318&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28303 1.009447610   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 28269&lt;span class=&quot;comment&quot;&gt;#12] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=1144476082 Win=18720768 Len=0 TSval=2597795020 TSecr=61820858 SLE=1144493978 SRE=1146516226&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28305 1.009498110   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 28269&lt;span class=&quot;comment&quot;&gt;#13] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=1144476082 Win=18720768 Len=0 TSval=2597795020 TSecr=61820858 SLE=1144493978 SRE=1146578862&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28307 1.009544808   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 28269&lt;span class=&quot;comment&quot;&gt;#14] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=1144476082 Win=18720768 Len=0 TSval=2597795020 TSecr=61820858 SLE=1144493978 SRE=1146632550&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28309 1.009647030   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 28269&lt;span class=&quot;comment&quot;&gt;#15] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=1144476082 Win=18720768 Len=0 TSval=2597795020 TSecr=61820858 SLE=1144493978 SRE=1146757822&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28312 1.009798430   10.53.19.1 -&amp;gt; 10.53.19.2   TCP 78 [TCP Dup ACK 28269&lt;span class=&quot;comment&quot;&gt;#16] targus-getdata1 &amp;gt; 40746 [ACK] Seq=1 Ack=1144476082 Win=18720768 Len=0 TSval=2597795021 TSecr=61820858 SLE=1144493978 SRE=1146945730&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/img/tshark-1.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;/img/tshark-2.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;iperf3-benchmark-in-single-local-numa-core&quot;&gt;&lt;a href=&quot;#iperf3-benchmark-in-single-local-numa-core&quot; class=&quot;headerlink&quot; title=&quot;iperf3 b
    
    </summary>
    
      <category term="Network" scheme="http://yoursite.com/categories/Network/"/>
    
    
      <category term="nic" scheme="http://yoursite.com/tags/nic/"/>
    
      <category term="tcp" scheme="http://yoursite.com/tags/tcp/"/>
    
  </entry>
  
  <entry>
    <title>Benchmark test flow</title>
    <link href="http://yoursite.com/2018/07/12/benchmark/"/>
    <id>http://yoursite.com/2018/07/12/benchmark/</id>
    <published>2018-07-12T02:25:02.000Z</published>
    <updated>2018-07-12T06:28:21.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;JBOD&quot;&gt;&lt;a href=&quot;#JBOD&quot; class=&quot;headerlink&quot; title=&quot;JBOD&quot;&gt;&lt;/a&gt;JBOD&lt;/h3&gt;&lt;h4 id=&quot;Raw-dev&quot;&gt;&lt;a href=&quot;#Raw-dev&quot; class=&quot;headerlink&quot; title=&quot;Raw dev&quot;&gt;&lt;/a&gt;Raw dev&lt;/h4&gt;&lt;h3 id=&quot;Filesystem&quot;&gt;&lt;a href=&quot;#Filesystem&quot; class=&quot;headerlink&quot; title=&quot;Filesystem&quot;&gt;&lt;/a&gt;Filesystem&lt;/h3&gt;&lt;h4 id=&quot;single-client&quot;&gt;&lt;a href=&quot;#single-client&quot; class=&quot;headerlink&quot; title=&quot;single client&quot;&gt;&lt;/a&gt;single client&lt;/h4&gt;</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;JBOD&quot;&gt;&lt;a href=&quot;#JBOD&quot; class=&quot;headerlink&quot; title=&quot;JBOD&quot;&gt;&lt;/a&gt;JBOD&lt;/h3&gt;&lt;h4 id=&quot;Raw-dev&quot;&gt;&lt;a href=&quot;#Raw-dev&quot; class=&quot;headerlink&quot; title=&quot;Raw
    
    </summary>
    
      <category term="Linux test" scheme="http://yoursite.com/categories/Linux-test/"/>
    
    
      <category term="benchmark" scheme="http://yoursite.com/tags/benchmark/"/>
    
  </entry>
  
  <entry>
    <title>Linux kernel stack record</title>
    <link href="http://yoursite.com/2018/07/12/kernel_stack_record/"/>
    <id>http://yoursite.com/2018/07/12/kernel_stack_record/</id>
    <published>2018-07-11T18:29:15.000Z</published>
    <updated>2018-07-12T07:54:09.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;NFS-write-very-slow&quot;&gt;&lt;a href=&quot;#NFS-write-very-slow&quot; class=&quot;headerlink&quot; title=&quot;NFS write very slow&quot;&gt;&lt;/a&gt;NFS write very slow&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[&amp;lt;ffffffff8112e55d&amp;gt;] sync_page+0x3d/0x50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&amp;lt;ffffffff8112e793&amp;gt;] &lt;span class=&quot;built_in&quot;&gt;wait&lt;/span&gt;_on_page_bit+0x73/0x80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&amp;lt;ffffffff8112ebbb&amp;gt;] &lt;span class=&quot;built_in&quot;&gt;wait&lt;/span&gt;_on_page_writeback_range+0xfb/0x190&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&amp;lt;ffffffff8112ed88&amp;gt;] filemap_write_and_&lt;span class=&quot;built_in&quot;&gt;wait&lt;/span&gt;_range+0x78/0x90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&amp;lt;ffffffff811cca8e&amp;gt;] vfs_fsync_range+0x7e/0x100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&amp;lt;ffffffff811ccb7d&amp;gt;] vfs_fsync+0x1d/0x20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&amp;lt;ffffffffa0ca7a80&amp;gt;] nfs_file_flush+0x70/0xa0 [nfs]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&amp;lt;ffffffff811968ec&amp;gt;] filp_close+0x3c/0x90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&amp;lt;ffffffff811969e5&amp;gt;] sys_close+0xa5/0x100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&amp;lt;ffffffff8100b0d2&amp;gt;] system_call_fastpath+0x16/0x1b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&amp;lt;ffffffffffffffff&amp;gt;] 0xffffffffffffffff&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;NFS-write-very-slow&quot;&gt;&lt;a href=&quot;#NFS-write-very-slow&quot; class=&quot;headerlink&quot; title=&quot;NFS write very slow&quot;&gt;&lt;/a&gt;NFS write very slow&lt;/h3&gt;&lt;figu
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="kernel" scheme="http://yoursite.com/tags/kernel/"/>
    
      <category term="nic" scheme="http://yoursite.com/tags/nic/"/>
    
  </entry>
  
  <entry>
    <title>NIC receive package from linux</title>
    <link href="http://yoursite.com/2018/07/12/nic_info/"/>
    <id>http://yoursite.com/2018/07/12/nic_info/</id>
    <published>2018-07-11T18:29:15.000Z</published>
    <updated>2018-07-18T04:07:31.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;First-question&quot;&gt;&lt;a href=&quot;#First-question&quot; class=&quot;headerlink&quot; title=&quot;First question&quot;&gt;&lt;/a&gt;First question&lt;/h3&gt;&lt;p&gt;Does the ring buffer in ethernet NIC or it ‘s just server memory ?&lt;br&gt;Yes, NIC has the microprocess and system memory, but it’s not ring buffer in linux&lt;/p&gt;
&lt;p&gt;High end ethernet cards will almost certainly have their own memory and microprocessors to offload work from the rest of the computer.&lt;br&gt;BTW: eg: if tcp stack offload by NIC and bypass kernel that means the ring buffer in NIC.&lt;/p&gt;
&lt;p&gt;Low end ethernet cards may not have their own onboard memory or microprocessors, and will use the host system’s resources to handle network traffic.&lt;br&gt;BTW: I think if you NIC adapter could not offload anything, that means all packages will process by linux, some low end ethernet cards could bypass kernel too, could use direct memory access for some of IO&lt;/p&gt;
&lt;p&gt;Infiniband cards on the other hand will tend to have their own onboard processors but no onboard memory, and will use direct memory access for all IO.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/17154759/how-much-memory-does-a-common-nic-have&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;reference&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;What-‘s-the-ring-buffer&quot;&gt;&lt;a href=&quot;#What-‘s-the-ring-buffer&quot; class=&quot;headerlink&quot; title=&quot;What ‘s the ring buffer&quot;&gt;&lt;/a&gt;What ‘s the ring buffer&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/en/SSQPD3_2.6.0/com.ibm.wllm.doc/nicringbuffers.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ring buffers on the NIC are important to handle bursts of incoming packets especially if there is some delay when the hardware interrupt handler schedules the packet receiving software interrupt (softirq). NIC ring buffer sizes vary per NIC vendor and NIC grade (that is, server or desktop). By increasing the Rx/Tx ring buffer size as shown below, you can decrease the probability of discarding packets in the NIC during a scheduling delay. The tool used to change ring buffer settings is the Linux utility, ethtool.&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;Socket-buffer&quot;&gt;&lt;a href=&quot;#Socket-buffer&quot; class=&quot;headerlink&quot; title=&quot;Socket buffer&quot;&gt;&lt;/a&gt;Socket buffer&lt;/h4&gt;&lt;p&gt;Each network socket is allocated a send buffer for outbound packets and a receive socket for inbound packets. These buffers are assigned a default size that depends on parameters of the operating system&lt;br&gt;In linux&lt;br&gt;receive&lt;br&gt;net.core.rmem_max&lt;br&gt;net.core.rmem_default &lt;/p&gt;
&lt;p&gt;Sender&lt;br&gt;net.core.wmem_max&lt;br&gt;net.core.wmem_default &lt;/p&gt;
&lt;p&gt;###&lt;br&gt;NIC start register a lof of infomation from linux kernel&lt;br&gt;Linux malloc system memory —mapping—&amp;gt; ring buffer queue ( interface:struct sk_buff, netdev_alloc_skb - allocate an skbuff for rx on a specific device ) &lt;a href=&quot;https://elixir.bootlin.com/linux/v4.4/source/include/linux/skbuff.h#L706&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;source code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Ring Buffer queue base unit is Packet Descriptor(ready and used)&lt;br&gt;ready means point the null sk_buff&lt;/p&gt;
&lt;p&gt;NIC data —-DMA—-&amp;gt; next ready packet descriptor ( net.core.default_qdisc ? ,The default queuing discipline to use for network devices.)&lt;br&gt;DMA get finish —-&amp;gt; trigger the hardware interrupt (IRQ) let CPU receive the data —-&amp;gt; if not support NAPI, one irq ,got one farme or packget ??&lt;br&gt;DMA get finish —-&amp;gt; trigger the hardware interrupt (IRQ) let CPU receive the data —-&amp;gt; support NAPI, merge IRQ to reduce CPU loading    &lt;/p&gt;
&lt;p&gt;NAPI how to reduce CPU loading ( need driver support )&lt;br&gt;NIC driver register poll, poll get bulk of data from ring buffer&lt;br&gt;    —-&amp;gt; NIC driver register poll&lt;br&gt;    —-&amp;gt; NIC DMA write to linux memory&lt;br&gt;    —-&amp;gt; NIC trigger the IRQ to run driver interrupt handler&lt;br&gt;    —-&amp;gt; interrupt handler &lt;a href=&quot;https://elixir.bootlin.com/linux/v4.4/source/include/linux/netdevice.h#L421&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;napi_schdule&lt;/a&gt; tirgger the softirq &lt;a href=&quot;https://elixir.bootlin.com/linux/v4.4/source/net/core/dev.c#L3204&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NET_RX_SOFTIRQ ,NAPI subsystem&lt;/a&gt;, NET_RX_SOFTIRQ ‘s handler is net_rx_action&lt;br&gt;    —-&amp;gt; let poll(driver register poll) got all receive packages&lt;br&gt;        —-&amp;gt; read sk_buff from ring buffer&lt;br&gt;        —-&amp;gt; check sk_buff, merge sk_buff, because single Frame in diff ring buff&lt;br&gt;        —-&amp;gt; throw sk_buff to high level network stack&lt;br&gt;        —-&amp;gt; clear sk_buff, reset ring buff to ready&lt;br&gt;        —-&amp;gt; update kernel info , receive how many packages , bytes&lt;br&gt;        —-&amp;gt; if no data or if trigger net.core.netdev_budget(packages numbers) or netdev_budget_usecs(timeout), exit the poll&lt;br&gt;    —-&amp;gt; driver will disable irq, after poll receive all packegs, driver will enable NIC interrupts again and disable NAPI subsystem&lt;br&gt; return —-&amp;gt; NIC DMA write to linux memory&lt;/p&gt;
&lt;h5 id=&quot;sysctl-w-net-core-netdev-budget-2000&quot;&gt;&lt;a href=&quot;#sysctl-w-net-core-netdev-budget-2000&quot; class=&quot;headerlink&quot; title=&quot;sysctl -w net.core.netdev_budget=2000&quot;&gt;&lt;/a&gt;sysctl -w net.core.netdev_budget=2000&lt;/h5&gt;&lt;p&gt;Maximum number of packets taken from all interfaces in one polling cycle (NAPI poll).&lt;br&gt;In one polling cycle interfaces which are registered to polling are probed in a round-robin manner. Also, a polling cycle may not exceed netdev_budget_usecs microseconds, even if netdev_budget has not been exhausted.&lt;/p&gt;
&lt;h6 id=&quot;netdev-budget-usecs&quot;&gt;&lt;a href=&quot;#netdev-budget-usecs&quot; class=&quot;headerlink&quot; title=&quot;netdev_budget_usecs&quot;&gt;&lt;/a&gt;netdev_budget_usecs&lt;/h6&gt;&lt;p&gt;Maximum number of microseconds in one NAPI polling cycle. Polling will exit when either netdev_budget_usecs have elapsed during the poll cycle or the number of packets processed reaches netdev_budget.&lt;/p&gt;
&lt;h5 id=&quot;netdev-max-backlog&quot;&gt;&lt;a href=&quot;#netdev-max-backlog&quot; class=&quot;headerlink&quot; title=&quot;netdev_max_backlog&quot;&gt;&lt;/a&gt;netdev_max_backlog&lt;/h5&gt;&lt;p&gt;Maximum number  of  packets,  queued  on  the  INPUT  side, when the interface receives packets faster than kernel can process them.&lt;br&gt;Sets the maximum number of packets allowed to queue when a particular interface receives packets faster than the kernel can process them.&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ethtool -g em1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ring parameters &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; em1:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Pre-set maximums:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		4078&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Mini:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Jumbo:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		4078&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Current hardware settings:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		1024&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Mini:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Jumbo:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		4078&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ethtool -G em1 rx 4078 tx 4078&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;NIC-Offload&quot;&gt;&lt;a href=&quot;#NIC-Offload&quot; class=&quot;headerlink&quot; title=&quot;NIC Offload&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/performance_tuning_guide/network-nic-offloads&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NIC Offload&lt;/a&gt;&lt;/h3&gt;&lt;h4 id=&quot;Generic-Receive-Offloading-replace-Large-receive-offload-https-lwn-net-Articles-358910&quot;&gt;&lt;a href=&quot;#Generic-Receive-Offloading-replace-Large-receive-offload-https-lwn-net-Articles-358910&quot; class=&quot;headerlink&quot; title=&quot;[Generic Receive Offloading replace Large receive offload] (https://lwn.net/Articles/358910/)&quot;&gt;&lt;/a&gt;[Generic Receive Offloading replace Large receive offload] (&lt;a href=&quot;https://lwn.net/Articles/358910/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://lwn.net/Articles/358910/&lt;/a&gt;)&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Large_receive_offload&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Large receive offload(LRO)&lt;/a&gt;&lt;br&gt; It works by aggregating multiple incoming packets from a single stream into a larger buffer before they are passed higher up the networking stack, thus reducing the number of packets that have to be processed. Linux implementations generally use LRO in conjunction with the New API (NAPI) to also reduce the number of interrupts.&lt;/p&gt;
&lt;p&gt;LRO Uses the TCP protocol. All incoming packets are re-segmented as they are received, reducing the number of segments the system has to process. They can be merged either in the driver or using the NIC. A problem with LRO is that it tends to resegment all incoming packets, often ignoring differences in headers and other information which can cause errors. It is generally not possible to use LRO when IP forwarding is enabled.&lt;/p&gt;
&lt;p&gt;GRO Uses either the TCP or UDP protocols. GRO is more rigorous than LRO when resegmenting packets. For example it checks the MAC headers of each packet, which must match, only a limited number of TCP or IP headers can be different, and the TCP timestamps must match. Resegmenting can be handled by either the NIC or the GSO code.&lt;/p&gt;
&lt;h4 id=&quot;TCP-Segmentation-Offload-TSO&quot;&gt;&lt;a href=&quot;#TCP-Segmentation-Offload-TSO&quot; class=&quot;headerlink&quot; title=&quot;TCP Segmentation Offload (TSO)&quot;&gt;&lt;/a&gt;TCP Segmentation Offload (TSO)&lt;/h4&gt;&lt;p&gt;Uses the TCP protocol to send large packets. Uses the NIC to handle segmentation, and then adds the TCP, IP and data link layer protocol headers to each segment.&lt;/p&gt;
&lt;h4 id=&quot;UDP-Fragmentation-Offload-UFO&quot;&gt;&lt;a href=&quot;#UDP-Fragmentation-Offload-UFO&quot; class=&quot;headerlink&quot; title=&quot;UDP Fragmentation Offload (UFO)&quot;&gt;&lt;/a&gt;UDP Fragmentation Offload (UFO)&lt;/h4&gt;&lt;p&gt;Uses the UDP protocol to send large packets. Uses the NIC to handle IP fragmentation into MTU sized packets for large UDP datagrams.&lt;/p&gt;
&lt;h4 id=&quot;Generic-Segmentation-Offload-GSO&quot;&gt;&lt;a href=&quot;#Generic-Segmentation-Offload-GSO&quot; class=&quot;headerlink&quot; title=&quot;Generic Segmentation Offload (GSO)&quot;&gt;&lt;/a&gt;Generic Segmentation Offload (GSO)&lt;/h4&gt;&lt;p&gt;Uses the TCP or UDP protocol to send large packets. If the NIC cannot handle segmentation/fragmentation, GSO performs the same operations, bypassing the NIC hardware. This is achieved by delaying segmentation until as late as possible, for example, when the packet is processed by the device driver.&lt;/p&gt;
&lt;h5 id=&quot;intel-82599&quot;&gt;&lt;a href=&quot;#intel-82599&quot; class=&quot;headerlink&quot; title=&quot;intel 82599&quot;&gt;&lt;/a&gt;intel 82599&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt; ethtool -k enp131s0f1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Features &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; enp131s0f1:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rx-checksumming: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-checksumming: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-checksum-ipv4: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-checksum-ip-generic: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-checksum-ipv6: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-checksum-fcoe-crc: on [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-checksum-sctp: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;scatter-gather: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-scatter-gather: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-scatter-gather-fraglist: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp-segmentation-offload: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-tcp-segmentation: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-tcp-ecn-segmentation: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-tcp6-segmentation: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-tcp-mangleid-segmentation: off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;udp-fragmentation-offload: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;generic-segmentation-offload: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;generic-receive-offload: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;large-receive-offload: off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rx-vlan-offload: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-vlan-offload: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ntuple-filters: off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;receive-hashing: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;highdma: on [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rx-vlan-filter: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vlan-challenged: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-lockless: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;netns-local: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-gso-robust: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-fcoe-segmentation: on [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-gre-segmentation: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-ipip-segmentation: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-sit-segmentation: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-udp_tnl-segmentation: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-mpls-segmentation: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;fcoe-mtu: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-nocache-copy: off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;loopback: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rx-fcs: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rx-all: off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-vlan-stag-hw-insert: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rx-vlan-stag-hw-parse: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rx-vlan-stag-filter: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;busy-poll: on [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-gre-csum-segmentation: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-udp_tnl-csum-segmentation: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-gso-partial: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-sctp-segmentation: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;l2-fwd-offload: off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hw-tc-offload: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&quot;Mellanox-ConnectX-4-Lx&quot;&gt;&lt;a href=&quot;#Mellanox-ConnectX-4-Lx&quot; class=&quot;headerlink&quot; title=&quot;Mellanox ConnectX-4 Lx&quot;&gt;&lt;/a&gt;Mellanox ConnectX-4 Lx&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ethtool -k enp131s0f1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Features &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; enp131s0f1:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rx-checksumming: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-checksumming: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-checksum-ipv4: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-checksum-ip-generic: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-checksum-ipv6: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-checksum-fcoe-crc: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-checksum-sctp: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;scatter-gather: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-scatter-gather: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-scatter-gather-fraglist: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp-segmentation-offload: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-tcp-segmentation: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-tcp-ecn-segmentation: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-tcp6-segmentation: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	tx-tcp-mangleid-segmentation: off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;udp-fragmentation-offload: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;generic-segmentation-offload: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;generic-receive-offload: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;large-receive-offload: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rx-vlan-offload: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-vlan-offload: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ntuple-filters: off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;receive-hashing: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;highdma: on [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rx-vlan-filter: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vlan-challenged: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-lockless: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;netns-local: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-gso-robust: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-fcoe-segmentation: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-gre-segmentation: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-ipip-segmentation: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-sit-segmentation: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-udp_tnl-segmentation: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-mpls-segmentation: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;fcoe-mtu: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-nocache-copy: off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;loopback: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rx-fcs: off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rx-all: off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-vlan-stag-hw-insert: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rx-vlan-stag-hw-parse: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rx-vlan-stag-filter: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;busy-poll: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-gre-csum-segmentation: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-udp_tnl-csum-segmentation: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-gso-partial: on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tx-sctp-segmentation: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;l2-fwd-offload: off [fixed]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hw-tc-offload: off&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;softnet-stat&quot;&gt;&lt;a href=&quot;#softnet-stat&quot; class=&quot;headerlink&quot; title=&quot;softnet_stat&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://blog.packagecloud.io/eng/2016/06/22/monitoring-tuning-linux-networking-stack-receiving-data/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;softnet_stat&lt;/a&gt;&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cat /proc/net/softnet_&lt;span class=&quot;built_in&quot;&gt;stat&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00000797 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1e391700 00000000 00000039 00000000 00000000 00000000 00000000 00000000 00000000 00000000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;e46ce530 00000000 00000010 00000000 00000000 00000000 00000000 00000000 00000000 00000000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;046aed8d 00000000 0000003f 00000000 00000000 00000000 00000000 00000000 00000000 00000000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-----    -----    --------                                              -------  -------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   \      \_ drop count \                                                  \        \-flow &lt;span class=&quot;built_in&quot;&gt;limit&lt;/span&gt; cont&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    \_ packet count      \                                                  \-- cpu collision          &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                          \- time sequeeze&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Important details about /proc/net/softnet_&lt;span class=&quot;built_in&quot;&gt;stat&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Each line of /proc/net/softnet_&lt;span class=&quot;built_in&quot;&gt;stat&lt;/span&gt; corresponds to a struct softnet_data structure, of &lt;span class=&quot;built_in&quot;&gt;which&lt;/span&gt; there is 1 per CPU.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;The values are separated by a single space and are displayed &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; hexadecimal&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;The first value, sd-&amp;gt;processed, is the number of network frames processed. This can be more than the total number of network frames received &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; you are using ethernet bonding. There are cases &lt;span class=&quot;built_in&quot;&gt;where&lt;/span&gt; the ethernet bonding driver will trigger network data to be re-processed, &lt;span class=&quot;built_in&quot;&gt;which&lt;/span&gt; would increment the sd-&amp;gt;processed count more than once &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; the same packet.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;The second value, sd-&amp;gt;dropped, is the number of network frames dropped because there was no room on the processing queue. More on this later.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;If second values are gorwing, improve sysctl -w net.core.netdev_max_backlog = 2000, A value over 10000 is unlikely to be very helpful.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;The third value, sd-&amp;gt;time_squeeze, is (as we saw) the number of &lt;span class=&quot;built_in&quot;&gt;times&lt;/span&gt; the net_rx_action loop terminated because the budget was consumed or the time &lt;span class=&quot;built_in&quot;&gt;limit&lt;/span&gt; was reached, but more work could have been. Increasing the budget as explained earlier can &lt;span class=&quot;built_in&quot;&gt;help&lt;/span&gt; reduce this.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;If 3rd column is growing,improve sysctl -w net.core.netdev_budget=600&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Be careful of increasing this value unless there is a very good reason. A value exceeding 1000 is unlikely to be very helpful. In fact increasing this value too much can have detrimental effect and &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; the worse &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; scenario lead to softirq hangs or performance problems, as the softirqs can run &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; too long and starve other processes of CPU&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;The next 5 values are always 0.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;The ninth value, sd-&amp;gt;cpu_collision, is a count of the number of &lt;span class=&quot;built_in&quot;&gt;times&lt;/span&gt; a collision occurred when trying to obtain a device lock when transmitting packets. This article is about receive, so this statistic will not be seen below.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;The tenth value, sd-&amp;gt;received_rps, is a count of the number of &lt;span class=&quot;built_in&quot;&gt;times&lt;/span&gt; this CPU has been woken up to process packets via an Inter-processor Interrupt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;The last value, flow_&lt;span class=&quot;built_in&quot;&gt;limit&lt;/span&gt;_count, is a count of the number of &lt;span class=&quot;built_in&quot;&gt;times&lt;/span&gt; the flow &lt;span class=&quot;built_in&quot;&gt;limit&lt;/span&gt; has been reached. Flow limiting is an optional Receive Packet Steering feature that will be examined shortly.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;If you decide to monitor this file and graph the results, you must be extremely careful that the ordering of these fields hasn’t changed and that the meaning of each field has been preserved. You will need to &lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt; the kernel &lt;span class=&quot;built_in&quot;&gt;source&lt;/span&gt; to verify this.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;seq_&lt;span class=&quot;built_in&quot;&gt;printf&lt;/span&gt;(seq,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;string&quot;&gt;&quot;%08x %08x %08x %08x %08x %08x %08x %08x %08x %08x %08x\n&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       sd-&amp;gt;processed, sd-&amp;gt;dropped, sd-&amp;gt;time_squeeze, 0,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       0, 0, 0, 0, /* was fastroute */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       sd-&amp;gt;cpu_collision, sd-&amp;gt;received_rps, flow_&lt;span class=&quot;built_in&quot;&gt;limit&lt;/span&gt;_count);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#convert these data by bash&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cat ./softnet_stat.sh&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#!/bin/bash&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     t[1]=&quot;sd-&amp;gt;processed&quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     t[2]=&quot;sd-&amp;gt;dropped&quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     t[3]=&quot;sd-&amp;gt;time_squeeze&quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     t[9]=&quot;sd-&amp;gt;cpu_collision&quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     t[10]=&quot;sd-&amp;gt;received_rps&quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     printf &quot;%s %s %s %s %s\n&quot;,t[1],t[2],t[3],t[9],t[10];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   printf &quot;%d %d %d %d %d\n&quot;, strtonum( &quot;0x&quot;$1 ),strtonum( &quot;0x&quot;$2 ),strtonum( &quot;0x&quot;$3 ),strtonum( &quot;0x&quot;$9 ),strtonum( &quot;0x&quot;$10 )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&#39;&lt;/span&gt;  /proc/net/softnet_&lt;span class=&quot;built_in&quot;&gt;stat&lt;/span&gt; | column -t&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ watch &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; ./softnet_stat.sh&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Every 2.0s: ./softnet_stat.sh                                                                                          Wed Jul 18 11:32:10 2018&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sd-&amp;gt;processed  sd-&amp;gt;dropped  sd-&amp;gt;time_squeeze  sd-&amp;gt;cpu_collision  sd-&amp;gt;received_rps&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;511952849      0            3                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;172076174      0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;424094332      0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;202775884      0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;207782085      0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;269964983      0            1                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;409462655      0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;253556517      0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;215071078      0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;321583328      0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4854           0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5438           0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4832           0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5124           0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5409           0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5512           0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5765           0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4915           0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4208           0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3617           0            0                 0                  0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;First-question&quot;&gt;&lt;a href=&quot;#First-question&quot; class=&quot;headerlink&quot; title=&quot;First question&quot;&gt;&lt;/a&gt;First question&lt;/h3&gt;&lt;p&gt;Does the ring buffer i
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="kernel" scheme="http://yoursite.com/tags/kernel/"/>
    
      <category term="nic" scheme="http://yoursite.com/tags/nic/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://yoursite.com/2018/07/11/memory/"/>
    <id>http://yoursite.com/2018/07/11/memory/</id>
    <published>2018-07-11T07:24:28.802Z</published>
    <updated>2018-07-02T02:49:24.000Z</updated>
    
    <content type="html"></content>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux memory</title>
    <link href="http://yoursite.com/2018/07/02/mem/"/>
    <id>http://yoursite.com/2018/07/02/mem/</id>
    <published>2018-07-02T02:49:30.000Z</published>
    <updated>2018-07-12T06:27:33.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;NIC-page-allocation-failure&quot;&gt;&lt;a href=&quot;#NIC-page-allocation-failure&quot; class=&quot;headerlink&quot; title=&quot;NIC page allocation failure&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://access.redhat.com/solutions/641323&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NIC page allocation failure&lt;/a&gt;&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;118&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;119&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;120&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;121&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;122&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;123&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;124&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;125&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;126&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;127&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;128&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;129&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;130&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;131&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;132&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;133&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;134&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;135&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;136&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;137&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;138&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;139&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;140&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;141&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;142&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;143&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;144&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;145&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;146&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;147&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;148&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;149&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;150&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;151&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;152&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;153&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;154&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;155&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;156&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;157&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;158&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;159&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;160&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;161&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;162&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;163&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018] swapper/16: page allocation failure: order:2, mode:0x104020&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018] CPU: 16 PID: 0 Comm: swapper/16 Tainted: P           OE  ------------   3.10.0-693.5.2.el7_lustre.x86_64 &lt;span class=&quot;comment&quot;&gt;#1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018] Hardware name: Dell Inc. PowerEdge R730/072T6D, BIOS 2.4.3 01/17/2017&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  0000000000104020 7e870b98ec876be5 ffff88103e8039d8 ffffffff816a3e2d&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  ffff88103e803a68 ffffffff81188820 0000000000000246 ffff88103e803a28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  fffffffffffffffc 0010402000000000 ffff88107ffdb018 7e870b98ec876be5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018] Call Trace:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  &amp;lt;IRQ&amp;gt;  [&amp;lt;ffffffff816a3e2d&amp;gt;] dump_stack+0x19/0x1b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff81188820&amp;gt;] warn_alloc_failed+0x110/0x180&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff8169fe2a&amp;gt;] __alloc_pages_slowpath+0x6b6/0x724&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff8118cdb5&amp;gt;] __alloc_pages_nodemask+0x405/0x420&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff811d1078&amp;gt;] alloc_pages_current+0x98/0x110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff8118761e&amp;gt;] __get_free_pages+0xe/0x40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff811dca2e&amp;gt;] kmalloc_order_trace+0x2e/0xa0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff811e05c1&amp;gt;] __kmalloc+0x211/0x230&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffffc031abba&amp;gt;] bnx2x_frag_alloc.isra.61+0x2a/0x40 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffffc031ba97&amp;gt;] bnx2x_rx_int+0x227/0x17c0 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff81573004&amp;gt;] ? consume_skb+0x34/0x80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff81585dad&amp;gt;] ? __dev_kfree_skb_any+0x3d/0x50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffffc031eecd&amp;gt;] bnx2x_poll+0x1dd/0x260 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff8158799d&amp;gt;] net_rx_action+0x16d/0x380&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff81090b4f&amp;gt;] __&lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_softirq+0xef/0x280&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff816b6b1c&amp;gt;] call_softirq+0x1c/0x30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff8102d3c5&amp;gt;] &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_softirq+0x65/0xa0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff81090ed5&amp;gt;] irq_&lt;span class=&quot;built_in&quot;&gt;exit&lt;/span&gt;+0x105/0x110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff816b76b6&amp;gt;] &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_IRQ+0x56/0xe0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff816ac2ad&amp;gt;] common_interrupt+0x6d/0x6d&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  &amp;lt;EOI&amp;gt;  [&amp;lt;ffffffff816ab546&amp;gt;] ? native_safe_halt+0x6/0x10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff816ab3de&amp;gt;] default_idle+0x1e/0xc0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff81035006&amp;gt;] arch_cpu_idle+0x26/0x30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff810e7bda&amp;gt;] cpu_startup_entry+0x14a/0x1c0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Mon Jul  2 10:38:25 2018]  [&amp;lt;ffffffff81051af6&amp;gt;] start_secondary+0x1b6/0x230&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# in my case &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  00000000ad5e4ed1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018] Call Trace:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff811e05c1&amp;gt;] __kmalloc+0x211/0x230&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  ffff88103e643a20 ffffffff81188820&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  &amp;lt;IRQ&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  00000000000000c3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff816a3e2d&amp;gt;] dump_stack+0x19/0x1b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  0000000000000282&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81188820&amp;gt;] warn_alloc_failed+0x110/0x180&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  fffffffffffffffc 0010402000000000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  ffff8816385ea000 66b8573252d2c8c3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018] Call Trace:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  &amp;lt;IRQ&amp;gt;  [&amp;lt;ffffffff816a3e2d&amp;gt;] dump_stack+0x19/0x1b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff8169fe2a&amp;gt;] __alloc_pages_slowpath+0x6b6/0x724&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81188820&amp;gt;] warn_alloc_failed+0x110/0x180&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff811d1078&amp;gt;] alloc_pages_current+0x98/0x110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02f8bba&amp;gt;] bnx2x_frag_alloc.isra.61+0x2a/0x40 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff8169fe2a&amp;gt;] __alloc_pages_slowpath+0x6b6/0x724&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff8118761e&amp;gt;] __get_free_pages+0xe/0x40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02f9124&amp;gt;] bnx2x_alloc_rx_data.isra.69+0x54/0x1c0 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff8118cdb5&amp;gt;] __alloc_pages_nodemask+0x405/0x420&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff811dca2e&amp;gt;] kmalloc_order_trace+0x2e/0xa0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02fa0b6&amp;gt;] bnx2x_rx_int+0x846/0x17c0 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff811d1078&amp;gt;] alloc_pages_current+0x98/0x110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff811e05c1&amp;gt;] __kmalloc+0x211/0x230&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff8118761e&amp;gt;] __get_free_pages+0xe/0x40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02f8bba&amp;gt;] bnx2x_frag_alloc.isra.61+0x2a/0x40 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff811dca2e&amp;gt;] kmalloc_order_trace+0x2e/0xa0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02f9124&amp;gt;] bnx2x_alloc_rx_data.isra.69+0x54/0x1c0 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff811e05c1&amp;gt;] ? __kmalloc+0x211/0x230&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff811e05c1&amp;gt;] __kmalloc+0x211/0x230&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02f8bba&amp;gt;] bnx2x_frag_alloc.isra.61+0x2a/0x40 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff8118cdb5&amp;gt;] __alloc_pages_nodemask+0x405/0x420&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff810d1c02&amp;gt;] ? load_balance+0x192/0x9a0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02fa0b6&amp;gt;] bnx2x_rx_int+0x846/0x17c0 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02f9124&amp;gt;] bnx2x_alloc_rx_data.isra.69+0x54/0x1c0 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02fcecd&amp;gt;] bnx2x_poll+0x1dd/0x260 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff810d1bd2&amp;gt;] ? load_balance+0x162/0x9a0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02fa0b6&amp;gt;] bnx2x_rx_int+0x846/0x17c0 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02fcecd&amp;gt;] bnx2x_poll+0x1dd/0x260 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81573004&amp;gt;] ? consume_skb+0x34/0x80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff8158799d&amp;gt;] net_rx_action+0x16d/0x380&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81585dad&amp;gt;] ? __dev_kfree_skb_any+0x3d/0x50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81090b4f&amp;gt;] __&lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_softirq+0xef/0x280&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02f95c2&amp;gt;] ? bnx2x_free_tx_pkt+0x1f2/0x2d0 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02f0062&amp;gt;] ? bnx2x_&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_link+0x42/0x270 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02fcecd&amp;gt;] bnx2x_poll+0x1dd/0x260 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff8158799d&amp;gt;] net_rx_action+0x16d/0x380&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff8158799d&amp;gt;] net_rx_action+0x16d/0x380&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff811d1078&amp;gt;] alloc_pages_current+0x98/0x110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff816b6b1c&amp;gt;] call_softirq+0x1c/0x30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81090b4f&amp;gt;] __&lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_softirq+0xef/0x280&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff8118761e&amp;gt;] __get_free_pages+0xe/0x40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff8102d3c5&amp;gt;] &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_softirq+0x65/0xa0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff816b6b1c&amp;gt;] call_softirq+0x1c/0x30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff811dca2e&amp;gt;] kmalloc_order_trace+0x2e/0xa0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81090ed5&amp;gt;] irq_&lt;span class=&quot;built_in&quot;&gt;exit&lt;/span&gt;+0x105/0x110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff811e05c1&amp;gt;] ? __kmalloc+0x211/0x230&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff816b76b6&amp;gt;] &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_IRQ+0x56/0xe0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff811e05c1&amp;gt;] __kmalloc+0x211/0x230&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff816ac2ad&amp;gt;] common_interrupt+0x6d/0x6d&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  &amp;lt;EOI&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02f8bba&amp;gt;] bnx2x_frag_alloc.isra.61+0x2a/0x40 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81527d42&amp;gt;] ? cpuidle_enter_state+0x52/0xc0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81527e88&amp;gt;] cpuidle_idle_call+0xd8/0x210&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81034fee&amp;gt;] arch_cpu_idle+0xe/0x30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff810e7bda&amp;gt;] cpu_startup_entry+0x14a/0x1c0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff8102d3c5&amp;gt;] &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_softirq+0x65/0xa0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81090b4f&amp;gt;] __&lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_softirq+0xef/0x280&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02f9124&amp;gt;] bnx2x_alloc_rx_data.isra.69+0x54/0x1c0 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81090ed5&amp;gt;] irq_&lt;span class=&quot;built_in&quot;&gt;exit&lt;/span&gt;+0x105/0x110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff816b6b1c&amp;gt;] call_softirq+0x1c/0x30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02fa0b6&amp;gt;] bnx2x_rx_int+0x846/0x17c0 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff816b76b6&amp;gt;] &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_IRQ+0x56/0xe0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff8102d3c5&amp;gt;] &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_softirq+0x65/0xa0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff810d1c02&amp;gt;] ? load_balance+0x192/0x9a0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff816ac2ad&amp;gt;] common_interrupt+0x6d/0x6d&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81090ed5&amp;gt;] irq_&lt;span class=&quot;built_in&quot;&gt;exit&lt;/span&gt;+0x105/0x110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  &amp;lt;EOI&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81527d42&amp;gt;] ? cpuidle_enter_state+0x52/0xc0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff816b76b6&amp;gt;] &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_IRQ+0x56/0xe0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81527e88&amp;gt;] cpuidle_idle_call+0xd8/0x210&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff816ac2ad&amp;gt;] common_interrupt+0x6d/0x6d&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  &amp;lt;EOI&amp;gt;  [&amp;lt;ffffffff81527d42&amp;gt;] ? cpuidle_enter_state+0x52/0xc0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81527e88&amp;gt;] cpuidle_idle_call+0xd8/0x210&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81034fee&amp;gt;] arch_cpu_idle+0xe/0x30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff810e7bda&amp;gt;] cpu_startup_entry+0x14a/0x1c0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81051af6&amp;gt;] start_secondary+0x1b6/0x230&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81034fee&amp;gt;] arch_cpu_idle+0xe/0x30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81051af6&amp;gt;] start_secondary+0x1b6/0x230&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffffc02fcecd&amp;gt;] bnx2x_poll+0x1dd/0x260 [bnx2x]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff8158799d&amp;gt;] net_rx_action+0x16d/0x380&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81090b4f&amp;gt;] __&lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_softirq+0xef/0x280&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff810e7bda&amp;gt;] cpu_startup_entry+0x14a/0x1c0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81051af6&amp;gt;] start_secondary+0x1b6/0x230&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff816b6b1c&amp;gt;] call_softirq+0x1c/0x30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff8102d3c5&amp;gt;] &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_softirq+0x65/0xa0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81090ed5&amp;gt;] irq_&lt;span class=&quot;built_in&quot;&gt;exit&lt;/span&gt;+0x105/0x110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff816b76b6&amp;gt;] &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_IRQ+0x56/0xe0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff816ac2ad&amp;gt;] common_interrupt+0x6d/0x6d&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  &amp;lt;EOI&amp;gt;  [&amp;lt;ffffffff811a3178&amp;gt;] ? fragmentation_index+0x38/0xa0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff811a877b&amp;gt;] compaction_suitable+0x5b/0xb0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81199102&amp;gt;] balance_pgdat+0x502/0x5e0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff81199353&amp;gt;] kswapd+0x173/0x440&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff810b1920&amp;gt;] ? wake_up_atomic_t+0x30/0x30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff811991e0&amp;gt;] ? balance_pgdat+0x5e0/0x5e0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff810b099f&amp;gt;] kthread+0xcf/0xe0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff810b08d0&amp;gt;] ? insert_kthread_work+0x40/0x40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff816b4fd8&amp;gt;] ret_from_fork+0x58/0x90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  [&amp;lt;ffffffff810b08d0&amp;gt;] ? insert_kthread_work+0x40/0x40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018] swapper/32: page allocation failure: order:2, mode:0x104020&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018] CPU: 32 PID: 0 Comm: swapper/32 Tainted: P           OE  ------------   3.10.0-693.5.2.el7_lustre.x86_64 &lt;span class=&quot;comment&quot;&gt;#1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018] Hardware name: Dell Inc. PowerEdge R730/072T6D, BIOS 2.4.3 01/17/2017&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018]  0000000000104020 1&lt;span class=&quot;built_in&quot;&gt;fc&lt;/span&gt;54c56797ed550 ffff88103ea03990 ffffffff816a3e2d&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Thu Jul 12 04:23:16 2018] swapper/12: page allocation failure: order:2, mode:0x104020&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;zone_reclaim_mode&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sysctl -w vm.zone_reclaim_mode=1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#This can be set to 1 to attempt reclamation of memory within a NUMA node before reclaiming from other NUMA nodes.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;min_free_kbytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sysctl -w vm.min_free_kbytes = 180224&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#Increase the virtual memory kernel tunable vm.min_free_kbytes, which instructs the virtual memory subsystem to try keep a certain amount of memory always free for allocation.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;The network driver is receiving traffic from the network adapter into kernel memory, however when the driver tried to allocate memory, the allocation failed.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Kernel memory is required to be a contiguous block of a certain size. The kernel memory may be all consumed or fragmented, hence why a contiguous block could not be allocated.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Tuning of the system&lt;span class=&quot;string&quot;&gt;&#39;s use of kernel memory is required to ensure the kernel can always service kernel memory allocations when running in interrupt context.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;kswapd high cpu usage in some of not enough memory case&lt;br&gt;reslove the issue temporary&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sar -rB 2 &lt;span class=&quot;comment&quot;&gt;# check system vm status&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 1 &amp;gt; /proc/sys/vm/drop_caches&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 1 &amp;gt; /proc/sys/vm/compact_memory&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;reduce memory compaction ratio&lt;br&gt;echo 1000 &amp;gt;  /proc/sys/vm/extfrag_threshold # 0~1000 ,1000 means the minimum trigger memory compaction operation, it means kernel memory is required to be a contiguous block of a certain size. The kernel memory may be all consumed or fragmented, hence why a contiguous block could not be allocated.&lt;/p&gt;
&lt;p&gt;Some times there are a lot of free memory in your system. But I ‘m not sure the sk_buffer to malloc memroy range from the linux kernel when the NIC driver tirgger the issue.&lt;/p&gt;
&lt;h4 id=&quot;dirty-page&quot;&gt;&lt;a href=&quot;#dirty-page&quot; class=&quot;headerlink&quot; title=&quot;dirty page&quot;&gt;&lt;/a&gt;dirty page&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sysctl &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; | grep dirty&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vm.dirty_background_bytes = 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vm.dirty_background_ratio = 10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vm.dirty_bytes = 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vm.dirty_expire_centisecs = 3000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vm.dirty_ratio = 20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vm.dirty_writeback_centisecs = 500&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;ZRAM&quot;&gt;&lt;a href=&quot;#ZRAM&quot; class=&quot;headerlink&quot; title=&quot;ZRAM&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://liujunming.top/2016/07/04/Linux%E5%86%85%E6%A0%B8%E4%B8%ADzram%E6%A8%A1%E5%9D%97%E7%9A%84%E7%90%86%E8%A7%A3/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ZRAM&lt;/a&gt;&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;description &lt;span class=&quot;string&quot;&gt;&quot;Initializes zram swaping&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;start on runlevel [2345]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;stop on runlevel [!2345]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pre-start script&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# load dependency modules&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;modprobe zram num_devices=2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# initialize the devices&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 1073741824 &amp;gt; /sys/block/zram0/disksize&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 1073741824 &amp;gt; /sys/block/zram1/disksize&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Creating swap filesystems&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mkswap /dev/zram0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mkswap /dev/zram1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Switch the swaps on&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;swapon -p 5 /dev/zram0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;swapon -p 5 /dev/zram1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;end script&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;post-stop script&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Switching off swap&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;swapoff /dev/zram0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;swapoff /dev/zram1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rmmod zram&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;end script&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;##test zram&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#include &amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#include &amp;lt;stdlib.h&amp;gt;  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;int &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	//&lt;span class=&quot;built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;%d\n&quot;&lt;/span&gt;, sizeof(int));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	int  *mem;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	int i, size;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	size = 0x70000000;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mem = (int*)malloc(size*sizeof(int));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(i = 0; i &amp;lt; size; i++)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		mem[i] = (i%1024);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	getchar();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	free(mem);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;built_in&quot;&gt;return&lt;/span&gt; 0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Some-parameter-about-numa&quot;&gt;&lt;a href=&quot;#Some-parameter-about-numa&quot; class=&quot;headerlink&quot; title=&quot;Some parameter about numa&quot;&gt;&lt;/a&gt;Some parameter about numa&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;numactl --interleave=all &lt;span class=&quot;comment&quot;&gt;#Two/Four socket CPU will share all memory, but you can&#39; t got the best performance except you need more memory&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vm.zone_reclaim_mode = 0  &lt;span class=&quot;comment&quot;&gt;#&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; -15 &amp;gt; /proc/&amp;lt;pid&amp;gt;/oom_adj &lt;span class=&quot;comment&quot;&gt;#reduce kill ratio	&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;huge page will not be swaped&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Soft-lockup-detected-on-a-large-NUMA-system-under-a-heavy-memory-usage&quot;&gt;&lt;a href=&quot;#Soft-lockup-detected-on-a-large-NUMA-system-under-a-heavy-memory-usage&quot; class=&quot;headerlink&quot; title=&quot;Soft lockup detected on a large NUMA system under a heavy memory usage&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://access.redhat.com/solutions/1560893&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Soft lockup detected on a large NUMA system under a heavy memory usage&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Systems with numa factor lower than or equal to 30 may hang under the high load.&lt;br&gt;Soft lockup detected under a heavy memory pressure on a large NUMA system.&lt;/p&gt;
&lt;p&gt;For RHEL 7, users must be aware of the following steps that can avoid the soft lockup from occurring. Disable Transparent Huge Page (THP) to avoid such busy memory-compaction, and add “numa_balancing=disable” to the kernel parameter followed by reboot, OR set /proc/sys/vm/zone_reclaim_mode to 1.&lt;br&gt;For RHEL 6,&lt;br&gt;disable Transparent Huge Page (THP) to avoid such busy memory-compaction OR set /proc/sys/vm/zone_reclaim_mode to 1.&lt;/p&gt;
&lt;p&gt;The default value(zero) of /proc/sys/vm/zone_reclaim_mode results in the CPUs running on the memory exhausted nodes to skip over to the next node with available memory to attempt the memory allocation.&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;kernel: BUG: soft lockup - CPU&lt;span class=&quot;comment&quot;&gt;#102 stuck for 22s! [forkoff:235364]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: Modules linked &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;: fuse btrfs zlib_deflate raid6_pq xor msdos ext4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mbcache jbd2 binfmt_misc xt_CHECKSUM iptable_mangle ipt_MASQUERADE&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;nf_nat_masquerade_ipv4 iptable_nat nf_nat_ipv4 nf_nat nf_conntrack_ipv4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;nf_defrag_ipv4 xt_conntrack nf_conntrack ipt_REJECT iptable_filter ip_tables&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tun bridge stp llc dm_mirror dm_region_&lt;span class=&quot;built_in&quot;&gt;hash&lt;/span&gt; dm_&lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt; dm_mod iTCO_wdt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;iTCO_vendor_support vfat fat intel_powerclamp coretemp intel_rapl kvm_intel&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kvm crct10dif_pclmul crc32_pclmul crc32c_intel ghash_clmulni_intel aesni_intel&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;lrw gf128mul glue_helper ablk_helper cryptd pcspkr sb_edac edac_core lpc_ich&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;i2c_i801 mfd_core shpchp ipmi_si ipmi_msghandler tpm_infineon nls_utf8 isofs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;loop uinput xfs libcrc32c sd_mod crc_t10dif crct10dif_common mgag200&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;syscopyarea sysfillrect sysimgblt drm_kms_helper igb qla2xxx e1000e&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: ttm dca ptp scsi_transport_&lt;span class=&quot;built_in&quot;&gt;fc&lt;/span&gt; drm i2c_algo_bit pps_core scsi_tgt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;megaraid_sas i2c_core&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: CPU: 102 PID: 235364 Comm: forkoff Not tainted 3.10.0-229.el7.x86_64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#1                                                                                                                                                                                                                                                                             &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: task: ffff911d25eea220 ti: ffff927835154000 task.ti: ffff927835154000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: RIP: 0010:[&amp;lt;ffffffff811798ef&amp;gt;]  [&amp;lt;ffffffff811798ef&amp;gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;isolate_freepages_block+0xaf/0x380&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: RSP: 0000:ffff927835157860  EFLAGS: 00000286&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: RAX: 00000000ffffffff RBX: 00000014e4b60000 RCX: ffff927835157aa8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: RDX: 0000000053345c00 RSI: 0000000053345a00 RDI: ffff927835157a50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: RBP: ffff9278351578f8 R08: 0000000000000000 R09: ffff8e007ffda000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: R10: 00000014&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt;168000 R11: 0000000060080000 R12: 0000000000000301&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: R13: ffff927835157850 R14: 0000000000000000 R15: 00007f4501f64000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: FS:  00007f4f4d540740(0000) GS:ffff90fa7f9a0000(0000)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;knlGS:0000000000000000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: CR2: 00007f4690400000 CR3: 000009baa7060000 CR4: 00000000001407e0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: Stack:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: ffffea2a02311040 0000000060080000 0000000000000094 ffff927835157948&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: 0000000053345a00 ffff927835157a50 000000004808ec38 00ff8e0000000000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: ffff927835157a90 ffff927835157aa8 ffff927835157a50 ffff8e007ffad000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: Call Trace:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff81179d8f&amp;gt;] compaction_alloc+0x1cf/0x240&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff811b15ce&amp;gt;] migrate_pages+0xce/0x610&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff81179bc0&amp;gt;] ? isolate_freepages_block+0x380/0x380&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff8117abb9&amp;gt;] compact_zone+0x299/0x400&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff8117adbc&amp;gt;] compact_zone_order+0x9c/0xf0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff8117b171&amp;gt;] try_to_compact_pages+0x121/0x1a0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff815ff336&amp;gt;] __alloc_pages_direct_compact+0xac/0x196&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff81160758&amp;gt;] __alloc_pages_nodemask+0x788/0xb90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff810b11c0&amp;gt;] ? task_numa_fault+0x8d0/0xbb0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff811a24aa&amp;gt;] alloc_pages_vma+0x9a/0x140&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff811b674b&amp;gt;] &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_huge_pmd_anonymous_page+0x10b/0x410&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff81182334&amp;gt;] handle_mm_fault+0x184/0xd60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff8160f1e6&amp;gt;] __&lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_page_fault+0x156/0x520&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff8118a945&amp;gt;] ? change_protection+0x65/0xa0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff811a0dbb&amp;gt;] ? change_prot_numa+0x1b/0x40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff810adb86&amp;gt;] ? task_numa_work+0x266/0x300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff8160f5ca&amp;gt;] &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_page_fault+0x1a/0x70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff81013b0c&amp;gt;] ? &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_notify_resume+0x9c/0xb0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: [&amp;lt;ffffffff8160b808&amp;gt;] page_fault+0x28/0x30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kernel: Code: 89 ee 48 89 4d b0 41 89 c5 eb 1d 90 49 83 c7 01 48 83 c3 40 4d&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39 &lt;span class=&quot;built_in&quot;&gt;fc&lt;/span&gt; 0f 86 07 01 00 00 41 83 c5 01 4d 85 f6 4c 0f 44 f3 8b 43 18 &amp;lt;83&amp;gt; f8 80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75 dc 48 8b 45 b8 0f b6 55 c0 48 8d 75 c8 4c 8b 45 b0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Transparent-Huge-Page&quot;&gt;&lt;a href=&quot;#Transparent-Huge-Page&quot; class=&quot;headerlink&quot; title=&quot;Transparent Huge Page&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://access.redhat.com/solutions/46111&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Transparent Huge Page&lt;/a&gt;&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#### Enable or disable&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cat /sys/kernel/mm/transparent_hugepage/enabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[always] madvise never&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cat /sys/kernel/mm/transparent_hugepage/defrag&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[always] madvise never&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ grep AnonHugePages /proc/meminfo&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AnonHugePages:  19523584 kB&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ grep -Ei &lt;span class=&quot;string&quot;&gt;&#39;trans|thp&#39;&lt;/span&gt; /proc/vmstat&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;nr_anon_transparent_hugepages 9533&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;thp_fault_alloc 24017&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;thp_fault_fallback 16231&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;thp_collapse_alloc 1687&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;thp_collapse_alloc_failed 39449&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;thp_split 2926&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;thp_zero_page_alloc 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;thp_zero_page_alloc_failed 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;### check the process&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ grep &lt;span class=&quot;_&quot;&gt;-e&lt;/span&gt; AnonHugePages  /proc/*/smaps | awk -F &lt;span class=&quot;string&quot;&gt;&#39;[/ ]+&#39;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;$(NF-1)&amp;gt;4 &amp;#123;system(&quot;ps -fp  &quot;$3)&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UID        PID  PPID  C STIME TTY          TIME CMD&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;nobody    5023  5016  3 Jun07 ?        22:28:27 /sbin/lustre_exporter --collector.ost=disabled --collector.mdt=core&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UID        PID  PPID  C STIME TTY          TIME CMD&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;polkitd    743     1  0 Jun07 ?        00:00:19 /usr/lib/polkit-1/polkitd --no-debug&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;### &lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;NIC-page-allocation-failure&quot;&gt;&lt;a href=&quot;#NIC-page-allocation-failure&quot; class=&quot;headerlink&quot; title=&quot;NIC page allocation failure&quot;&gt;&lt;/a&gt;&lt;a hr
    
    </summary>
    
      <category term="Memory" scheme="http://yoursite.com/categories/Memory/"/>
    
    
      <category term="memory" scheme="http://yoursite.com/tags/memory/"/>
    
  </entry>
  
  <entry>
    <title>SAS JBOD issues</title>
    <link href="http://yoursite.com/2018/06/05/SAS-JBOD-issues/"/>
    <id>http://yoursite.com/2018/06/05/SAS-JBOD-issues/</id>
    <published>2018-06-05T07:32:54.000Z</published>
    <updated>2018-06-10T07:11:34.000Z</updated>
    
    <content type="html">&lt;h4 id=&quot;issue-introduction-in-supermicro-JBOD&quot;&gt;&lt;a href=&quot;#issue-introduction-in-supermicro-JBOD&quot; class=&quot;headerlink&quot; title=&quot;issue introduction in supermicro JBOD&quot;&gt;&lt;/a&gt;issue introduction in supermicro JBOD&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:11 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: fault_state(0x5853)!&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:11 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: sending diag reset !!&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:12 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: diag reset: SUCCESS&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:12 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: IOC Number : 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:12 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: CurrentHtankPageSize is 0: Setting default htank page size to 4k&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:12 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: LSISAS3008: FWVersion(15.00.02.00), ChipRevision(0x02), BiosVersion(08.33.00.00)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:12 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: Protocol=(Initiator,Target), Capabilities=(TLR,EEDP,Snapshot Buffer,Diag Trace Buffer,Task Set Full,NCQ)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:12 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: sending port &lt;span class=&quot;built_in&quot;&gt;enable&lt;/span&gt; !!&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:16 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: WARNING: Pool &lt;span class=&quot;string&quot;&gt;&#39;tank_3&#39;&lt;/span&gt; has encountered an uncorrectable I/O failure and has been suspended.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:16 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: WARNING: Pool &lt;span class=&quot;string&quot;&gt;&#39;tank_1&#39;&lt;/span&gt; has encountered an uncorrectable I/O failure and has been suspended.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:16 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: WARNING: Pool &lt;span class=&quot;string&quot;&gt;&#39;tank_0&#39;&lt;/span&gt; has encountered an uncorrectable I/O failure and has been suspended.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:16 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: WARNING: Pool &lt;span class=&quot;string&quot;&gt;&#39;tank_4&#39;&lt;/span&gt; has encountered an uncorrectable I/O failure and has been suspended.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:16 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: WARNING: Pool &lt;span class=&quot;string&quot;&gt;&#39;tank_2&#39;&lt;/span&gt; has encountered an uncorrectable I/O failure and has been suspended.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: port &lt;span class=&quot;built_in&quot;&gt;enable&lt;/span&gt;: SUCCESS&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: search &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; end-devices: start&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: scsi target14:0:0: handle(0x000a), sas_address(0x5000cca25d7295a2), port: 255&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: scsi target14:0:0: enclosure logical id(0x500304800927a43f), slot(0)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: scsi target14:0:1: handle(0x000c), sas_address(0x5000cca25d6969b6), port: 255&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: scsi target14:0:1: enclosure logical id(0x500304800927a43f), slot(1)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: scsi target14:0:2: handle(0x000d), sas_address(0x5000cca25d72abb6), port: 255&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: scsi target14:0:2: enclosure logical id(0x500304800927a43f), slot(2)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;---------------------discover a lot of sas dev----------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: scsi target14:0:92: enclosure logical id(0x500304800927a4bf), slot(39)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: &lt;span class=&quot;comment&quot;&gt;#011break from _scsih_search_responding_sas_devices: ioc_status(0x0022), loginfo(0x310f0400)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: search &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; end-devices: complete&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: search &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; end-devices: start&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: search &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PCIe end-devices: complete&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: search &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; expanders: start&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: &lt;span class=&quot;comment&quot;&gt;#011expander present: handle(0x0009), sas_addr(0x500304800927a53f), port:255&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: &lt;span class=&quot;comment&quot;&gt;#011expander present: handle(0x000b), sas_addr(0x500304800927a57f), port:255&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: &lt;span class=&quot;comment&quot;&gt;#011expander present: handle(0x0017), sas_addr(0x500304800927a5bf), port:255&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: &lt;span class=&quot;comment&quot;&gt;#011break from _scsih_search_responding_expanders: ioc_status(0x0022), loginfo(0x310f0400)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: search &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; expanders: complete&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: _base_fault_reset_work: hard reset: success&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: removing unresponding devices: start&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: removing unresponding devices: sas end-devices&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: removing unresponding devices: pcie end-devices&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: removing unresponding devices: expanders&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: removing unresponding devices: complete&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: scan devices: start&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: &lt;span class=&quot;comment&quot;&gt;#011scan devices: expanders start&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: &lt;span class=&quot;comment&quot;&gt;#011break from expander scan: ioc_status(0x0022), loginfo(0x310f0400)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: &lt;span class=&quot;comment&quot;&gt;#011scan devices: expanders complete&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: &lt;span class=&quot;comment&quot;&gt;#011scan devices: sas end devices start&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: &lt;span class=&quot;comment&quot;&gt;#011break from sas end device scan: ioc_status(0x0022), loginfo(0x310f0400)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: &lt;span class=&quot;comment&quot;&gt;#011scan devices: sas end devices complete&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: &lt;span class=&quot;comment&quot;&gt;#011scan devices: pcie end devices start&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: &lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;_info(0x3003011d): originator(IOP), code(0x03), sub_code(0x011d)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: &lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;_info(0x3003011d): originator(IOP), code(0x03), sub_code(0x011d)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: &lt;span class=&quot;comment&quot;&gt;#011break from pcie end device scan: ioc_status(0x0021), loginfo(0x3003011d)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: &lt;span class=&quot;comment&quot;&gt;#011pcie devices: pcie end devices complete&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:43:19 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: mpt3sas_cm3: scan devices: complete&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:48:06 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: Lustre: 22778:0:(service.c:1346:ptlrpc_at_send_early_reply()) @@@ Couldn&lt;span class=&quot;string&quot;&gt;&#39;t add any time (5/5), not sending early reply#012  req@ffff880e10654450 x1596544563528160/t0(0) o4-&amp;gt;a7f35279-494c-1981-38fa-acdcec1fbf35@10.53.2.225@tcp:71/0 lens 608/448 e 10 to 0 dl 1527706091 ref 2 fl Interpret:/0/0 rc 0/0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:48:07 $HOSTNAME kernel: Lustre: 22778:0:(service.c:1346:ptlrpc_at_send_early_reply()) @@@ Couldn&#39;&lt;/span&gt;t add any time (5/5), not sending early reply&lt;span class=&quot;comment&quot;&gt;#012  req@ffff880ffbc8b450 x1584238257345984/t0(0) o4-&amp;gt;f87ebbf4-cb7b-a830-9e77-0096b0381fc8@10.53.3.53@tcp:72/0 lens 488/448 e 10 to 0 dl 1527706092 ref 2 fl Interpret:/0/0 rc 0/0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:48:07 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: Lustre: 22778:0:(service.c:1346:ptlrpc_at_send_early_reply()) Skipped 2 previous similar messages&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:48:08 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: Lustre: 22778:0:(service.c:1346:ptlrpc_at_send_early_reply()) @@@ Couldn&lt;span class=&quot;string&quot;&gt;&#39;t add any time (5/5), not sending early reply#012  req@ffff881035282450 x1596089180992128/t0(0) o4-&amp;gt;86387ec7-655d-34e3-f185-501b9a865171@10.53.0.44@tcp:73/0 lens 488/448 e 10 to 0 dl 1527706093 ref 2 fl Interpret:/0/0 rc 0/0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:48:08 $HOSTNAME kernel: Lustre: 22778:0:(service.c:1346:ptlrpc_at_send_early_reply()) Skipped 4 previous similar messages&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:48:10 $HOSTNAME kernel: Lustre: 22778:0:(service.c:1346:ptlrpc_at_send_early_reply()) @@@ Couldn&#39;&lt;/span&gt;t add any time (5/5), not sending early reply&lt;span class=&quot;comment&quot;&gt;#012  req@ffff880ff975c850 x1596571846265280/t0(0) o4-&amp;gt;24d3c64b-6363-9155-5d8f-23fe641295fa@10.53.2.221@tcp:75/0 lens 608/448 e 10 to 0 dl 1527706095 ref 2 fl Interpret:/0/0 rc 0/0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;May 1 02:48:10 &lt;span class=&quot;variable&quot;&gt;$HOSTNAME&lt;/span&gt; kernel: Lustre: 22778:0:(service.c:1346:ptlrpc_at_send_early_reply()) Skipped 10 previous similar messages&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;debug-sas-connection-from-driver-layer&quot;&gt;&lt;a href=&quot;#debug-sas-connection-from-driver-layer&quot; class=&quot;headerlink&quot; title=&quot;debug sas connection from driver layer&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://zfs.datto.com/slides/hutter.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;debug sas connection from driver layer&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;I found there are a lot of counts increment in supermicro 4U 90 bay JBOD.&lt;br&gt;If you see running_disparity_error_count and phy_reset_problem_count increment in your server, that means too bad thing in the sas connection.&lt;/p&gt;
&lt;p&gt;/sys/class/sas_phy means in driver layer ,not means sas device.&lt;br&gt;If you found somethings wrong in driver layer, that means.&lt;/p&gt;
&lt;p&gt;Here is driver layer, not means there is the issue in sas devices, SAS HBA, JBOD IO expader, both of which are likely.&lt;br&gt;And the HDD has a lot of ECC delayed, JBOD vibrate will cause this issue. but not all.&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;phy-14:1:27-- running_disparity_error_count:9648  phy_reset_problem_count:0  loss_of_dword_sync_count:0  invalid_dword_count:1045&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;phy-14:1:32-- running_disparity_error_count:0  phy_reset_problem_count:47131027  loss_of_dword_sync_count:0  invalid_dword_count:0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;If you want make sure sas dev whether has the issue, you could get it from smartctl&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;smartctl -x /dev/sdhe&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;smartctl 6.2 2013-07-26 r3841 [x86_64-linux-3.10.0-693.5.2.el7_lustre.x86_64] (&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt; build)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Copyright (C) 2002-13, Bruce Allen, Christian Franke, www.smartmontools.org&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;=== START OF INFORMATION SECTION ===&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Vendor:               HGST&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Product:              HUH721010AL5200&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Revision:             A21D&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;User Capacity:        10,000,831,348,736 bytes [10.0 TB]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Logical block size:   512 bytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Physical block size:  4096 bytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Lowest aligned LBA:   0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Logical block provisioning &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; unreported, LBPME=0, LBPRZ=0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Rotation Rate:        7200 rpm&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Form Factor:          3.5 inches&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Logical Unit id:      0x5000cca251998a50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Serial number:        xxxxxx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Device &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;:          disk&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Transport protocol:   SAS&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Local Time is:        Tue Jun  5 16:29:01 2018 CST&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SMART support is:     Available - device has SMART capability.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SMART support is:     Enabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Temperature Warning:  Enabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Read Cache is:        Enabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Writeback Cache is:   Enabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;=== START OF READ SMART DATA SECTION ===&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SMART Health Status: OK&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Current Drive Temperature:     32 C&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Drive Trip Temperature:        85 C&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Manufactured &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; week 09 of year 2017&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Specified cycle count over device lifetime:  50000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Accumulated start-stop cycles:  7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Specified load-unload count over device lifetime:  600000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Accumulated load-unload cycles:  351&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Elements &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; grown defect list: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Vendor (Seagate) cache information&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Blocks sent to initiator = 63204729735348224&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Error counter &lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           Errors Corrected by           Total   Correction     Gigabytes    Total&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               ECC          rereads/    errors   algorithm      processed    uncorrected&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           fast | delayed   rewrites  corrected  invocations   [10^9 bytes]  errors&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt;:          0      377         0       377    2915953      59161.832           0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;write:         0        8         0         8     267282      20883.070           0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;verify:        0        0         0         0      67653          0.000           0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Non-medium error count:        0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;No self-tests have been logged&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Background scan results &lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Status: scan is active&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Accumulated power on time, hours:minutes 9039:55 [542395 minutes]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Number of background scans performed: 31,  scan progress: 63.81%&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Number of background medium scans performed: 31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Protocol Specific port &lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt; page &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; SAS SSP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;relative target port id = 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  generation code = 4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  number of phys = 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  phy identifier = 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    attached device &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;: expander device&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    attached reason: SMP phy control &lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    reason: unknown&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    negotiated logical link rate: reserved [11]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    attached initiator port: ssp=0 stp=0 smp=0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    attached target port: ssp=0 stp=0 smp=1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    SAS address = 0x5000cca251998a51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    attached SAS address = 0x500304800928ac7f&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    attached phy identifier = 20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Invalid DWORD count = 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Running disparity error count = 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Loss of DWORD synchronization = 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Phy reset problem = 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Phy event descriptors:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     Invalid word count: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     Running disparity error count: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     Loss of dword synchronization count: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     Phy reset problem count: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;relative target port id = 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  generation code = 4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  number of phys = 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  phy identifier = 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    attached device &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;: expander device&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    attached reason: SMP phy control &lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    reason: unknown&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    negotiated logical link rate: reserved [11]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    attached initiator port: ssp=0 stp=0 smp=0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    attached target port: ssp=0 stp=0 smp=1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    SAS address = 0x5000cca251998a52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    attached SAS address = 0x500304800928ad7f&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    attached phy identifier = 20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Invalid DWORD count = 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Running disparity error count = 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Loss of DWORD synchronization = 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Phy reset problem = 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Phy event descriptors:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     Invalid word count: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     Running disparity error count: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     Loss of dword synchronization count: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     Phy reset problem count: 0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.oracle.com/cd/E19121-01/sf.x4200/819-1157-23/F_BIOS_RAID.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;About parameters&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Invalid DWORDs&lt;ul&gt;
&lt;li&gt;The number of invalid dwords that have been received, outside of PHY reset sequences, since the last PHY Link Error Reset&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Loss of DWORD Sync:&lt;ul&gt;
&lt;li&gt;The number of times, since the last PHY Link Error Reset, that DWORD synchronization was lost and the link reset sequence occurred.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Running Disparity Errors&lt;ul&gt;
&lt;li&gt;The number of DWORDS with running disparity errors that have been received, outside of PHY reset sequences, since the last PHY Link Error Reset&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;PHY Reset Errors&lt;ul&gt;
&lt;li&gt;The number of times the PHY reset sequence has failed, since the last PHY Link Error Reset&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;check-scripts&quot;&gt;&lt;a href=&quot;#check-scripts&quot; class=&quot;headerlink&quot; title=&quot;check scripts&quot;&gt;&lt;/a&gt;check scripts&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;lsscsi -git &amp;gt; /dev/shm/lsscsi.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; /sys/class/sas_phy;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; $(ls | sed &lt;span class=&quot;string&quot;&gt;&#39;s/phy-//g&#39;&lt;/span&gt;); &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;value=$(cat &lt;span class=&quot;string&quot;&gt;&quot;phy-&quot;&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$i&lt;/span&gt;/running_disparity_error_count)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;value2=$(cat &lt;span class=&quot;string&quot;&gt;&quot;phy-&quot;&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$i&lt;/span&gt;/phy_reset_problem_count)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;value3=$(cat &lt;span class=&quot;string&quot;&gt;&quot;phy-&quot;&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$i&lt;/span&gt;/loss_of_dword_sync_count)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;value4=$(cat &lt;span class=&quot;string&quot;&gt;&quot;phy-&quot;&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$i&lt;/span&gt;/invalid_dword_count)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; [[ &lt;span class=&quot;variable&quot;&gt;$value&lt;/span&gt; &lt;span class=&quot;_&quot;&gt;-gt&lt;/span&gt; 0 ]] || [[ &lt;span class=&quot;variable&quot;&gt;$value2&lt;/span&gt; &lt;span class=&quot;_&quot;&gt;-gt&lt;/span&gt; 0 ]] || [[ &lt;span class=&quot;variable&quot;&gt;$value3&lt;/span&gt; &lt;span class=&quot;_&quot;&gt;-gt&lt;/span&gt; 0 ]] || [[ &lt;span class=&quot;variable&quot;&gt;$value4&lt;/span&gt; &lt;span class=&quot;_&quot;&gt;-gt&lt;/span&gt; 0 ]]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  devtype=$(cat /dev/shm/lsscsi.log | grep -i &lt;span class=&quot;variable&quot;&gt;$i&lt;/span&gt; | awk &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;print $(NF-2)&quot; &quot;$(NF-1)&amp;#125;&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; -n &lt;span class=&quot;variable&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$devtype&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; -n running_disparity_error_count&lt;span class=&quot;string&quot;&gt;&quot;:&quot;&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$value&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; -n phy_reset_problem_count&lt;span class=&quot;string&quot;&gt;&quot;:&quot;&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$value2&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; -n loss_of_dword_sync_count&lt;span class=&quot;string&quot;&gt;&quot;:&quot;&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$value3&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; invalid_dword_count&lt;span class=&quot;string&quot;&gt;&quot;:&quot;&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$value4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;fi&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;done&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## first columne is the addr &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;lsscsi -git | grep sdkx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[14:0:39:0]  disk    sas:0x5000cca25197b4e2          /dev/sdkx  35000cca25197b4e0  /dev/sg320&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/sys/class/sas_phy/phy-14:1:27/device/port/end_device-14:1:26/target14:0:39/14:0:39:0/block/sdkx&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Intel-lustre-zfs-bottle-neck-when-there-are-40-cores-in-mds-or-oss&quot;&gt;&lt;a href=&quot;#Intel-lustre-zfs-bottle-neck-when-there-are-40-cores-in-mds-or-oss&quot; class=&quot;headerlink&quot; title=&quot;Intel lustre zfs bottle neck when there are 40 cores in mds or oss&quot;&gt;&lt;/a&gt;Intel lustre zfs bottle neck when there are 40 cores in mds or oss&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;top - 09:32:18 up 15 days, 16:47,  3 users,  load average: 26.43, 22.56, 18.55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Tasks: 803 total,  41 running, 762 sleeping,   0 stopped,   0 zombie&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;%Cpu(s):  0.0 us, 20.4 sy,  0.0 ni, 76.5 id,  1.9 wa,  0.0 hi,  1.2 si,  0.0 st&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;KiB Mem : 26356606+total, 22304377+free,  8266088 used, 32256200 buff/cache&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;KiB Swap:  4194300 total,  4194300 free,        0 used. 22247840+avail Mem&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28092 root      20   0       0      0      0 S  23.3  0.0 293:38.02 socknal_sd00_03&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28095 root      20   0       0      0      0 S  21.9  0.0 604:19.73 socknal_sd01_00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13599 root      20   0       0      0      0 R  19.3  0.0 135:22.93 mdt01_014&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25748 root      20   0       0      0      0 S  18.9  0.0  83:45.88 mdt00_027&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38594 root      20   0       0      0      0 S  17.6  0.0 192:13.53 mdt00_016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37114 root      20   0       0      0      0 S  16.9  0.0 174:06.89 mdt00_005&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36042 root      20   0       0      0      0 S  16.3  0.0 176:39.06 mdt00_003&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21294 root      20   0       0      0      0 S  15.0  0.0  81:13.77 mdt00_025&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32761 root      20   0       0      0      0 S  15.0  0.0 177:27.52 mdt00_002&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13609 root      20   0       0      0      0 R  13.3  0.0 194:09.58 mdt00_014&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; 3873 root      20   0       0      0      0 S  13.0  0.0 147:37.84 mdt00_018&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25213 root      20   0       0      0      0 S  12.6  0.0 156:16.76 mdt00_009&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32706 root      20   0       0      0      0 S  12.3  0.0  89:11.84 mdt00_031&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13615 root      20   0       0      0      0 R  12.0  0.0 131:17.35 mdt01_024&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25526 root      20   0       0      0      0 R  12.0  0.0 155:40.02 mdt00_021&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10520 root      20   0       0      0      0 R  11.6  0.0  88:06.24 mdt00_028&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27409 root      20   0       0      0      0 S  11.6  0.0 156:05.06 mdt00_010&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37686 root      20   0       0      0      0 S  11.6  0.0 196:58.72 mdt00_006&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29309 root      20   0       0      0      0 R  11.3  0.0  86:47.02 mdt00_029&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34503 root      20   0       0      0      0 S  11.0  0.0 167:01.29 mdt01_003&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13621 root      20   0       0      0      0 R  10.6  0.0 147:10.61 mdt01_030&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; 1624 root      20   0       0      0      0 S  10.0  0.0  81:59.14 mdt00_023&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25908 root      39  19       0      0      0 S  10.0  0.0 318:59.58 dbuf_evict&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13617 root      20   0       0      0      0 S   9.6  0.0 154:52.15 mdt01_026&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28089 root      20   0       0      0      0 R   9.3  0.0 447:04.98 socknal_sd00_00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; 3875 root      20   0       0      0      0 R   9.0  0.0 186:09.43 mdt01_033&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13602 root      20   0       0      0      0 S   9.0  0.0 165:46.05 mdt01_017&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;mptevents&quot;&gt;&lt;a href=&quot;#mptevents&quot; class=&quot;headerlink&quot; title=&quot;mptevents&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://github.com/baruch/mptevents&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;mptevents&lt;/a&gt;&lt;/h4&gt;</content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;issue-introduction-in-supermicro-JBOD&quot;&gt;&lt;a href=&quot;#issue-introduction-in-supermicro-JBOD&quot; class=&quot;headerlink&quot; title=&quot;issue introduction
    
    </summary>
    
      <category term="storage" scheme="http://yoursite.com/categories/storage/"/>
    
    
      <category term="sas" scheme="http://yoursite.com/tags/sas/"/>
    
      <category term="jbod" scheme="http://yoursite.com/tags/jbod/"/>
    
  </entry>
  
  <entry>
    <title>GNU parallel</title>
    <link href="http://yoursite.com/2018/06/01/parallel/"/>
    <id>http://yoursite.com/2018/06/01/parallel/</id>
    <published>2018-06-01T05:46:30.000Z</published>
    <updated>2018-06-01T06:25:46.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;Pipe-single-big-file&quot;&gt;&lt;a href=&quot;#Pipe-single-big-file&quot; class=&quot;headerlink&quot; title=&quot;Pipe single big file&quot;&gt;&lt;/a&gt;Pipe single big file&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cat bigfile.bin | parallel --pipe --recend &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt; -k bzip2 --best &amp;gt; compressedfile.bz2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cat bigfile.txt | parallel --block 10M --pipe grep &lt;span class=&quot;string&quot;&gt;&#39;pattern&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cat rands20M.txt | parallel --pipe awk \&lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;s+=\$1&amp;#125; END &amp;#123;print s&amp;#125;\&#39;&lt;/span&gt; | awk &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;s+=$1&amp;#125; END &amp;#123;print s&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cat bigfile.txt | parallel  --pipe wc &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; | awk &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;s+=$1&amp;#125; END &amp;#123;print s&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cat bigfile.txt | parallel --pipe sed s^old^new^g&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;For-multiple-files&quot;&gt;&lt;a href=&quot;#For-multiple-files&quot; class=&quot;headerlink&quot; title=&quot;For multiple files&quot;&gt;&lt;/a&gt;For multiple files&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;find . -name &lt;span class=&quot;string&quot;&gt;&#39;*.html&#39;&lt;/span&gt; | parallel gzip --best&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Get-parameter&quot;&gt;&lt;a href=&quot;#Get-parameter&quot; class=&quot;headerlink&quot; title=&quot;Get parameter&quot;&gt;&lt;/a&gt;Get parameter&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ seq 10 | parallel &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_&amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ parallel &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; ::: &lt;span class=&quot;string&quot;&gt;&quot;123&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;456&quot;&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt; zzz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;123&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;456&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;zzz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ parallel &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; ::: A B C ::: D E F&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;A D&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;A E&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;A F&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;B D&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;B E&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;B F&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;C D&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;C E&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;C F&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ parallel &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; abc-file &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; def-file &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cat abc-file | parallel &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; - &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; def-file &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# replace - by ::::&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cat abc-file | parallel &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; :::: - def-file&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# &quot;:::&quot; is stand input, :::: is file&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ parallel &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; ::: A B C :::: def-file&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ parallel --xapply &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; ::: A B C ::: D E F&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;A D&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;B E&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;C F&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ seq 50 | parallel -n0 -q  curl &lt;span class=&quot;string&quot;&gt;&#39;example.com&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#  -n 0 means read one argument, but insert 0 arguments on the command line.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#  -q       Quote command.  This will quote the command line so special characters are not interpreted by the shell.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Function&quot;&gt;&lt;a href=&quot;#Function&quot; class=&quot;headerlink&quot; title=&quot;Function&quot;&gt;&lt;/a&gt;Function&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;doit&lt;/span&gt;&lt;/span&gt;() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    x=&lt;span class=&quot;variable&quot;&gt;$1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;_something &lt;span class=&quot;variable&quot;&gt;$x&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [... 100 lines that &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt; something with &lt;span class=&quot;variable&quot;&gt;$x&lt;/span&gt; ...]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; doit&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  cat list | parallel doit&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Pipe-single-big-file&quot;&gt;&lt;a href=&quot;#Pipe-single-big-file&quot; class=&quot;headerlink&quot; title=&quot;Pipe single big file&quot;&gt;&lt;/a&gt;Pipe single big file&lt;/h3&gt;&lt;
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="gnu" scheme="http://yoursite.com/tags/gnu/"/>
    
      <category term="parallel" scheme="http://yoursite.com/tags/parallel/"/>
    
  </entry>
  
  <entry>
    <title>trace network</title>
    <link href="http://yoursite.com/2018/06/01/tcptrace/"/>
    <id>http://yoursite.com/2018/06/01/tcptrace/</id>
    <published>2018-06-01T02:49:42.000Z</published>
    <updated>2018-06-01T07:15:20.000Z</updated>
    
    <content type="html">&lt;h4 id=&quot;tcpdump&quot;&gt;&lt;a href=&quot;#tcpdump&quot; class=&quot;headerlink&quot; title=&quot;tcpdump&quot;&gt;&lt;/a&gt;tcpdump&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;tcpdump -n -i eth0 -A -x dst port 443 and greater 100&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;tcpdump&quot;&gt;&lt;a href=&quot;#tcpdump&quot; class=&quot;headerlink&quot; title=&quot;tcpdump&quot;&gt;&lt;/a&gt;tcpdump&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;
    
    </summary>
    
      <category term="network" scheme="http://yoursite.com/categories/network/"/>
    
    
      <category term="tcp" scheme="http://yoursite.com/tags/tcp/"/>
    
  </entry>
  
  <entry>
    <title>NIC benchmark</title>
    <link href="http://yoursite.com/2018/06/01/NIC-benchmark/"/>
    <id>http://yoursite.com/2018/06/01/NIC-benchmark/</id>
    <published>2018-06-01T02:49:42.000Z</published>
    <updated>2018-06-02T03:23:28.000Z</updated>
    
    <content type="html">&lt;h4 id=&quot;Test-server&quot;&gt;&lt;a href=&quot;#Test-server&quot; class=&quot;headerlink&quot; title=&quot;Test server&quot;&gt;&lt;/a&gt;Test server&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Dell PowerEdge R730&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2 x Xeon E5 2630v4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16G 2133MHz x 8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;reference&quot;&gt;&lt;a href=&quot;#reference&quot; class=&quot;headerlink&quot; title=&quot;reference&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.intel.com/content/dam/www/public/us/en/documents/reference-guides/xl710-x710-performance-tuning-linux-guide.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;reference&lt;/a&gt;&lt;/h4&gt;&lt;h4 id=&quot;100GbE-tuning&quot;&gt;&lt;a href=&quot;#100GbE-tuning&quot; class=&quot;headerlink&quot; title=&quot;100GbE tuning&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://fasterdata.es.net/host-tuning/100g-tuning/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;100GbE tuning&lt;/a&gt;&lt;/h4&gt;&lt;h4 id=&quot;benchmark&quot;&gt;&lt;a href=&quot;#benchmark&quot; class=&quot;headerlink&quot; title=&quot;benchmark&quot;&gt;&lt;/a&gt;benchmark&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;lspci | grep Ethernet&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;01:00.0 Ethernet controller: Broadcom Limited NetXtreme II BCM57800 1/10 Gigabit Ethernet (rev 10)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;01:00.1 Ethernet controller: Broadcom Limited NetXtreme II BCM57800 1/10 Gigabit Ethernet (rev 10)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;01:00.2 Ethernet controller: Broadcom Limited NetXtreme II BCM57800 1/10 Gigabit Ethernet (rev 10)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;01:00.3 Ethernet controller: Broadcom Limited NetXtreme II BCM57800 1/10 Gigabit Ethernet (rev 10)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;03:00.0 Ethernet controller: Intel Corporation 82599ES 10-Gigabit SFI/SFP+ Network Connection (rev 01)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;03:00.1 Ethernet controller: Intel Corporation 82599ES 10-Gigabit SFI/SFP+ Network Connection (rev 01)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;04:00.0 Ethernet controller: Mellanox Technologies MT27710 Family [ConnectX-4 Lx]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;04:00.1 Ethernet controller: Mellanox Technologies MT27710 Family [ConnectX-4 Lx]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;05:00.0 Ethernet controller: Intel Corporation Ethernet Controller XXV710 &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; 25GbE SFP28 (rev 02)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;05:00.1 Ethernet controller: Intel Corporation Ethernet Controller XXV710 &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; 25GbE SFP28 (rev 02)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ lspci &lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt; 05:00.0 -vvv | grep -Ei &lt;span class=&quot;string&quot;&gt;&#39;8G|MSI-X&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Capabilities: [70] MSI-X: Enable+ Count=129 Masked-&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		LnkCap:	Port &lt;span class=&quot;comment&quot;&gt;#0, Speed 8GT/s, Width x8, ASPM L1, Latency L0 &amp;lt;2us, L1 &amp;lt;16us&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		LnkSta:	Speed 8GT/s, Width x8, TrErr- Train- SlotClk+ DLActive- BWMgmt- ABWMgmt-&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ethtool -i p5p2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;driver: i40e&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;version: 2.4.6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;firmware-version: 6.01 0x80003554 1.1747.0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bus-info: 0000:05:00.1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-statistics: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-test: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-eeprom-access: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-register-dump: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-priv-flags: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ethtool &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; p5p2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Channel parameters &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; p5p2:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Pre-set maximums:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Other:		1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Combined:	64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Current hardware settings:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Other:		1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Combined:	8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ethtool -g p5p2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ring parameters &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; p5p2:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Pre-set maximums:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		4096&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Mini:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Jumbo:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		4096&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Current hardware settings:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		512&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Mini:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Jumbo:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		512&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ip2=xx.xx.xx.xx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; k &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; &amp;#123;1..4&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  numactl -N 0 -m 0 iperf3  -c &lt;span class=&quot;variable&quot;&gt;$ip2&lt;/span&gt; -P 1 -t 36000 -p 520&lt;span class=&quot;variable&quot;&gt;$&amp;#123;k&amp;#125;&lt;/span&gt; &amp;amp;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  numactl -N 0 -m 0 qperf  -lp 400&lt;span class=&quot;variable&quot;&gt;$&amp;#123;k&amp;#125;&lt;/span&gt; -t 36000 -oo msg_size:1K:4K:*2 &lt;span class=&quot;variable&quot;&gt;$ip2&lt;/span&gt; tcp_bw &amp;amp;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;done&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#for latency&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;numactl -N 0 -m 0 qperf -lp 4001 -t 60 -oo msg_size:64:1024K:*4 &lt;span class=&quot;variable&quot;&gt;$ip2&lt;/span&gt; tcp_lat&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;xl710-performance-tuning&quot;&gt;&lt;a href=&quot;#xl710-performance-tuning&quot; class=&quot;headerlink&quot; title=&quot;xl710 performance tuning&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.intel.com/content/dam/www/public/us/en/documents/reference-guides/xl710-x710-performance-tuning-linux-guide.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;xl710 performance tuning&lt;/a&gt;&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#Intel recommends that IOMMU be in pass-through mode for optimal host network performance&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;iommu=pt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#update driver&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;modinfo i40e&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;filename:       /lib/modules/4.14.38/updates/drivers/net/ethernet/intel/i40e/i40e.ko&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;version:        2.4.6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#Note: The TCP_RR test in netperf returns latency in a value of transactions/sec. This is a round-trip&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;number. The one-way latency can be calculated using the following equation:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Latency(usec) = (½) / [Transactions/sec] * 1,000,000&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;IRQ-Affinity&quot;&gt;&lt;a href=&quot;#IRQ-Affinity&quot; class=&quot;headerlink&quot; title=&quot;IRQ Affinity&quot;&gt;&lt;/a&gt;IRQ Affinity&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;systemctl &lt;span class=&quot;built_in&quot;&gt;disable&lt;/span&gt; irqbalance&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;systemctl stop irqbalance&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#intel&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;_irq_affinity -x all ethX&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;_irq_affinity -x &lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt; ethX&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;_irq_affinity 1-2 ethX&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#mellanox&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;_irq_affinity_bynode.sh 0 p7p1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; /sys/class/net/p5p2/device/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cat numa_node&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;lscpu&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NUMA node0 CPU(s):     0,2,4,6,8,10,12,14,16,18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NUMA node1 CPU(s):     1,3,5,7,9,11,13,15,17,19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#manual&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cat /proc/interrupts | grep p5p1 | awk &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;print $1&amp;#125;&#39;&lt;/span&gt; &amp;gt; /tmp/tmp1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sed -i &lt;span class=&quot;string&quot;&gt;&#39;s/\://g&#39;&lt;/span&gt; /tmp/tmp1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  awk &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;if(NR%8==1) print $1&amp;#125;&#39;&lt;/span&gt; /tmp/tmp1 | &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt; line&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 1 &amp;gt; /proc/irq/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;line&amp;#125;&lt;/span&gt;/smp_affinity&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;done&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  awk &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;if(NR%8==2) print $1&amp;#125;&#39;&lt;/span&gt; /tmp/tmp1 | &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt; line&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 4 &amp;gt; /proc/irq/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;line&amp;#125;&lt;/span&gt;/smp_affinity&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;done&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  awk &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;if(NR%8==3) print $1&amp;#125;&#39;&lt;/span&gt; /tmp/tmp1 | &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt; line&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 10 &amp;gt; /proc/irq/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;line&amp;#125;&lt;/span&gt;/smp_affinity&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;done&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  awk &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;if(NR%8==4) print $1&amp;#125;&#39;&lt;/span&gt; /tmp/tmp1 | &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt; line&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 40 &amp;gt; /proc/irq/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;line&amp;#125;&lt;/span&gt;/smp_affinity&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;done&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ......&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#https://access.redhat.com/solutions/2144921&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CPU      0   1    2    3    4    5    6    7    8    9    10   11    12 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bin    0001 0010 0100 1000 10000 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Decimal  1   2    4    8   16   32   64  128  256  512  1024 2048  4096&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Hex      1   2    4    8   10   20   40   80  100  200   400  800  1000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;printf&lt;/span&gt; %0.2x&lt;span class=&quot;string&quot;&gt;&#39;\n&#39;&lt;/span&gt; 1024&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;400&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Interrupt-Moderation&quot;&gt;&lt;a href=&quot;#Interrupt-Moderation&quot; class=&quot;headerlink&quot; title=&quot;Interrupt Moderation&quot;&gt;&lt;/a&gt;Interrupt Moderation&lt;/h4&gt;&lt;p&gt;The range of 0-235 microseconds provides an effective range of 4,310 to 250,000 interrupts per second. The value of rx-µsecs-high can be set independent of rx-µsecs and tx-µsecs in the same ethtool command, and is also independent of the adaptive interrupt moderation algorithm. The&lt;br&gt;underlying hardware supports granularity in 2-microsecond intervals, so adjacent values might result in the same interrupt rate.&lt;br&gt;To turn off adaptive interrupt moderation&lt;br&gt;ethtool -C ethX adaptive-rx off adaptive-tx off&lt;br&gt; To turn on adaptive interrupt moderation&lt;br&gt;ethtool -C ethX adaptive-rx on adaptive-tx on &lt;/p&gt;
&lt;p&gt;A good place to start for general tuning is 84 µs, or ~12000 interrupts/s. If you see rx_dropped&lt;br&gt;counters are running during traffic (using ethtool -S ethX) then you probably have too slow of a CPU,&lt;br&gt;not enough buffers from the adapter’s ring size (ethtool -G) to hold packets for 84 µs or to low of an&lt;br&gt;interrupt rate.&lt;br&gt;ethtool -C ethX adaptive-rx off adaptive-tx off rx-usecs 84 tx-usecs 84&lt;/p&gt;
&lt;p&gt;The next value to try, if you are not maxed out on CPU utilization, is 62 µs. This uses more CPU, but it&lt;br&gt;services buffers faster, and requires fewer descriptors (ring size, ethtool -G).&lt;br&gt;ethtool -C ethX adaptive-rx off adaptive-tx off rx-usecs 62 tx-usecs 62&lt;/p&gt;
&lt;p&gt;If your CPU is at 100%, then increasing the interrupt rate is not advised. In certain circumstances such&lt;br&gt;as a CPU bound workload, you might want to increase the µs value to enable more CPU time for other&lt;br&gt;applications.&lt;/p&gt;
&lt;p&gt;If you require low latency performance and/or have plenty of CPU to devote to network processing, you&lt;br&gt;can disable interrupt moderation entirely, which enables the interrupts to fire as fast as possible.&lt;br&gt;ethtool -C ethX adaptive-rx off adaptive-tx off rx-usecs 0 tx-usecs 0&lt;/p&gt;
&lt;p&gt;If cache pressure is suspected (many queues active) reducing buffers from default can help Intel® Data&lt;br&gt;Direct I/O (Intel® DDIO) operate with better efficiently. Intel recommends trying 128 or 256 per queue,&lt;br&gt;being aware that an increase in interrupt rate via ethtool -C might be necessary to avoid an increase in&lt;br&gt;rx_dropped.&lt;br&gt;ethtool -G eth12 rx 256 tx 256 &lt;/p&gt;
&lt;p&gt;Change the Tx and Rx ring sizes as needed, a larger value takes more resources but can provide better forwarding rates:&lt;br&gt;ethtool -G ethX rx 4096 tx 4096&lt;/p&gt;
&lt;p&gt;Layer 2 flow control can impact TCP performance considerably and is recommended to be disabled for most workloads&lt;br&gt;ethtool -A ethX rx off tx off&lt;/p&gt;
&lt;h4 id=&quot;Kernel-parameter&quot;&gt;&lt;a href=&quot;#Kernel-parameter&quot; class=&quot;headerlink&quot; title=&quot;Kernel parameter&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://download.01.org/packet-processing/ONPS2.1/Intel_ONP_Release_2.1_Performance_Test_Report_Rev1.0.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Kernel parameter&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;default_hugepagesz=1G hugepagesz=1G hugepages=16 hugepagesz=2M hugepages=2048 intel_iommu=off isolcpus=1-7 idle=poll pcie_aspm=off&lt;br&gt;pcie_aspm=off (pcie power managment)&lt;/p&gt;
&lt;h4 id=&quot;sysctl-conf&quot;&gt;&lt;a href=&quot;#sysctl-conf&quot; class=&quot;headerlink&quot; title=&quot;sysctl.conf&quot;&gt;&lt;/a&gt;sysctl.conf&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;net.core.netdev_max_backlog = 300000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_sack = 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.core.netdev_budget=600&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_timestamps=1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_low_latency=1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# allow auto-tuning up to 128MB buffers&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_rmem = 4096 87380 134217728&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_wmem = 4096 65536 134217728&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;### 256M&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.core.rmem_max = 268435456&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.core.wmem_max = 268435456&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.core.somaxconn=16384&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_tw_reuse=1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_adv_win_scale=1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_window_scaling = 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_mtu_probing=1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.core.rmem_max=16777216&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#net.core.default_qdisc = pfifo_fast&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_congestion_control=cubic&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# net.ipv4.tcp_frto=1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# works best with &amp;lt;= 500 client computers ##&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.neigh.default.gc_interval = 3600&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.neigh.default.gc_stale_time = 3600&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.neigh.default.gc_thresh3 = 8192&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.neigh.default.gc_thresh2 = 4096&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.neigh.default.gc_thresh1 = 2048&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# don&#39;t cache ssthresh from previous connection&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_no_metrics_save = 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_mtu_probing=1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Mellanox-25GbE-tiny-packages-test&quot;&gt;&lt;a href=&quot;#Mellanox-25GbE-tiny-packages-test&quot; class=&quot;headerlink&quot; title=&quot;Mellanox 25GbE tiny packages test&quot;&gt;&lt;/a&gt;Mellanox 25GbE tiny packages test&lt;/h4&gt;&lt;p&gt;4.14.38 defaults driver in mellanox&lt;br&gt;Intel update to 2.4.6 driver&lt;br&gt;enable irqbalance, big performance gap compare with intel and mellanox&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;118&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;119&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;120&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;121&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;122&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;123&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;124&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;125&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;126&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;127&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;128&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;129&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;130&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;131&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;132&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;133&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;134&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;135&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;136&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;137&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;138&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;139&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;140&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;141&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;142&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;143&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;144&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;145&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;146&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;147&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;148&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;149&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;150&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;151&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;152&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;153&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;154&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;155&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;156&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;157&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;158&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;159&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;160&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;161&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;162&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;163&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;164&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;165&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;166&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;167&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;168&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;169&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;170&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;171&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;172&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;173&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;174&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;175&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;176&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;177&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;178&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;179&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;180&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;181&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;182&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;183&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;184&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;185&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;186&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;187&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;188&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;189&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;190&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;191&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;192&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;193&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;194&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;196&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;197&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;198&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;199&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;200&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;201&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;202&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;203&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;204&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;205&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;206&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;207&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;208&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;209&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;210&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;211&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;212&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;213&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;214&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;215&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;216&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;217&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;218&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;219&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Found the single port limit, the max is iperf3 and qperf&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# tune mtu to 100 to test tiny packages&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p2      0.00      0.03      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p1      0.00      0.03      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em4      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em2     23.60      2.21      1.66      1.79      0.00      0.00      1.03      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond1     27.62     22.70      2.04      6.58      0.00      0.00      2.07      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p1      0.00      0.03      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em1      4.02     20.48      0.39      4.79      0.00      0.00      1.03      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond0      0.00      0.06      0.00      0.01      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond3 13628292.96 13155007.58 1516361.42 1463669.72      0.00      0.00      0.00     49.69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p2 13628292.96 13155007.55 1516361.42 1463669.71      0.00      0.00      0.00     49.69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.03      0.03      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00     87.99      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#iperf3 qperf hping3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em1      9.78      8.30      0.79      3.27      0.00      0.00      1.05      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em4      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p2 10573306.56 9479324.80 1145456.45 1031709.27      0.00      0.00      0.00     37.53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em2      5.64      0.05      0.42      0.01      0.00      0.00      1.03      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p1      0.00      0.05      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond1     15.42      8.34      1.21      3.27      0.00      0.00      2.08      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p2      0.00      0.03      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond0      0.00      0.08      0.00      0.01      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p1      0.00      0.03      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond3 10573306.56 9479324.83 1145456.45 1031709.27      0.00      0.00      0.00     37.53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00     17.28      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ethtool -i p5p2 (default driver)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;driver: mlx5_core&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;version: 5.0-0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;firmware-version: 14.22.1002 (MT_2420110034)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bus-info: 0000:05:00.1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-statistics: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-test: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-eeprom-access: no&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-register-dump: no&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-priv-flags: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ethtool &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; p5p2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Channel parameters &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; p5p2:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Pre-set maximums:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Other:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Combined:	20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Current hardware settings:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Other:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Combined:	20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;05:00.0 Ethernet controller: Mellanox Technologies MT27710 Family [ConnectX-4 Lx]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;05:00.1 Ethernet controller: Mellanox Technologies MT27710 Family [ConnectX-4 Lx]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ethtool -g p5p2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ring parameters &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; p5p2:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Pre-set maximums:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		8192&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Mini:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Jumbo:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		8192&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Current hardware settings:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		8192&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Mini:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Jumbo:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		8192&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;### intel XXV710 just only&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p2 638985.97 561219.31  47179.49  35996.44      0.00      0.00      0.97      1.55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p1      0.96      0.96      0.12      0.12      0.00      0.00      0.96      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em4      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em2      5.75      0.03      0.43      0.00      0.00      0.00      1.03      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond1     16.02      9.07      1.25      3.15      0.00      0.00      2.07      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p1 1274325.00 1500723.53 117041.60 140325.32      0.00      0.00      0.97      4.60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em1     10.27      9.03      0.82      3.14      0.00      0.00      1.03      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond0 1913311.11 2061943.42 164221.10 176321.80      0.00      0.00      1.93      2.89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond3      1.93      1.92      0.23      0.23      0.00      0.00      0.96      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p2      0.96      0.96      0.12      0.12      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00    376.04      0.00 551105.10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;########after install new driver, just iperf3 and qperf ,no hping3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; you want get the value, you must turn down the combined number, If you use default value(40), you will get the bad performance&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em1      7.27      6.33      0.62      2.83      0.00      0.00      1.04      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em4      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p2      0.96      0.96      0.12      0.12      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em2      5.62      0.05      0.42      0.01      0.00      0.00      1.04      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p1 1329967.15 5047114.53 144536.02 560435.29      0.00      0.00      0.96     18.36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond1     12.90      6.38      1.04      2.83      0.00      0.00      2.08      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p2 9065347.53 5169871.40 1005450.11 570174.50      0.00      0.00      0.96     32.95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond0 10395315.01 10216986.82 1149986.17 1130609.90      0.00      0.00      1.93     18.84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p1      0.95      0.96      0.12      0.12      0.00      0.00      0.95      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond3      1.91      1.93      0.23      0.23      0.00      0.00      0.95      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00   1397.61      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ iperf3 qperf hping3 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em1      4.00      2.02      0.39      1.30      0.00      0.00      1.03      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em4      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p2      0.97      0.95      0.12      0.12      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em2     12.80      7.00      0.91      1.72      0.00      0.00      1.03      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p1 1199952.10 3400065.27 117937.47 367595.79      0.00      0.00      0.97     12.05&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond1     16.80      9.03      1.30      3.02      0.00      0.00      2.05      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p2 5612070.10 3728111.02 609006.93 402145.77      0.00      0.00      0.97     19.96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond0 6812021.83 7128179.62 726944.35 769741.92      0.00      0.00      1.95     12.61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p1      0.97      0.95      0.12      0.12      0.00      0.00      0.97      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond3      1.95      1.90      0.24      0.23      0.00      0.00      0.97      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00   1607.30      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;################ Intel 82599ES, iperf3 qperf hping3, stop irqbalace pin CPU&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ modinfo ixgbe&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;filename:       /lib/modules/4.14.38/updates/drivers/net/ethernet/intel/ixgbe/ixgbe.ko&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;version:        5.3.4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em4      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond2 5278807.03 5078328.86 1457147.96 1384356.92      0.00      0.00      1.93     59.68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em2      3.94      7.43      0.38      2.39      0.00      0.00      1.03      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p2 2232922.19 2348985.92 605712.92 635339.92      0.00      0.00      0.97     52.05&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em1     13.35      2.40      0.96      1.36      0.00      0.00      1.04      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond1     17.29      9.83      1.34      3.75      0.00      0.00      2.08      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p1 3045885.03 2729341.71 851435.07 749016.58      0.00      0.00      0.97     69.75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00  11207.90      0.00 584046.17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;### throughput test&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em1      3.74     11.08      0.37      3.76      0.00      0.00      1.03      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em4      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond2 341967.08 334926.50 2433153.42 2433317.47      0.00      0.00      1.92     99.67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em2     13.90      0.04      0.99      0.00      0.00      0.00      1.04      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p1      0.96      0.96      0.12      0.12      0.00      0.00      0.96      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p2 168791.45 166256.97 1216628.27 1216686.42      0.00      0.00      0.96     99.67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond1     17.64     11.12      1.36      3.76      0.00      0.00      2.07      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p2      0.96      0.97      0.12      0.12      0.00      0.00      0.96      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond0      1.92      1.93      0.23      0.23      0.00      0.00      1.92      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p1 173175.65 168669.40 1216525.38 1216629.82      0.00      0.00      0.96     99.67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00      0.19      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ethtool -g p6p2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ring parameters &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; p6p2:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Pre-set maximums:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		4096&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Mini:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Jumbo:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		4096&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Current hardware settings:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		4096&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Mini:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Jumbo:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		4096&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ethtool &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; p6p2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Channel parameters &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; p6p2:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Pre-set maximums:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Other:		1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Combined:	63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Current hardware settings:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Other:		1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Combined:	20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;BCM-57800&quot;&gt;&lt;a href=&quot;#BCM-57800&quot; class=&quot;headerlink&quot; title=&quot;BCM 57800&quot;&gt;&lt;/a&gt;BCM 57800&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em1 182980.91 182988.55 1213462.71 1213462.48      0.00      0.00      1.03     99.41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em4      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p2      0.96      0.96      0.12      0.12      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em2 182758.29 183705.45 1218153.80 1218129.53      0.00      0.00      1.04     99.79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p1      0.00      0.03      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond1 365739.21 366694.01 2431616.51 2431592.01      0.00      0.00      2.07     99.60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p2      0.00      0.03      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond0      0.00      0.06      0.00      0.01      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p1      0.96      0.96      0.12      0.12      0.00      0.00      0.96      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond3      1.92      1.92      0.23      0.23      0.00      0.00      0.97      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ethtool -i em1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;driver: bnx2x&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;version: 1.712.30-0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;firmware-version: FFV08.07.25 bc 7.13.54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bus-info: 0000:01:00.0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-statistics: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-test: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-eeprom-access: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-register-dump: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-priv-flags: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## only qperf and iperf3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em2 2676250.24 2597239.00 307173.34 297470.77      0.00      0.00      0.29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          br1      1.93      1.71      0.10      0.73      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:    virbr0-nic      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em4      2.05      2.22      0.15      0.75      0.00      0.00      0.09&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          br0      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em3     69.98      0.02      4.55      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em1      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond0      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:       virbr0      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00  12911.67      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## add hping3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em2 2715150.78 2625172.99 287147.79 282500.43      0.00      0.00      0.12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          br1      2.10      1.91      0.12      0.78      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:    virbr0-nic      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em4      2.16      2.42      0.16      0.82      0.00      0.00      0.09&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          br0      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em3    180.35      0.00     11.44      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em1      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond0      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:       virbr0      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00  11950.33      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ethtool &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; em2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Channel parameters &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; em2:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Pre-set maximums:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Other:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Combined:	30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Current hardware settings:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Other:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Combined:	8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ethtool -g em2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ring parameters &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; em2:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Pre-set maximums:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		4078&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Mini:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Jumbo:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		4078&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Current hardware settings:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		4078&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Mini:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Jumbo:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		4078&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;X710-SR-IOV&quot;&gt;&lt;a href=&quot;#X710-SR-IOV&quot; class=&quot;headerlink&quot; title=&quot;X710 SR-IOV&quot;&gt;&lt;/a&gt;X710 SR-IOV&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         ens7 168087.45 167244.92 1214711.75 1214295.86      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00      9.12      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## iperf3 qperf hping3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         ens7 3015053.84 1545695.74 319456.91 130030.16      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00    120.18      0.00 708870.92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## After upgrade phsical server driver to 2.4.6, update kvm driver to 3.5.6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.17      0.17      0.01      0.01      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         ens7 172220.74 186424.69 1217742.67 1217184.37      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00      3.78      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.39      0.39      0.03      0.03      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         ens7 1751916.51 2013807.13 190037.14 1107649.57      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00   2977.47      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;### iperf3 qperf hping3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         ens7 2140348.58 2171369.66 212219.60 884656.60      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00    541.36      0.00 621835.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp_lat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    latency  =  17.7 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp_lat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    latency  =  17.9 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp_lat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    latency  =  28.2 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp_lat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    latency  =  32.5 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp_lat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    latency  =  113 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp_lat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    latency  =  104 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp_lat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    latency  =  258 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp_lat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    latency  =  899 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ethtool -i ens7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;driver: i40evf&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;version: 1.6.27-k&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;firmware-version: N/A&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;expansion-rom-version:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bus-info: 0000:00:07.0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-statistics: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-test: no&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-eeprom-access: no&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-register-dump: no&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-priv-flags: no&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$  modinfo i40evf&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;filename:       /lib/modules/3.10.0-693.21.1.el7.x86_64/updates/drivers/net/ethernet/intel/i40evf/i40evf.ko&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;version:        3.5.6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ethtool &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; ens7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Channel parameters &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; ens7:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Pre-set maximums:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Other:		1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Combined:	4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Current hardware settings:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Other:		1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Combined:	4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ethtool -g ens7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ring parameters &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; ens7:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Pre-set maximums:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		4096&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Mini:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Jumbo:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		4096&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Current hardware settings:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		4096&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Mini:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Jumbo:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		4096&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;CentOS-6-9-4-3-driver&quot;&gt;&lt;a href=&quot;#CentOS-6-9-4-3-driver&quot; class=&quot;headerlink&quot; title=&quot;CentOS 6.9 + 4.3 driver&quot;&gt;&lt;/a&gt;CentOS 6.9 + 4.3 driver&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;118&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;119&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;120&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;121&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;122&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;123&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;124&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;125&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;126&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;127&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;128&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;129&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;130&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;131&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;132&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;133&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;134&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;135&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;136&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;137&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;138&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;139&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;140&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;141&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;142&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;143&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em1      4.26      0.60      0.41      0.82      0.00      0.00      1.04      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em2      5.62      1.71      0.42      1.20      0.00      0.00      1.04      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em4      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p1 354717.85 211784.20 2944052.78 1132173.42      0.00      0.00      1.00     96.47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p2 319011.85 188263.78 2707971.59 706496.72      0.00      0.00      0.00     88.73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond1      9.88      2.30      0.83      2.02      0.00      0.00      2.07      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond3 673729.71 400047.98 5652024.37 1838670.15      0.00      0.00      1.00     92.60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00    662.10      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;filename:       /lib/modules/2.6.32-696.23.1.el6.x86_64/weak-updates/mlnx-ofa_kernel/drivers/net/ethernet/mellanox/mlx4/mlx4_core.ko&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;version:        4.3-1.0.1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[root@&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-151 ~]&lt;span class=&quot;comment&quot;&gt;# ethtool -i p7p1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;driver: mlx5_core&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;version: 4.3-1.0.1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;firmware-version: 14.22.1002 (MT_2420110034)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bus-info: 0000:04:00.0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-statistics: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-test: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-eeprom-access: no&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-register-dump: no&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;supports-priv-flags: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[root@&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;-151 ~]&lt;span class=&quot;comment&quot;&gt;# ethtool -g p7p1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ring parameters &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; p7p1:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Pre-set maximums:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		8192&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Mini:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Jumbo:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		8192&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Current hardware settings:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX:		8192&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Mini:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RX Jumbo:	0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TX:		8192&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;_irq_affinity_bynode.sh 0 p7p1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Discovered irqs &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; p7p1: 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-------------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Optimizing IRQs &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; Single port traffic&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-------------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 156 core_id 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 157 core_id 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 158 core_id 4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 159 core_id 6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 160 core_id 8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 161 core_id 10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 162 core_id 12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 163 core_id 14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 164 core_id 16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 165 core_id 18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 166 core_id 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 167 core_id 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 168 core_id 4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 169 core_id 6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 170 core_id 8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 171 core_id 10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 172 core_id 12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 173 core_id 14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 174 core_id 16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Assign irq 175 core_id 18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;done.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;### after setting in the pair node&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p1 496665.72 481303.14 2969345.74 3023342.07      0.00      0.00      1.00     99.07&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p7p2 444718.82 438366.07 2880823.02 2936725.32      0.00      0.00      0.00     96.23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em1      7.95      1.64      0.59      1.29      0.00      0.00      1.05      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em2      2.01      0.62      0.25      0.77      0.00      0.00      1.05      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em4      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond1      9.97      2.26      0.84      2.06      0.00      0.00      2.09      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond3 941384.53 919669.20 5850168.76 5960067.39      0.00      0.00      1.00     97.65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00   2328.18      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp_lat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    latency  =  8.66 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp_lat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    latency  =  8.86 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp_lat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    latency  =  9.5 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp_lat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    latency  =  38 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp_lat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    latency  =  44.5 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp_lat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    latency  =  65 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp_lat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    latency  =  139 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp_lat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    latency  =  495 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#small packets iperf3 and qperf&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em1      4.58      0.03      0.42      0.00      0.00      0.00      1.03      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em2      5.67      3.38      0.42      2.27      0.00      0.00      1.03      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em4      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p1 7518461.59 7850847.67 835373.70 872644.45      0.00      0.00      0.00     28.59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p2      0.00      0.05      0.00      0.01      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond1     10.24      3.41      0.85      2.28      0.00      0.00      2.06      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond3 7518461.59 7850847.71 835373.70 872644.46      0.00      0.00      0.00     28.59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00  11621.17      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;### add hping3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p6p2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em1      4.36      0.04      0.41      0.01      0.00      0.00      1.03      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em2      5.65      3.43      0.42      2.06      0.00      0.00      1.03      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:          em4      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p1 5198911.69 5316793.59 539917.26 563106.96      0.00      0.00      0.00     18.45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         p5p2      0.00      0.04      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond1     10.01      3.47      0.84      2.06      0.00      0.00      2.05      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:        bond3 5198911.69 5316793.64 539917.26 563106.97      0.00      0.00      0.00     18.45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:     atmptf/s  estres/s retrans/s isegerr/s   orsts/s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Average:         0.00      0.00   4694.92      0.00      0.00&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;Test-server&quot;&gt;&lt;a href=&quot;#Test-server&quot; class=&quot;headerlink&quot; title=&quot;Test server&quot;&gt;&lt;/a&gt;Test server&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table
    
    </summary>
    
      <category term="network" scheme="http://yoursite.com/categories/network/"/>
    
    
      <category term="nic" scheme="http://yoursite.com/tags/nic/"/>
    
      <category term="ethtool" scheme="http://yoursite.com/tags/ethtool/"/>
    
      <category term="debug" scheme="http://yoursite.com/tags/debug/"/>
    
      <category term="driver" scheme="http://yoursite.com/tags/driver/"/>
    
      <category term="irq" scheme="http://yoursite.com/tags/irq/"/>
    
      <category term="pin" scheme="http://yoursite.com/tags/pin/"/>
    
  </entry>
  
  <entry>
    <title>cpu tips</title>
    <link href="http://yoursite.com/2018/05/27/cpu/"/>
    <id>http://yoursite.com/2018/05/27/cpu/</id>
    <published>2018-05-27T07:35:59.000Z</published>
    <updated>2018-06-21T14:05:38.000Z</updated>
    
    <content type="html">&lt;h4 id=&quot;E3-v6-Turbo-not-work-in-CentOS6&quot;&gt;&lt;a href=&quot;#E3-v6-Turbo-not-work-in-CentOS6&quot; class=&quot;headerlink&quot; title=&quot;E3 v6 Turbo not work in CentOS6&quot;&gt;&lt;/a&gt;E3 v6 Turbo not work in CentOS6&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cpupower frequency-set --governor ondemand/powersave/performance&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CentOS 6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[root@cngb-compute&lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt;9-15 0]&lt;span class=&quot;comment&quot;&gt;# cat /sys/devices/system/cpu/cpu*/cpufreq/cpuinfo_max_freq&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3701000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3701000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3701000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3701000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3701000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3701000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3701000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3701000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[root@cngb-compute&lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt;9-15 0]&lt;span class=&quot;comment&quot;&gt;# cat /sys/devices/system/cpu/cpu*/cpufreq/cpuinfo_cur_freq&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3701000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3701000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3701000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3701000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3701000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3701000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3701000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3701000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CentOS 7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[root@e3-test /sys/devices/cpu/power]&lt;span class=&quot;comment&quot;&gt;# cat /sys/devices/system/cpu/cpu*/cpufreq/cpuinfo_max_freq&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4100000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4100000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4100000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4100000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4100000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4100000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4100000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4100000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[root@e3-test /sys/devices/cpu/power]&lt;span class=&quot;comment&quot;&gt;# cat /sys/devices/system/cpu/cpu*/cpufreq/cpuinfo_cur_freq&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3899859&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3899859&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3899859&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3899859&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3899859&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3899859&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3899859&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3899859&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;check-driver&quot;&gt;&lt;a href=&quot;#check-driver&quot; class=&quot;headerlink&quot; title=&quot;check driver&quot;&gt;&lt;/a&gt;check driver&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cpupower frequency-info&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;analyzing CPU 0:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  driver: acpi-cpufreq&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  CPUs &lt;span class=&quot;built_in&quot;&gt;which&lt;/span&gt; run at the same hardware frequency: 0 1 2 3 4 5 6 7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  CPUs &lt;span class=&quot;built_in&quot;&gt;which&lt;/span&gt; need to have their frequency coordinated by software: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  maximum transition latency: 10.0 us&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  hardware limits: 800 MHz - 3.70 GHz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  available frequency steps:  3.70 GHz, 3.70 GHz, 3.50 GHz, 3.30 GHz, 3.10 GHz, 2.90 GHz, 2.70 GHz, 2.50 GHz, 2.20 GHz, 2.00 GHz, 1.80 GHz, 1.60 GHz, 1.40 GHz, 1.20 GHz, 1000 MHz, 800 MHz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  available cpufreq governors: ondemand userspace performance&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  current policy: frequency should be within 800 MHz and 3.70 GHz.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  The governor &lt;span class=&quot;string&quot;&gt;&quot;ondemand&quot;&lt;/span&gt; may decide &lt;span class=&quot;built_in&quot;&gt;which&lt;/span&gt; speed to use&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  within this range.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  current CPU frequency: 800 MHz (asserted by call to hardware)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  boost state support:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Supported: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Active: yes&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;It ‘s looks like it cound not work in 3.9GHz or 4.1GHz&lt;br&gt;Replace driver to intel_pstate&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;modprobe -r acpi_cpufreq&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;modprobe intel_pstate&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;install acpi_cpufreq /sbin/modprobe intel_pstate&#39;&lt;/span&gt; &amp;gt;/etc/modprobe.d/cpu.conf&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dracut &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; --add-drivers intel_pstate&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cpupower frequency-info&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;analyzing CPU 0:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  driver: intel_pstate&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  CPUs &lt;span class=&quot;built_in&quot;&gt;which&lt;/span&gt; run at the same hardware frequency: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  CPUs &lt;span class=&quot;built_in&quot;&gt;which&lt;/span&gt; need to have their frequency coordinated by software: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  maximum transition latency:  Cannot determine or is not supported.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  hardware limits: 800 MHz - 4.10 GHz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  available cpufreq governors: performance powersave&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  current policy: frequency should be within 800 MHz and 4.10 GHz.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  The governor &lt;span class=&quot;string&quot;&gt;&quot;powersave&quot;&lt;/span&gt; may decide &lt;span class=&quot;built_in&quot;&gt;which&lt;/span&gt; speed to use&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  within this range.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  current CPU frequency: 4.00 GHz (asserted by call to hardware)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  boost state support:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Supported: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Active: yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cat /sys/devices/system/cpu/cpu*/cpufreq/cpuinfo_cur_freq&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3899453&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3899453&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3899453&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3899453&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3899453&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3899453&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3899453&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3899453&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[root@cngb-compute&lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt;9-15 cpu]&lt;span class=&quot;comment&quot;&gt;# cat /sys/devices/system/cpu/cpu*/cpufreq/cpuinfo_max_freq&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4100000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4100000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4100000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4100000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4100000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4100000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4100000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4100000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#The intel_pstate driver was added later during RHEL6 life cycle and is available in our kernel since RHEL6.5, but Red Hat decided to keep acpi_cpufreq as default to prevent any potential compatibility issues.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;When-I-run-pigz-to-benmark&quot;&gt;&lt;a href=&quot;#When-I-run-pigz-to-benmark&quot; class=&quot;headerlink&quot; title=&quot;When I run pigz to benmark&quot;&gt;&lt;/a&gt;When I run pigz to benmark&lt;/h4&gt;&lt;p&gt;Enable Turbo, acpi-cpufreq(show 3.7GHz) and intel_pstate(3.89GHz) has the same performance (608s finish the benchmark), I can ‘t believe. I test opnessl, Intel® Math Kernel Library , all test result is same. that means in CentOS 6.9 with acpi-cpufreq, just show 3.7GHz, the cpu work in 3.9GHz&lt;br&gt;Disable Turbo in BIOS, acpi-cpufreq(show 3.7GHz) and intel_pstate(3.7GHz) has the same performance too (640s finish the benchmark)&lt;br&gt;About 5% raise, same with cpu frequency distance&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;E3-v6-Turbo-not-work-in-CentOS6&quot;&gt;&lt;a href=&quot;#E3-v6-Turbo-not-work-in-CentOS6&quot; class=&quot;headerlink&quot; title=&quot;E3 v6 Turbo not work in CentOS
    
    </summary>
    
      <category term="Linux configuration" scheme="http://yoursite.com/categories/Linux-configuration/"/>
    
    
      <category term="cpu" scheme="http://yoursite.com/tags/cpu/"/>
    
      <category term="driver" scheme="http://yoursite.com/tags/driver/"/>
    
  </entry>
  
  <entry>
    <title>vnc server in centos 7</title>
    <link href="http://yoursite.com/2018/05/27/vnc/"/>
    <id>http://yoursite.com/2018/05/27/vnc/</id>
    <published>2018-05-27T07:35:59.000Z</published>
    <updated>2018-06-22T07:22:41.000Z</updated>
    
    <content type="html">&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;yum groupinstall -y &lt;span class=&quot;string&quot;&gt;&quot;GNOME Desktop&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#if there is no another data in this file&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;exec gnome-session&quot;&lt;/span&gt; &amp;gt; ~/.xinitrc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;systemctl is-enabled vncserver@.service&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;systemctl &lt;span class=&quot;built_in&quot;&gt;enable&lt;/span&gt; vncserver@.service&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;systemctl get-default&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;systemctl &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;-default multi-user.target&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cp /lib/systemd/system/vncserver@.service /etc/systemd/system/vncserver@:4.service&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vi /etc/systemd/system/vncserver@:4.service &lt;span class=&quot;comment&quot;&gt;## replace root user to normal user&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ExecStart=/usr/sbin/runuser &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; root -c &lt;span class=&quot;string&quot;&gt;&quot;/usr/bin/vncserver %i&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PIDFile=/root/.vnc/%H%i.pid&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;WantedBy=multi-user.target&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ln &lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;/etc/systemd/system/vncserver@:4.service&#39;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;/etc/systemd/system/multi-user.target.wants/vncserver@:4.service&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;systemctl &lt;span class=&quot;built_in&quot;&gt;enable&lt;/span&gt; vncserver@:4.service&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;systemctl start vncserver@:4.service&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
    
    </summary>
    
      <category term="Linux configuration" scheme="http://yoursite.com/categories/Linux-configuration/"/>
    
    
      <category term="vnc" scheme="http://yoursite.com/tags/vnc/"/>
    
  </entry>
  
  <entry>
    <title>ipmitool</title>
    <link href="http://yoursite.com/2018/05/27/ipmi/"/>
    <id>http://yoursite.com/2018/05/27/ipmi/</id>
    <published>2018-05-27T07:35:59.000Z</published>
    <updated>2018-05-27T08:09:37.000Z</updated>
    
    <content type="html">&lt;h4 id=&quot;set-boot-dev&quot;&gt;&lt;a href=&quot;#set-boot-dev&quot; class=&quot;headerlink&quot; title=&quot;set boot dev&quot;&gt;&lt;/a&gt;set boot dev&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Ipmitool -I lanplus -H x.x.x.x -U USER -P PASSWORD chassis bootdev bios [ pxe | cdrom ]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;debug-info&quot;&gt;&lt;a href=&quot;#debug-info&quot; class=&quot;headerlink&quot; title=&quot;debug info&quot;&gt;&lt;/a&gt;debug info&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ipmitool lan &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool -H &amp;lt;ip&amp;gt; -U &amp;lt;user&amp;gt; shell &lt;span class=&quot;comment&quot;&gt;# get ipmitool shell, type &#39;help&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool -H &amp;lt;ip&amp;gt; -U &amp;lt;user&amp;gt; sel list &lt;span class=&quot;comment&quot;&gt;# Show system event log&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool -H &amp;lt;ip&amp;gt; -U &amp;lt;user&amp;gt; sdr &lt;span class=&quot;comment&quot;&gt;# List sensor data&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool -H &amp;lt;ip&amp;gt; -U &amp;lt;user&amp;gt; sdr elist&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#filter string&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool sdr list &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool sdr &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; list &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool sdr &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; Temperature &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool sdr &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; Fan &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool sdr &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;Power Supply&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;User-and-network&quot;&gt;&lt;a href=&quot;#User-and-network&quot; class=&quot;headerlink&quot; title=&quot;User and network&quot;&gt;&lt;/a&gt;User and network&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ipmitool -I lanplus &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool lan &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; 1 ipsrc [ static | dhcp ] &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool lan &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; 1 ipaddr &amp;lt;ip&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool lan &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; 1 netmask 255.255.255.0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool -I lanplus -H &amp;lt;ip&amp;gt; -U &amp;lt;user&amp;gt; -P &amp;lt;user&amp;gt; lan &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; 1 defgw ipaddr &amp;lt;ip&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool -H &amp;lt;ip&amp;gt; -U &amp;lt;user&amp;gt; -P &amp;lt;pass&amp;gt; user &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; name 5 admin&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool -H &amp;lt;ip&amp;gt; -U &amp;lt;user&amp;gt; -P &amp;lt;pass&amp;gt; user list&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool -H &amp;lt;ip&amp;gt; -U &amp;lt;user&amp;gt; -P &amp;lt;pass&amp;gt; user &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; password 5 &amp;lt;pass&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool -H &amp;lt;ip&amp;gt; -U &amp;lt;user&amp;gt; -P &amp;lt;pass&amp;gt; channel setaccess 1 5 link=on ipmi=on callin=on privilege=4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool -H &amp;lt;ip&amp;gt; -U &amp;lt;user&amp;gt; -P &amp;lt;pass&amp;gt; user &lt;span class=&quot;built_in&quot;&gt;enable&lt;/span&gt; 5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Get-NIC-mac-from-supermicro-server&quot;&gt;&lt;a href=&quot;#Get-NIC-mac-from-supermicro-server&quot; class=&quot;headerlink&quot; title=&quot;Get NIC mac from supermicro server&quot;&gt;&lt;/a&gt;Get NIC mac from supermicro server&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;You can find the MAC address &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; LAN1/eth0 (not the BMC MAC) via the SuperMicro IPMI interface by running the following &lt;span class=&quot;built_in&quot;&gt;command&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool -U &lt;span class=&quot;variable&quot;&gt;$IPMI_USER&lt;/span&gt; -P &lt;span class=&quot;variable&quot;&gt;$IPMI_PASS&lt;/span&gt; -H &lt;span class=&quot;variable&quot;&gt;$IPMI_HOST&lt;/span&gt; raw 0x30 0x21 | tail -c 18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;The eth0 MAC address will be output &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; this format:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;00 25 90 f0 be ef&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;``` &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#### reset mc&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;```bash&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool bmc reset cold&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;get-SOL-console&quot;&gt;&lt;a href=&quot;#get-SOL-console&quot; class=&quot;headerlink&quot; title=&quot;get SOL console&quot;&gt;&lt;/a&gt;get SOL console&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;modprobe lanplus &lt;span class=&quot;comment&quot;&gt;# If not yet loaded&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ipmitool -H &amp;lt;IP&amp;gt; -U &amp;lt;user&amp;gt; -I lanplus sol activate&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;a href=&quot;https://discuss.pivotal.io/hc/en-us/articles/206396927-How-to-work-on-IPMI-and-IPMITOOL&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;reference&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;set-boot-dev&quot;&gt;&lt;a href=&quot;#set-boot-dev&quot; class=&quot;headerlink&quot; title=&quot;set boot dev&quot;&gt;&lt;/a&gt;set boot dev&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;t
    
    </summary>
    
      <category term="Linux configuration" scheme="http://yoursite.com/categories/Linux-configuration/"/>
    
    
      <category term="ipmi" scheme="http://yoursite.com/tags/ipmi/"/>
    
  </entry>
  
  <entry>
    <title>enable SRIOV in centos7</title>
    <link href="http://yoursite.com/2018/05/10/sriov_in_intel_ethernet/"/>
    <id>http://yoursite.com/2018/05/10/sriov_in_intel_ethernet/</id>
    <published>2018-05-10T02:44:34.000Z</published>
    <updated>2018-05-15T05:54:52.000Z</updated>
    
    <content type="html">&lt;h4 id=&quot;Enable-VT-D-and-VT-in-BIOS&quot;&gt;&lt;a href=&quot;#Enable-VT-D-and-VT-in-BIOS&quot; class=&quot;headerlink&quot; title=&quot;Enable VT-D and VT in BIOS&quot;&gt;&lt;/a&gt;Enable VT-D and VT in BIOS&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;grubby --update-kernel=ALL --args=&lt;span class=&quot;string&quot;&gt;&#39;intel_iommu=on&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;sriov-doc&quot;&gt;&lt;a href=&quot;#sriov-doc&quot; class=&quot;headerlink&quot; title=&quot;sriov doc&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.intel.com/content/dam/www/public/us/en/documents/technology-briefs/xl710-sr-iov-config-guide-gbe-linux-brief.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;sriov doc&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;On Linux Kernel version 3.8.x and above, the maximum number of VFs supported by the adapter can be queried by reading the sriov_totalvfs parameter via sysfs interface.&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ cat /sys/class/net/ens5f0/device/sriov_totalvfs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cat /sys/class/net/ens5f0/device/sriov_numvfs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ lspci | grep Virtual&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;03:02.0 Ethernet controller: Intel Corporation XL710/X710 Virtual Function (rev 02)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;03:02.1 Ethernet controller: Intel Corporation XL710/X710 Virtual Function (rev 02)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;03:02.2 Ethernet controller: Intel Corporation XL710/X710 Virtual Function (rev 02)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;03:02.3 Ethernet controller: Intel Corporation XL710/X710 Virtual Function (rev 02)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;03:0a.0 Ethernet controller: Intel Corporation XL710/X710 Virtual Function (rev 02)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;03:0a.1 Ethernet controller: Intel Corporation XL710/X710 Virtual Function (rev 02)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;03:0a.2 Ethernet controller: Intel Corporation XL710/X710 Virtual Function (rev 02)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;03:0a.3 Ethernet controller: Intel Corporation XL710/X710 Virtual Function (rev 02)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 4 &amp;gt; /sys/class/net/ens5f0/device/sriov_numvfs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 4 &amp;gt; /sys/class/net/ens5f1/device/sriov_numvfs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;modprobe -r i40evf&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ip link &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; ens5f0 vf 0 mac 52:54:00:e8:a5:78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ip link &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; ens5f0 vf 1 mac 52:54:00:e8:a5:79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ip link &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; ens5f0 vf 2 mac 52:54:00:e8:a5:80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ip link &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; ens5f0 vf 3 mac 52:54:00:e8:a5:81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ip link &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; ens5f1 vf 0 mac 52:54:00:e8:a5:82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ip link &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; ens5f1 vf 1 mac 52:54:00:e8:a5:83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ip link &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; ens5f1 vf 2 mac 52:54:00:e8:a5:84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ip link &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; ens5f1 vf 3 mac 52:54:00:e8:a5:85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ip link show ens5f0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19: ens5f0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 9000 qdisc mq state UP mode DEFAULT qlen 1000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    link/ether 0c:c4:7a:88:0c:aa brd ff:ff:ff:ff:ff:ff&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vf 0 MAC 52:54:00:e8:a5:78, spoof checking on, link-state auto, trust off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vf 1 MAC 52:54:00:e8:a5:79, spoof checking on, link-state auto, trust off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vf 2 MAC 52:54:00:e8:a5:80, spoof checking on, link-state auto, trust off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vf 3 MAC 52:54:00:e8:a5:81, spoof checking on, link-state auto, trust off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ip link show ens5f1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20: ens5f1: &amp;lt;BROADCAST,MULTICAST&amp;gt; mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    link/ether 0c:c4:7a:88:0c:ab brd ff:ff:ff:ff:ff:ff&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vf 0 MAC 52:54:00:e8:a5:82, spoof checking on, link-state auto, trust off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vf 1 MAC 52:54:00:e8:a5:83, spoof checking on, link-state auto, trust off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vf 2 MAC 52:54:00:e8:a5:84, spoof checking on, link-state auto, trust off&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vf 3 MAC 52:54:00:e8:a5:85, spoof checking on, link-state auto, trust off&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;Enable-VT-D-and-VT-in-BIOS&quot;&gt;&lt;a href=&quot;#Enable-VT-D-and-VT-in-BIOS&quot; class=&quot;headerlink&quot; title=&quot;Enable VT-D and VT in BIOS&quot;&gt;&lt;/a&gt;Enable V
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="ethernet" scheme="http://yoursite.com/tags/ethernet/"/>
    
      <category term="sriov" scheme="http://yoursite.com/tags/sriov/"/>
    
  </entry>
  
  <entry>
    <title>Compile_4.14.38_to_CentOS7</title>
    <link href="http://yoursite.com/2018/05/03/Compile_4.14.38_to_CentOS7/"/>
    <id>http://yoursite.com/2018/05/03/Compile_4.14.38_to_CentOS7/</id>
    <published>2018-05-03T03:12:03.000Z</published>
    <updated>2018-05-03T09:03:18.000Z</updated>
    
    <content type="html">&lt;p&gt;###&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ wget https://sourceware.org/elfutils/ftp/0.170/elfutils-0.170.tar.bz2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ tar xjvf elfutils-0.170.tar.bz2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; ./elfutils-0.170&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ./configire; make -j 8; make install&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; C_INCLUDE_PATH=/sources/kernel/elfutils-0.170/libelf:/sources/lib/el7/mpich-3.2.1/include/:&lt;span class=&quot;variable&quot;&gt;$C_INCLUDE_PATH&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cp -v /boot/config-3.10.0-693.21.1.el7.x86_64 .config&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;make menuconfig&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;make rpm-pkg&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;### enable what your want&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;I-need-Google-BBR&quot;&gt;&lt;a href=&quot;#I-need-Google-BBR&quot; class=&quot;headerlink&quot; title=&quot;I need Google BBR&quot;&gt;&lt;/a&gt;I need Google BBR&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;net.core.default_qdisc=fq&#39;&lt;/span&gt; | sudo tee &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; /etc/sysctl.conf&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;net.ipv4.tcp_congestion_control=bbr&#39;&lt;/span&gt; | sudo tee &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; /etc/sysctl.conf&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo sysctl -p&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ sysctl net.ipv4.tcp_available_congestion_control&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;net.ipv4.tcp_available_congestion_control = cubic bbr reno&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ sysctl -n net.ipv4.tcp_congestion_control&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bbr&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;And-lustre-client&quot;&gt;&lt;a href=&quot;#And-lustre-client&quot; class=&quot;headerlink&quot; title=&quot;And lustre client&quot;&gt;&lt;/a&gt;And lustre client&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ modinfo lustre&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;filename:       /lib/modules/4.14.38/kernel/drivers/staging/lustre/lustre/llite/lustre.ko&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;license:        GPL&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;version:        2.6.99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;description:    Lustre Client File System&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;author:         OpenSFS, Inc. &amp;lt;http://www.lustre.org/&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;alias&lt;/span&gt;:          fs-lustre&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;srcversion:     76867314D4CA935952377A8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;depends:        obdclass,ptlrpc,libcfs,lnet,lmv,mdc,lov&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;staging:        Y&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;retpoline:      Y&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;intree:         Y&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;name:           lustre&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vermagic:       4.14.38 SMP mod_unload modversions&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;###&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;s
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="kernel" scheme="http://yoursite.com/tags/kernel/"/>
    
  </entry>
  
  <entry>
    <title>Ansible</title>
    <link href="http://yoursite.com/2018/04/12/ansible/"/>
    <id>http://yoursite.com/2018/04/12/ansible/</id>
    <published>2018-04-12T07:23:03.000Z</published>
    <updated>2018-04-12T07:24:18.000Z</updated>
    
    <content type="html">&lt;p&gt;###&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ansible-playbook playbook.yml --start-at=&lt;span class=&quot;string&quot;&gt;&quot;install packages&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ansible-playbook playbook.yml --step &lt;span class=&quot;comment&quot;&gt;## every step will ask you&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;###&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="ansible" scheme="http://yoursite.com/tags/ansible/"/>
    
  </entry>
  
  <entry>
    <title>Setting up the IOR for benchmark</title>
    <link href="http://yoursite.com/2018/04/09/Setting-up-the-IOR-for-benchmark/"/>
    <id>http://yoursite.com/2018/04/09/Setting-up-the-IOR-for-benchmark/</id>
    <published>2018-04-09T07:31:43.000Z</published>
    <updated>2018-04-10T09:57:27.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;Install-mpich-in-each-node&quot;&gt;&lt;a href=&quot;#Install-mpich-in-each-node&quot; class=&quot;headerlink&quot; title=&quot;Install mpich in each node&quot;&gt;&lt;/a&gt;Install mpich in each node&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;yum install wget -y&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mkdir src;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; src&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget http://www.mpich.org/static/downloads/3.2.1/mpich-3.2.1.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yum install gcc gcc-c++ gcc-fortran kernel-devel -y &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tar -xvf mpich-3.2.1.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;./configure --prefix=PATH=/mpich-3.2.1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;make &amp;amp;&amp;amp; make install&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;disable-firewall-and-selinux&quot;&gt;&lt;a href=&quot;#disable-firewall-and-selinux&quot; class=&quot;headerlink&quot; title=&quot;disable firewall and selinux&quot;&gt;&lt;/a&gt;disable firewall and selinux&lt;/h4&gt;&lt;h4 id=&quot;Add-env-var&quot;&gt;&lt;a href=&quot;#Add-env-var&quot; class=&quot;headerlink&quot; title=&quot;Add env var&quot;&gt;&lt;/a&gt;Add env var&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; PATH=/mpich-3.2.1/bin:&lt;span class=&quot;variable&quot;&gt;$PATH&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; LD_LIBRARY_PATH=/mpich-3.2.1/lib:&lt;span class=&quot;variable&quot;&gt;$LD_LIBRARY_PATH&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; C_INCLUDE_PATH=/sources/lib/el7/mpich-3.2.1/include/:&lt;span class=&quot;variable&quot;&gt;$C_INCLUDE_PATH&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Add-host-mapping-etc-hosts-for-each-nodes&quot;&gt;&lt;a href=&quot;#Add-host-mapping-etc-hosts-for-each-nodes&quot; class=&quot;headerlink&quot; title=&quot;Add host mapping /etc/hosts for each nodes&quot;&gt;&lt;/a&gt;Add host mapping /etc/hosts for each nodes&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;10.xx.xx.1 server-1 &lt;span class=&quot;comment&quot;&gt;## mpirun ior xxxxx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10.xx.xx.2 server-2 &lt;span class=&quot;comment&quot;&gt;## ior running&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10.xx.xx.3 server-3 &lt;span class=&quot;comment&quot;&gt;## ior running&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10.xx.xx.4 server-4 &lt;span class=&quot;comment&quot;&gt;## ior running&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Create-mpi-hosts-file&quot;&gt;&lt;a href=&quot;#Create-mpi-hosts-file&quot; class=&quot;headerlink&quot; title=&quot;Create mpi_hosts file&quot;&gt;&lt;/a&gt;Create mpi_hosts file&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cat mpi_hosts&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10.xx.xx.2:4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10.xx.xx.3:4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10.xx.xx.4:4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Test&quot;&gt;&lt;a href=&quot;#Test&quot; class=&quot;headerlink&quot; title=&quot;Test&quot;&gt;&lt;/a&gt;Test&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mpirun &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; mpi_hosts -n 8 &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;hello world&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hello world&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hello world&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hello world&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hello world&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hello world&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hello world&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hello world&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hello world&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Install-IOR-in-the-share-dir&quot;&gt;&lt;a href=&quot;#Install-IOR-in-the-share-dir&quot; class=&quot;headerlink&quot; title=&quot;Install IOR in the share dir&quot;&gt;&lt;/a&gt;Install IOR in the share dir&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git &lt;span class=&quot;built_in&quot;&gt;clone&lt;/span&gt; https://github.com/LLNL/ior.git&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; ior&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;module load mpi/openmpi-x86_64 (failed)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;./bootstrap&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;./configure --with-lustre&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;make clean &amp;amp;&amp;amp; make&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;./src/ior&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;IOR-3.0.1: MPI Coordinated Test of Parallel I/O&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Began: Mon Apr  9 04:03:16 2018&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Command line used: src/ior&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Machine: Linux bgi-sz1-homerl-test73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Test 0 started: Mon Apr  9 04:03:16 2018&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Summary:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	api                = POSIX&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt; filename      = &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;File&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	access             = single-shared-file&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	ordering &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; a file = sequential offsets&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	ordering inter file= no tasks offsets&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	clients            = 1 (1 per node)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	repetitions        = 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	xfersize           = 262144 bytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	blocksize          = 1 MiB&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	aggregate filesize = 1 MiB&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;access    bw(MiB/s)  block(KiB) xfer(KiB)  open(s)    wr/rd(s)   close(s)   total(s)   iter&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;------    ---------  ---------- ---------  --------   --------   --------   --------   ----&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;write     1621.30    1024.00    256.00     0.000077   0.000537   0.000003   0.000617   0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt;      4810       1024.00    256.00     0.000003   0.000204   0.000001   0.000208   0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;remove    -          -          -          -          -          -          0.000099   0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Max Write: 1621.30 MiB/sec (1700.06 MB/sec)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Max Read:  4809.98 MiB/sec (5043.63 MB/sec)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Summary of all tests:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Operation   Max(MiB)   M&lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;(MiB)  Mean(MiB)     StdDev    Mean(s) Test&lt;span class=&quot;comment&quot;&gt;# #Tasks tPN reps fPP reord reordoff reordrand seed segcnt blksiz xsize aggsize API RefNum&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;write        1621.30    1621.30    1621.30       0.00    0.00062 0 1 1 1 0 0 1 0 0 1 1048576 262144 1048576 POSIX 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt;         4809.98    4809.98    4809.98       0.00    0.00021 0 1 1 1 0 0 1 0 0 1 1048576 262144 1048576 POSIX 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Finished: Mon Apr  9 04:03:16 2018&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Benchmark&quot;&gt;&lt;a href=&quot;#Benchmark&quot; class=&quot;headerlink&quot; title=&quot;Benchmark&quot;&gt;&lt;/a&gt;Benchmark&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mpirun &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; mpi_hosts  /src/ior -v &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; MPIIO -N 8 -i3 -g -w -W -r &lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt; 5 -b 10g -T 100 -F &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; -C -t 1m -o /lustre/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;File1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;IOR-3.0.1: MPI Coordinated Test of Parallel I/O&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Began: Mon Apr  9 21:31:07 2018&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Command line used: /src/ior -v &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; MPIIO -N 8 -i3 -g -w -W -r &lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt; 5 -b 20g -T 3600 -F &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; -C -t 1m -o /lustre/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;File1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Machine: Linux cngb-rbh-m20-1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Start time skew across all tasks: 32.29 sec&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Test 0 started: Mon Apr  9 21:31:07 2018&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Path: /lustre/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;FS: 972.2 TiB   Used FS: 26.7%   Inodes: 113.9 Mi   Used Inodes: 25.8%&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Participating tasks: 8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Using reorderTasks &lt;span class=&quot;string&quot;&gt;&#39;-C&#39;&lt;/span&gt; (expecting block, not cyclic, task assignment)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Summary:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	api                = MPIIO (version=3, subversion=1)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt; filename      = /lustre/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;File1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	access             = file-per-process, independent&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	pattern            = strided (5 segments)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	ordering &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; a file = sequential offsets&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	ordering inter file= constant task offsets = 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	clients            = 8 (4 per node)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	repetitions        = 3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	xfersize           = 1 MiB&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	blocksize          = 20 GiB&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	aggregate filesize = 800 GiB&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;access    bw(MiB/s)  block(KiB) xfer(KiB)  open(s)    wr/rd(s)   close(s)   total(s)   iter&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;------    ---------  ---------- ---------  --------   --------   --------   --------   ----&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;write     2801.92    20971520   1024.00    0.050119   292.31     0.006433   292.37     0   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Verifying contents of the file(s) just written.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Mon Apr  9 21:36:00 2018&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt;      1410.24    20971520   1024.00    0.020212   580.86     0.037729   580.89     0   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;remove    -          -          -          -          -          -          0.060562   0   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;write     2499.73    20971520   1024.00    0.042546   327.65     0.056297   327.72     1   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Verifying contents of the file(s) just written.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Mon Apr  9 22:01:19 2018&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt;      1290.26    20971520   1024.00    0.049267   634.89     0.065045   634.91     1   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;remove    -          -          -          -          -          -          0.037253   1   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;write     2788.98    20971520   1024.00    0.067497   293.71     0.070010   293.73     2   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Verifying contents of the file(s) just written.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Mon Apr  9 22:27:01 2018&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt;      1455.20    20971520   1024.00    0.096816   562.92     0.087327   562.95     2   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;remove    -          -          -          -          -          -          0.003740   2   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Max Write: 2801.92 MiB/sec (2938.03 MB/sec)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Max Read:  1455.20 MiB/sec (1525.89 MB/sec)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Summary of all tests:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Operation   Max(MiB)   M&lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;(MiB)  Mean(MiB)     StdDev    Mean(s) Test&lt;span class=&quot;comment&quot;&gt;# #Tasks tPN reps fPP reord reordoff reordrand seed segcnt blksiz xsize aggsize API RefNum&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;write        2801.92    2499.73    2696.88     139.50  304.60461 0 8 4 3 1 1 1 0 0 5 21474836480 1048576 858993459200 MPIIO 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt;         1455.20    1290.26    1385.23      69.62  592.91649 0 8 4 3 1 1 1 0 0 5 21474836480 1048576 858993459200 MPIIO 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Finished: Mon Apr  9 22:45:55 2018&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Mdtest&quot;&gt;&lt;a href=&quot;#Mdtest&quot; class=&quot;headerlink&quot; title=&quot;Mdtest&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://www.nersc.gov/users/computational-systems/cori/nersc-8-procurement/trinity-nersc-8-rfp/nersc-8-trinity-benchmarks/mdtest/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Mdtest&lt;/a&gt;&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## 4 servers, 4 slots = 16 tasks&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pes_per_node=4 &lt;span class=&quot;comment&quot;&gt;### equal server number&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## Total 16x1048576 files&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mpirun &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; mpi_hosts  /ior/src/mdtest &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; MPIIO  -n 1048576 -F -C -T -r -N &lt;span class=&quot;variable&quot;&gt;$pes_per_node&lt;/span&gt; &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; /lustre/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## Total 16x1048576 files&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mpirun &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; mpi_hosts  /ior/src/mdtest &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; MPIIO -n 1048576 -F -C -T -r -N &lt;span class=&quot;variable&quot;&gt;$pes_per_node&lt;/span&gt; -u &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; /lustre/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;##N x nodes to 1 file&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mpirun &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; mpi_hosts  /ior/src/mdtest &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; MPIIO –S -C -T -r -n 1 -F &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; /lustre/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-- started at 04/10/2018 17:52:54 --&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mdtest-1.9.3 was launched with 16 total task(s) on 4 node(s)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Command line used: /ior/src/mdtest &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; MPIIO –S -C -T -r -n 1 -F &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; /lustre/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Path: /zfssz2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;FS: 972.2 TiB   Used FS: 27.5%   Inodes: 113.7 Mi   Used Inodes: 26.2%&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16 tasks, 16 files&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SUMMARY: (of 1 iterations)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   Operation                      Max            M&lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;           Mean        Std Dev&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   ---------                      ---            ---           ----        -------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   File creation     :       1174.834       1174.834       1174.834          0.000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   File &lt;span class=&quot;built_in&quot;&gt;stat&lt;/span&gt;         :       1320.703       1320.703       1320.703          0.000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   File &lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt;         :          0.000          0.000          0.000          0.000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   File removal      :       5856.433       5856.433       5856.433          0.000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   Tree creation     :       1607.629       1607.629       1607.629          0.000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   Tree removal      :        754.507        754.507        754.507          0.000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-- finished at 04/10/2018 17:52:54 --&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;issue&quot;&gt;&lt;a href=&quot;#issue&quot; class=&quot;headerlink&quot; title=&quot;issue&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://wiki.lustre.org/IOR&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;issue&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Note: There is currently a bug in some versions of the libfabric library, notably version 1.3.0, that can cause a delay in starting MPI applications. When this occurs the following warning will appear in the command output:&lt;br&gt;hfi_wait_for_device: The /dev/hfi1_0 device failed to appear after 15.0 seconds: Connection timed out&lt;br&gt;This issue affects RHEL and CentOS 7.3, and is resolved in RHEL / CentOS 7.4+ and the upstream project. Details can be found here:&lt;br&gt;&lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1408316&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://bugzilla.redhat.com/show_bug.cgi?id=1408316&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Install-mpich-in-each-node&quot;&gt;&lt;a href=&quot;#Install-mpich-in-each-node&quot; class=&quot;headerlink&quot; title=&quot;Install mpich in each node&quot;&gt;&lt;/a&gt;Install 
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="benchmark" scheme="http://yoursite.com/tags/benchmark/"/>
    
      <category term="MPI" scheme="http://yoursite.com/tags/MPI/"/>
    
  </entry>
  
  <entry>
    <title>Glusterfs and HA</title>
    <link href="http://yoursite.com/2018/04/03/Glusterfs_and_HA/"/>
    <id>http://yoursite.com/2018/04/03/Glusterfs_and_HA/</id>
    <published>2018-04-02T16:41:21.000Z</published>
    <updated>2018-04-03T05:42:41.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;Create-volume-for-test-env&quot;&gt;&lt;a href=&quot;#Create-volume-for-test-env&quot; class=&quot;headerlink&quot; title=&quot;Create volume for test env&quot;&gt;&lt;/a&gt;Create volume for test env&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;gluster volume create &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_vol disperse-data 4 redundancy 2 transport tcp server1:/gluster1/glusterfs server1:/gluster2/glusterfs server2:/var/glusterfs/ server3:/var/glusterfs server4:/tank/glusterfs server5:/tank/glusterfs/ force&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gluster volume start &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_vol&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gluster volume &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_vol features.cache-invalidation on&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;HA&quot;&gt;&lt;a href=&quot;#HA&quot; class=&quot;headerlink&quot; title=&quot;HA&quot;&gt;&lt;/a&gt;HA&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pcs cluster auth 10.xx.xx.10 10.xx.xx.11 -u hacluster&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;systemctl start pcsd&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs cluster setup --name NFS_Server 10.xx.xx.10,192.xx.xx.10 10.xx.xx.11,192.xx.xx.11 --transport udp --rrpmode passive --token 7000 --addr0 10.xx.xx.0 --addr1 192.xx.xx.0 --force&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sed -i &lt;span class=&quot;string&quot;&gt;&#39;s/transport: udp/transport: udpu/g&#39;&lt;/span&gt; /etc/corosync/corosync.conf&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs cluster start 10.xx.xx.10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs cluster start 10.xx.xx.11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs property &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; no-quorum-policy=ignore&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs property &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; stonith-enabled=&lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs resource create virtual_ip1 ocf:heartbeat:IPaddr2 ip=10.xx.xx.10 cidr_netmask=24 op monitor interval=30s --group nfsgroup&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs resource create glusterfs-mount ocf:heartbeat:Filesystem device=10.xx.xx.10:/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_vol directory=/glusterfs fstype=glusterfs --group nfsgroup&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs resource create nfs-daemon ocf:heartbeat:nfsserver nfs_shared_infodir=/glusterfs/nfsinfo nfs_no_notify=&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt; --group nfsgroup&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs resource create nfs-root ocf:heartbeat:exportfs clientspec=10.0.0.0/255.0.0.0 options=rw,no_root_squash directory=/glusterfs fsid=0 --group nfsgroup&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs resource create virtual_ip2 ocf:heartbeat:IPaddr2 ip=10.xx.xx.11 cidr_netmask=24 op monitor interval=30s --group dc_nfs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs resource create dc-glusterfs ocf:heartbeat:Filesystem device=10.xx.xx.11:/&lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_vol directory=/sources fstype=glusterfs --group dc_nfs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs resource create dc-nfs-daemon ocf:heartbeat:nfsserver nfs_shared_infodir=/glusterfs/nfsinfo nfs_no_notify=&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt; --group dc_nfs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pcs resource create dc-nfs-root ocf:heartbeat:exportfs clientspec=10.0.0.0/255.0.0.0 options=rw,no_root_squash directory=/sources fsid=1 --group dc_nfs&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;heal-and-split-brain&quot;&gt;&lt;a href=&quot;#heal-and-split-brain&quot; class=&quot;headerlink&quot; title=&quot;heal and split-brain&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://staged-gluster-docs.readthedocs.io/en/release3.7.0beta1/Features/heal-info-and-split-brain-resolution/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;heal and split-brain&lt;/a&gt;&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;gluster volume heal &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_vol info&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gluster volume heal &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;_vol info split-brain&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Create-volume-for-test-env&quot;&gt;&lt;a href=&quot;#Create-volume-for-test-env&quot; class=&quot;headerlink&quot; title=&quot;Create volume for test env&quot;&gt;&lt;/a&gt;Create v
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="glusterfs" scheme="http://yoursite.com/tags/glusterfs/"/>
    
  </entry>
  
  <entry>
    <title>Hotplug and disable hyper theading core in linux</title>
    <link href="http://yoursite.com/2017/12/23/Hotplug-and-disable-hyper-theading-core-in-linux/"/>
    <id>http://yoursite.com/2017/12/23/Hotplug-and-disable-hyper-theading-core-in-linux/</id>
    <published>2017-12-23T06:01:18.000Z</published>
    <updated>2017-12-23T07:20:52.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;Found-the-half-cores&quot;&gt;&lt;a href=&quot;#Found-the-half-cores&quot; class=&quot;headerlink&quot; title=&quot;Found the half cores&quot;&gt;&lt;/a&gt;Found the half cores&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; ((i=0;i&amp;lt;$(grep -c processor /proc/cpuinfo);i++)); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  cat /sys/devices/system/cpu/cpu&lt;span class=&quot;variable&quot;&gt;$i&lt;/span&gt;/cache/index2/shared_cpu_list; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;done&lt;/span&gt; | awk -F, &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;a[$1]=$0&amp;#125; END&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  count=0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  for (i in a) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     if(count==0) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       printf i&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &amp;#125; else &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       printf &quot;,&quot;i&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       count++ &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17,4,18,5,19,6,7,8,9,10,11,12,13,0,14,1,15,2,16,3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Turn-off-the-core&quot;&gt;&lt;a href=&quot;#Turn-off-the-core&quot; class=&quot;headerlink&quot; title=&quot;Turn off the core&quot;&gt;&lt;/a&gt;Turn off the core&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 0 &amp;gt; /sys/devices/system/cpu/cpu17/online&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Found-the-half-cores&quot;&gt;&lt;a href=&quot;#Found-the-half-cores&quot; class=&quot;headerlink&quot; title=&quot;Found the half cores&quot;&gt;&lt;/a&gt;Found the half cores&lt;/h3&gt;&lt;
    
    </summary>
    
      <category term="Linux configuration" scheme="http://yoursite.com/categories/Linux-configuration/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="cpu" scheme="http://yoursite.com/tags/cpu/"/>
    
  </entry>
  
  <entry>
    <title>linux_errno</title>
    <link href="http://yoursite.com/2017/11/21/linux-errno/"/>
    <id>http://yoursite.com/2017/11/21/linux-errno/</id>
    <published>2017-11-21T06:03:54.000Z</published>
    <updated>2017-11-21T09:11:37.000Z</updated>
    
    <content type="html">&lt;p&gt;Get it from&lt;br&gt;/usr/include/asm-generic/errno.h&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#ifndef _ASM_GENERIC_ERRNO_H&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define _ASM_GENERIC_ERRNO_H&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#include &amp;lt;asm-generic/errno-base.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EDEADLK		35	/* Resource deadlock would occur */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENAMETOOLONG	36	/* File name too long */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOLCK		37	/* No record locks available */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOSYS		38	/* Function not implemented */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTEMPTY	39	/* Directory not empty */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ELOOP		40	/* Too many symbolic links encountered */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EWOULDBLOCK	EAGAIN	/* Operation would block */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOMSG		42	/* No message of desired type */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EIDRM		43	/* Identifier removed */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ECHRNG		44	/* Channel number out of range */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EL2NSYNC	45	/* Level 2 not synchronized */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EL3HLT		46	/* Level 3 halted */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EL3RST		47	/* Level 3 reset */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ELNRNG		48	/* Link number out of range */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EUNATCH		49	/* Protocol driver not attached */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOCSI		50	/* No CSI structure available */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EL2HLT		51	/* Level 2 halted */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBADE		52	/* Invalid exchange */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBADR		53	/* Invalid request descriptor */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EXFULL		54	/* Exchange full */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOANO		55	/* No anode */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBADRQC		56	/* Invalid request code */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBADSLT		57	/* Invalid slot */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EDEADLOCK	EDEADLK&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBFONT		59	/* Bad font file format */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOSTR		60	/* Device not a stream */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENODATA		61	/* No data available */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ETIME		62	/* Timer expired */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOSR		63	/* Out of streams resources */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENONET		64	/* Machine is not on the network */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOPKG		65	/* Package not installed */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EREMOTE		66	/* Object is remote */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOLINK		67	/* Link has been severed */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EADV		68	/* Advertise error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ESRMNT		69	/* Srmount error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ECOMM		70	/* Communication error on send */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EPROTO		71	/* Protocol error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EMULTIHOP	72	/* Multihop attempted */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EDOTDOT		73	/* RFS specific error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBADMSG		74	/* Not a data message */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EOVERFLOW	75	/* Value too large for defined data type */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTUNIQ	76	/* Name not unique on network */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBADFD		77	/* File descriptor in bad state */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EREMCHG		78	/* Remote address changed */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ELIBACC		79	/* Can not access a needed shared library */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ELIBBAD		80	/* Accessing a corrupted shared library */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ELIBSCN		81	/* .lib section in a.out corrupted */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ELIBMAX		82	/* Attempting to link in too many shared libraries */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ELIBEXEC	83	/* Cannot exec a shared library directly */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EILSEQ		84	/* Illegal byte sequence */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ERESTART	85	/* Interrupted system call should be restarted */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ESTRPIPE	86	/* Streams pipe error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EUSERS		87	/* Too many users */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTSOCK	88	/* Socket operation on non-socket */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EDESTADDRREQ	89	/* Destination address required */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EMSGSIZE	90	/* Message too long */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EPROTOTYPE	91	/* Protocol wrong type for socket */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOPROTOOPT	92	/* Protocol not available */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EPROTONOSUPPORT	93	/* Protocol not supported */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ESOCKTNOSUPPORT	94	/* Socket type not supported */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EOPNOTSUPP	95	/* Operation not supported on transport endpoint */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EPFNOSUPPORT	96	/* Protocol family not supported */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EAFNOSUPPORT	97	/* Address family not supported by protocol */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EADDRINUSE	98	/* Address already in use */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EADDRNOTAVAIL	99	/* Cannot assign requested address */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENETDOWN	100	/* Network is down */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENETUNREACH	101	/* Network is unreachable */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENETRESET	102	/* Network dropped connection because of reset */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ECONNABORTED	103	/* Software caused connection abort */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ECONNRESET	104	/* Connection reset by peer */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOBUFS		105	/* No buffer space available */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EISCONN		106	/* Transport endpoint is already connected */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTCONN	107	/* Transport endpoint is not connected */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ESHUTDOWN	108	/* Cannot send after transport endpoint shutdown */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ETOOMANYREFS	109	/* Too many references: cannot splice */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ETIMEDOUT	110	/* Connection timed out */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ECONNREFUSED	111	/* Connection refused */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EHOSTDOWN	112	/* Host is down */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EHOSTUNREACH	113	/* No route to host */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EALREADY	114	/* Operation already in progress */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EINPROGRESS	115	/* Operation now in progress */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ESTALE		116	/* Stale file handle */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EUCLEAN		117	/* Structure needs cleaning */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTNAM		118	/* Not a XENIX named type file */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENAVAIL		119	/* No XENIX semaphores available */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EISNAM		120	/* Is a named type file */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EREMOTEIO	121	/* Remote I/O error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EDQUOT		122	/* Quota exceeded */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOMEDIUM	123	/* No medium found */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EMEDIUMTYPE	124	/* Wrong medium type */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ECANCELED	125	/* Operation Canceled */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOKEY		126	/* Required key not available */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EKEYEXPIRED	127	/* Key has expired */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EKEYREVOKED	128	/* Key has been revoked */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EKEYREJECTED	129	/* Key was rejected by service */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/* &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; robust mutexes */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EOWNERDEAD	130	/* Owner died */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTRECOVERABLE	131	/* State not recoverable */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define ERFKILL		132	/* Operation not possible due to RF-kill */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define EHWPOISON	133	/* Memory page has hardware error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#endif&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;/usr/include/asm-generic/errno-base.h&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#ifndef _ASM_GENERIC_ERRNO_BASE_H&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define _ASM_GENERIC_ERRNO_BASE_H&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EPERM		 1	/* Operation not permitted */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOENT		 2	/* No such file or directory */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ESRCH		 3	/* No such process */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EINTR		 4	/* Interrupted system call */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EIO		 5	/* I/O error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENXIO		 6	/* No such device or address */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	E2BIG		 7	/* Argument list too long */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOEXEC		 8	/* Exec format error */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBADF		 9	/* Bad file number */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ECHILD		10	/* No child processes */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EAGAIN		11	/* Try again */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOMEM		12	/* Out of memory */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EACCES		13	/* Permission denied */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EFAULT		14	/* Bad address */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTBLK		15	/* Block device required */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EBUSY		16	/* Device or resource busy */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EEXIST		17	/* File exists */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EXDEV		18	/* Cross-device link */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENODEV		19	/* No such device */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTDIR		20	/* Not a directory */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EISDIR		21	/* Is a directory */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EINVAL		22	/* Invalid argument */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENFILE		23	/* File table overflow */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EMFILE		24	/* Too many open files */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOTTY		25	/* Not a typewriter */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ETXTBSY		26	/* Text file busy */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EFBIG		27	/* File too large */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ENOSPC		28	/* No space left on device */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ESPIPE		29	/* Illegal seek */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EROFS		30	/* Read-only file system */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EMLINK		31	/* Too many links */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EPIPE		32	/* Broken pipe */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	EDOM		33	/* Math argument out of domain of func */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define	ERANGE		34	/* Math result not representable */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#endif&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Get it from&lt;br&gt;/usr/include/asm-generic/errno.h&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="unix" scheme="http://yoursite.com/tags/unix/"/>
    
      <category term="posix" scheme="http://yoursite.com/tags/posix/"/>
    
  </entry>
  
</feed>
